(function(aZ){function aY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function aX(d,c){return function(a){return aL(d.call(this,a),c)}}function aW(d,c){return function(a){return this.lang().ordinal(d.call(this,a),c)}}function aT(){}function aS(b){ay(b),aQ(this,b)}function aR(t){var s=aE(t),r=s.year||0,q=s.month||0,p=s.week||0,o=s.day||0,n=s.hour||0,m=s.minute||0,l=s.second||0,k=s.millisecond||0;this._milliseconds=+k+1000*l+60000*m+3600000*n,this._days=+o+7*p,this._months=+q+12*r,this._data={},this._bubble()}function aQ(e,d){for(var f in d){d.hasOwnProperty(f)&&(e[f]=d[f])}return d.hasOwnProperty("toString")&&(e.toString=d.toString),d.hasOwnProperty("valueOf")&&(e.valueOf=d.valueOf),e}function aP(e){var d,f={};for(d in e){e.hasOwnProperty(d)&&ah.hasOwnProperty(d)&&(f[d]=e[d])}return f}function aM(b){return 0>b?Math.ceil(b):Math.floor(b)}function aL(g,f,j){for(var i=""+Math.abs(g),h=g>=0;i.length<f;){i="0"+i}return(h?j?"+":"":"-")+i}function aK(r,q,p,o){var n,m,l=q._milliseconds,k=q._days,j=q._months;l&&r._d.setTime(+r._d+l*p),(k||j)&&(n=r.minute(),m=r.hour()),k&&r.date(r.date()+k*p),j&&r.month(r.month()+j*p),l&&!o&&am.updateOffset(r),(k||j)&&(r.minute(n),r.hour(m))}function aJ(b){return"[object Array]"===Object.prototype.toString.call(b)}function aI(b){return"[object Date]"===Object.prototype.toString.call(b)||b instanceof Date}function aG(i,h,n){var m,l=Math.min(i.length,h.length),k=Math.abs(i.length-h.length),j=0;for(m=0;l>m;m++){(n&&i[m]!==h[m]||!n&&aC(i[m])!==aC(h[m]))&&j++}return j+k}function aF(d){if(d){var c=d.toLowerCase().replace(/(.)s$/,"$1");d=bN[d]||bD[c]||c}return d}function aE(f){var e,h,g={};for(h in f){f.hasOwnProperty(h)&&(e=aF(h),e&&(g[e]=f[h]))}return g}function aD(a){var f,e;if(0===a.indexOf("week")){f=7,e="day"}else{if(0!==a.indexOf("month")){return}f=12,e="month"}am[a]=function(m,l){var k,d,c=am.fn._lang[a],b=[];if("number"==typeof m&&(l=m,m=aZ),d=function(h){var g=am().utc().set(e,h);return c.call(am.fn._lang,g,m||"")},null!=l){return d(l)}for(k=0;f>k;k++){b.push(d(k))}return b}}function aC(e){var d=+e,f=0;return 0!==d&&isFinite(d)&&(f=d>=0?Math.floor(d):Math.ceil(d)),f}function aB(d,c){return new Date(Date.UTC(d,c+1,0)).getUTCDate()}function aA(b){return az(b)?366:365}function az(b){return b%4===0&&b%100!==0||b%400===0}function ay(d){var c;d._a&&-2===d._pf.overflow&&(c=d._a[an]<0||d._a[an]>11?an:d._a[af]<1||d._a[af]>aB(d._a[aN],d._a[an])?af:d._a[bR]<0||d._a[bR]>23?bR:d._a[bH]<0||d._a[bH]>59?bH:d._a[bt]<0||d._a[bt]>59?bt:d._a[aU]<0||d._a[aU]>999?aU:-1,d._pf._overflowDayOfYear&&(aN>c||c>af)&&(c=af),d._pf.overflow=c)}function ax(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length)),b._isValid}function aw(b){return b?b.toLowerCase().replace("_","-"):b}function au(d,c){return c._isUTC?am(d).zone(c._offset||0):am(d).local()}function bA(d,c){return c.abbr=d,ap[d]||(ap[d]=new aT),ap[d].set(c),ap[d]}function by(b){delete ap[b]}function bx(i){var h,n,m,l,k=0,j=function(d){if(!ap[d]&&bT){try{require("./lang/"+d)}catch(c){}}return ap[d]};if(!i){return am.fn._lang}if(!aJ(i)){if(n=j(i)){return n}i=[i]}for(;k<i.length;){for(l=aw(i[k]).split("-"),h=l.length,m=aw(i[k+1]),m=m?m.split("-"):null;h>0;){if(n=j(l.slice(0,h).join("-"))){return n}if(m&&m.length>=h&&aG(l,m,!0)>=h-1){break}h--}k++}return am.fn._lang}function bw(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function bv(f){var e,h,g=f.match(ar);for(e=0,h=g.length;h>e;e++){g[e]=ad[g[e]]?ad[g[e]]:bw(g[e])}return function(b){var a="";for(e=0;h>e;e++){a+=g[e] instanceof Function?g[e].call(b,f):g[e]}return a}}function bs(d,c){return d.isValid()?(c=br(c,d.lang()),a3[c]||(a3[c]=bv(c)),a3[c](d)):d.lang().invalidDate()}function br(f,e){function h(b){return e.longDateFormat(b)||b}var g=5;for(aj.lastIndex=0;g>=0&&aj.test(f);){f=f.replace(aj,h),aj.lastIndex=0,g-=1}return f}function bq(f,e){var h,g=e._strict;switch(f){case"DDDD":return bu;case"YYYY":case"GGGG":case"gggg":return g?aV:bC;case"Y":case"G":case"g":return ai;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return g?aq:bQ;case"S":if(g){return bS}case"SS":if(g){return bI}case"SSS":if(g){return bu}case"DDD":return bM;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return bn;case"a":case"A":return bx(e._l)._meridiemParse;case"X":return ag;case"Z":case"ZZ":return aO;case"T":return ao;case"SSSS":return bG;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return g?bI:aa;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return aa;default:return h=new RegExp(bg(bh(f.replace("\\","")),"i"))}}function bp(g){g=g||"";var f=g.match(aO)||[],j=f[f.length-1]||[],i=(j+"").match(at)||["-",0,0],h=+(60*i[1])+aC(i[2]);return"+"===i[0]?-h:h}function bo(g,f,j){var i,h=j._a;switch(g){case"M":case"MM":null!=f&&(h[an]=aC(f)-1);break;case"MMM":case"MMMM":i=bx(j._l).monthsParse(f),null!=i?h[an]=i:j._pf.invalidMonth=f;break;case"D":case"DD":null!=f&&(h[af]=aC(f));break;case"DDD":case"DDDD":null!=f&&(j._dayOfYear=aC(f));break;case"YY":h[aN]=aC(f)+(aC(f)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":h[aN]=aC(f);break;case"a":case"A":j._isPm=bx(j._l).isPM(f);break;case"H":case"HH":case"h":case"hh":h[bR]=aC(f);break;case"m":case"mm":h[bH]=aC(f);break;case"s":case"ss":h[bt]=aC(f);break;case"S":case"SS":case"SSS":case"SSSS":h[aU]=aC(1000*("0."+f));break;case"X":j._d=new Date(1000*parseFloat(f));break;case"Z":case"ZZ":j._useUTC=!0,j._tzm=bp(f);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":g=g.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":g=g.substr(0,2),f&&(j._w=j._w||{},j._w[g]=f)}}function bl(x){var w,v,u,t,s,r,q,p,o,n,m=[];if(!x._d){for(u=bj(x),x._w&&null==x._a[af]&&null==x._a[an]&&(s=function(a){var d=parseInt(a,10);return a?a.length<3?d>68?1900+d:2000+d:d:null==x._a[aN]?am().weekYear():x._a[aN]},r=x._w,null!=r.GG||null!=r.W||null!=r.E?q=a4(s(r.GG),r.W||1,r.E,4,1):(p=bx(x._l),o=null!=r.d?a8(r.d,p):null!=r.e?parseInt(r.e,10)+p._week.dow:0,n=parseInt(r.w,10)||1,null!=r.d&&o<p._week.dow&&n++,q=a4(s(r.gg),n,o,p._week.doy,p._week.dow)),x._a[aN]=q.year,x._dayOfYear=q.dayOfYear),x._dayOfYear&&(t=null==x._a[aN]?u[aN]:x._a[aN],x._dayOfYear>aA(t)&&(x._pf._overflowDayOfYear=!0),v=a9(t,0,x._dayOfYear),x._a[an]=v.getUTCMonth(),x._a[af]=v.getUTCDate()),w=0;3>w&&null==x._a[w];++w){x._a[w]=m[w]=u[w]}for(;7>w;w++){x._a[w]=m[w]=null==x._a[w]?2===w?1:0:x._a[w]}m[bR]+=aC((x._tzm||0)/60),m[bH]+=aC((x._tzm||0)%60),x._d=(x._useUTC?a9:ba).apply(null,m)}}function bk(d){var c;d._d||(c=aE(d._i),d._a=[c.year,c.month,c.day,c.hour,c.minute,c.second,c.millisecond],bl(d))}function bj(d){var c=new Date;return d._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function bi(t){t._a=[],t._pf.empty=!0;var s,r,q,p,o,n=bx(t._l),m=""+t._i,l=m.length,k=0;for(q=br(t._f,n).match(ar)||[],s=0;s<q.length;s++){p=q[s],r=(m.match(bq(p,t))||[])[0],r&&(o=m.substr(0,m.indexOf(r)),o.length>0&&t._pf.unusedInput.push(o),m=m.slice(m.indexOf(r)+r.length),k+=r.length),ad[p]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(p),bo(p,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(p)}t._pf.charsLeftOver=l-k,m.length>0&&t._pf.unusedInput.push(m),t._isPm&&t._a[bR]<12&&(t._a[bR]+=12),t._isPm===!1&&12===t._a[bR]&&(t._a[bR]=0),bl(t),ay(t)}function bh(b){return b.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,f,j,i,h){return f||j||i||h})}function bg(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function be(b){var l,k,j,i,h;if(0===b._f.length){return b._pf.invalidFormat=!0,b._d=new Date(0/0),void 0}for(i=0;i<b._f.length;i++){h=0,l=aQ({},b),l._pf=aY(),l._f=b._f[i],bi(l),ax(l)&&(h+=l._pf.charsLeftOver,h+=10*l._pf.unusedTokens.length,l._pf.score=h,(null==j||j>h)&&(j=h,k=l))}aQ(b,k||l)}function bd(g){var f,j,i=g._i,h=bU.exec(i);if(h){for(g._pf.iso=!0,f=0,j=bB.length;j>f;f++){if(bB[f][1].exec(i)){g._f=bB[f][0]+(h[6]||" ");break}}for(f=0,j=a1.length;j>f;f++){if(a1[f][1].exec(i)){g._f+=a1[f][0];break}}i.match(aO)&&(g._f+="Z"),bi(g)}else{g._d=new Date(i)}}function bc(a){var f=a._i,e=bK.exec(f);f===aZ?a._d=new Date:e?a._d=new Date(+e[1]):"string"==typeof f?bd(a):aJ(f)?(a._a=f.slice(0),bl(a)):aI(f)?a._d=new Date(+f):"object"==typeof f?bk(a):a._d=new Date(f)}function ba(j,i,p,o,n,m,l){var k=new Date(j,i,p,o,n,m,l);return 1970>j&&k.setFullYear(j),k}function a9(d){var c=new Date(Date.UTC.apply(null,arguments));return 1970>d&&c.setUTCFullYear(d),c}function a8(d,c){if("string"==typeof d){if(isNaN(d)){if(d=c.weekdaysParse(d),"number"!=typeof d){return null}}else{d=parseInt(d,10)}}return d}function a7(g,f,j,i,h){return h.relativeTime(f||1,!!j,g,i)}function a6(r,q,p){var o=bm(Math.abs(r)/1000),n=bm(o/60),m=bm(n/60),l=bm(m/24),k=bm(l/365),j=45>o&&["s",o]||1===n&&["m"]||45>n&&["mm",n]||1===m&&["h"]||22>m&&["hh",m]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",bm(l/30)]||1===k&&["y"]||["yy",k];return j[2]=q,j[3]=r>0,j[4]=p,a7.apply({},j)}function a5(h,g,l){var k,j=l-g,i=l-h.day();return i>j&&(i-=7),j-7>i&&(i+=7),k=am(h).add("d",i),{week:Math.ceil(k.dayOfYear()/7),year:k.year()}}function a4(j,i,p,o,n){var m,l,k=a9(j,0,1).getUTCDay();return p=null!=p?p:n,m=n-k+(k>o?7:0)-(n>k?7:0),l=7*(i-1)+(p-n)+m+1,{year:l>0?j:j-1,dayOfYear:l>0?l:aA(j-1)+l}}function bJ(e){var d=e._i,f=e._f;return null===d?am.invalid({nullInput:!0}):("string"==typeof d&&(e._i=d=bx().preparse(d)),am.isMoment(d)?(e=aP(d),e._d=new Date(+d._d)):f?aJ(f)?be(e):bi(e):bc(e),new aS(e))}function a2(d,c){am.fn[d]=am.fn[d+"s"]=function(b){var e=this._isUTC?"UTC":"";return null!=b?(this._d["set"+e+c](b),am.updateOffset(this),this):this._d["get"+e+c]()}}function bE(b){am.duration.fn[b]=function(){return this._data[b]}}function bf(d,c){am.duration.fn["as"+d]=function(){return +this/c}}function aH(e){var d=!1,f=am;"undefined"==typeof ender&&(e?(bF.moment=function(){return !d&&console&&console.warn&&(d=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),f.apply(null,arguments)},aQ(bF.moment,f)):bF.moment=am)}for(var am,ae,bP="2.5.1",bF=this,bm=Math.round,aN=0,an=1,af=2,bR=3,bH=4,bt=5,aU=6,ap={},ah={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},bT="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,bK=/^\/?Date\((\-?\d+)/i,bz=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,a0=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ar=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,aj=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aa=/\d\d?/,bM=/\d{1,3}/,bC=/\d{1,4}/,bQ=/[+\-]?\d{1,6}/,bG=/\d+/,bn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,aO=/Z|[\+\-]\d\d:?\d\d/gi,ao=/T/i,ag=/[\+\-]?\d+(\.\d{1,3})?/,bS=/\d/,bI=/\d\d/,bu=/\d{3}/,aV=/\d{4}/,aq=/[+-]?\d{6}/,ai=/[+-]?\d+/,bU=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bL="YYYY-MM-DDTHH:mm:ssZ",bB=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],a1=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],at=/([\+\-]|\d\d)/gi,ak="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ac={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},bN={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bD={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},a3={},av="DDD w W M D d".split(" "),al="M D H h m s w W".split(" "),ad={M:function(){return this.month()+1},MMM:function(b){return this.lang().monthsShort(this,b)},MMMM:function(b){return this.lang().months(this,b)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(b){return this.lang().weekdaysMin(this,b)},ddd:function(b){return this.lang().weekdaysShort(this,b)},dddd:function(b){return this.lang().weekdays(this,b)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return aL(this.year()%100,2)},YYYY:function(){return aL(this.year(),4)},YYYYY:function(){return aL(this.year(),5)},YYYYYY:function(){var d=this.year(),c=d>=0?"+":"-";return c+aL(Math.abs(d),6)},gg:function(){return aL(this.weekYear()%100,2)},gggg:function(){return aL(this.weekYear(),4)},ggggg:function(){return aL(this.weekYear(),5)},GG:function(){return aL(this.isoWeekYear()%100,2)},GGGG:function(){return aL(this.isoWeekYear(),4)},GGGGG:function(){return aL(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return aC(this.milliseconds()/100)},SS:function(){return aL(aC(this.milliseconds()/10),2)},SSS:function(){return aL(this.milliseconds(),3)},SSSS:function(){return aL(this.milliseconds(),3)},Z:function(){var d=-this.zone(),c="+";return 0>d&&(d=-d,c="-"),c+aL(aC(d/60),2)+":"+aL(aC(d)%60,2)},ZZ:function(){var d=-this.zone(),c="+";return 0>d&&(d=-d,c="-"),c+aL(aC(d/60),2)+aL(aC(d)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bO=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];av.length;){ae=av.pop(),ad[ae+"o"]=aW(ad[ae],ae)}for(;al.length;){ae=al.pop(),ad[ae+ae]=aX(ad[ae],2)}for(ad.DDDD=aX(ad.DDD,3),aQ(aT.prototype,{set:function(e){var d,f;for(f in e){d=e[f],"function"==typeof d?this[f]=d:this["_"+f]=d}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(b){return this._months[b.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(b){return this._monthsShort[b.month()]},monthsParse:function(f){var e,h,g;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++){if(this._monthsParse[e]||(h=am.utc([2000,e]),g="^"+this.months(h,"")+"|^"+this.monthsShort(h,""),this._monthsParse[e]=new RegExp(g.replace(".",""),"i")),this._monthsParse[e].test(f)){return e}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(b){return this._weekdays[b.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(b){return this._weekdaysShort[b.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(b){return this._weekdaysMin[b.day()]},weekdaysParse:function(f){var e,h,g;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++){if(this._weekdaysParse[e]||(h=am([2000,1]).day(e),g="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[e]=new RegExp(g.replace(".",""),"i")),this._weekdaysParse[e].test(f)){return e}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(d){var c=this._longDateFormat[d];return !c&&this._longDateFormat[d.toUpperCase()]&&(c=this._longDateFormat[d.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[d]=c),c},isPM:function(b){return"p"===(b+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,d,f){return e>11?f?"pm":"PM":f?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,d){var f=this._calendar[e];return"function"==typeof f?f.apply(d):f},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(g,f,j,i){var h=this._relativeTime[j];return"function"==typeof h?h(g,f,j,i):h.replace(/%d/i,g)},pastFuture:function(e,d){var f=this._relativeTime[e>0?"future":"past"];return"function"==typeof f?f(d):f.replace(/%s/i,d)},ordinal:function(b){return this._ordinal.replace("%d",b)},_ordinal:"%d",preparse:function(b){return b},postformat:function(b){return b},week:function(b){return a5(b,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),am=function(j,i,h,b){var a;return"boolean"==typeof h&&(b=h,h=aZ),a={},a._isAMomentObject=!0,a._i=j,a._f=i,a._l=h,a._strict=b,a._isUTC=!1,a._pf=aY(),bJ(a)},am.utc=function(j,i,h,b){var a;return"boolean"==typeof h&&(b=h,h=aZ),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=h,a._i=j,a._f=i,a._strict=b,a._pf=aY(),bJ(a).utc()},am.unix=function(b){return am(1000*b)},am.duration=function(i,g){var n,m,l,k=i,j=null;return am.isDuration(i)?k={ms:i._milliseconds,d:i._days,M:i._months}:"number"==typeof i?(k={},g?k[g]=i:k.milliseconds=i):(j=bz.exec(i))?(n="-"===j[1]?-1:1,k={y:0,d:aC(j[af])*n,h:aC(j[bR])*n,m:aC(j[bH])*n,s:aC(j[bt])*n,ms:aC(j[aU])*n}):(j=a0.exec(i))&&(n="-"===j[1]?-1:1,l=function(d){var c=d&&parseFloat(d.replace(",","."));return(isNaN(c)?0:c)*n},k={y:l(j[2]),M:l(j[3]),d:l(j[4]),h:l(j[5]),m:l(j[6]),s:l(j[7]),w:l(j[8])}),m=new aR(k),am.isDuration(i)&&i.hasOwnProperty("_lang")&&(m._lang=i._lang),m},am.version=bP,am.defaultFormat=bL,am.updateOffset=function(){},am.lang=function(e,d){var f;return e?(d?bA(aw(e),d):null===d?(by(e),e="en"):ap[e]||bx(e),f=am.duration.fn._lang=am.fn._lang=bx(e),f._abbr):am.fn._lang._abbr},am.langData=function(b){return b&&b._lang&&b._lang._abbr&&(b=b._lang._abbr),bx(b)},am.isMoment=function(b){return b instanceof aS||null!=b&&b.hasOwnProperty("_isAMomentObject")},am.isDuration=function(b){return b instanceof aR},ae=bO.length-1;ae>=0;--ae){aD(bO[ae])}for(am.normalizeUnits=function(b){return aF(b)},am.invalid=function(d){var c=am.utc(0/0);return null!=d?aQ(c._pf,d):c._pf.userInvalidated=!0,c},am.parseZone=function(b){return am(b).parseZone()},aQ(am.fn=aS.prototype,{clone:function(){return am(this)},valueOf:function(){return +this._d+60000*(this._offset||0)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var b=am(this).utc();return 0<b.year()&&b.year()<=9999?bs(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):bs(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var b=this;return[b.year(),b.month(),b.date(),b.hours(),b.minutes(),b.seconds(),b.milliseconds()]},isValid:function(){return ax(this)},isDSTShifted:function(){return this._a?this.isValid()&&aG(this._a,(this._isUTC?am.utc(this._a):am(this._a)).toArray())>0:!1},parsingFlags:function(){return aQ({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(d){var c=bs(this,d||am.defaultFormat);return this.lang().postformat(c)},add:function(e,d){var f;return f="string"==typeof e?am.duration(+d,e):am.duration(e,d),aK(this,f,1),this},subtract:function(e,d){var f;return f="string"==typeof e?am.duration(+d,e):am.duration(e,d),aK(this,f,-1),this},diff:function(i,h,n){var m,l,k=au(i,this),j=60000*(this.zone()-k.zone());return h=aF(h),"year"===h||"month"===h?(m=43200000*(this.daysInMonth()+k.daysInMonth()),l=12*(this.year()-k.year())+(this.month()-k.month()),l+=(this-am(this).startOf("month")-(k-am(k).startOf("month")))/m,l-=60000*(this.zone()-am(this).startOf("month").zone()-(k.zone()-am(k).startOf("month").zone()))/m,"year"===h&&(l/=12)):(m=this-k,l="second"===h?m/1000:"minute"===h?m/60000:"hour"===h?m/3600000:"day"===h?(m-j)/86400000:"week"===h?(m-j)/604800000:m),n?l:aM(l)},from:function(d,c){return am.duration(this.diff(d)).lang(this.lang()._abbr).humanize(!c)},fromNow:function(b){return this.from(am(),b)},calendar:function(){var e=au(am(),this).startOf("day"),d=this.diff(e,"days",!0),f=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.lang().calendar(f,this))},isLeapYear:function(){return az(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(d){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=d?(d=a8(d,this.lang()),this.add({d:d-c})):c},month:function(e){var d,f=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(d=this.date(),this.date(1),this._d["set"+f+"Month"](e),this.date(Math.min(d,this.daysInMonth())),am.updateOffset(this),this):this._d["get"+f+"Month"]()},startOf:function(b){switch(b=aF(b)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===b?this.weekday(0):"isoWeek"===b&&this.isoWeekday(1),this},endOf:function(b){return b=aF(b),this.startOf(b).add("isoWeek"===b?"week":b,1).subtract("ms",1)},isAfter:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+am(d).startOf(c)},isBefore:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)<+am(d).startOf(c)},isSame:function(d,c){return c=c||"ms",+this.clone().startOf(c)===+au(d,this).startOf(c)},min:function(b){return b=am.apply(null,arguments),this>b?this:b},max:function(b){return b=am.apply(null,arguments),b>this?this:b},zone:function(d){var c=this._offset||0;return null==d?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof d&&(d=bp(d)),Math.abs(d)<16&&(d=60*d),this._offset=d,this._isUTC=!0,c!==d&&aK(this,am.duration(c-d,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(b){return b=b?am(b).zone():0,(this.zone()-b)%60===0},daysInMonth:function(){return aB(this.year(),this.month())},dayOfYear:function(d){var c=bm((am(this).startOf("day")-am(this).startOf("year"))/86400000)+1;return null==d?c:this.add("d",d-c)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(d){var c=a5(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==d?c:this.add("y",d-c)},isoWeekYear:function(d){var c=a5(this,1,4).year;return null==d?c:this.add("y",d-c)},week:function(d){var c=this.lang().week(this);return null==d?c:this.add("d",7*(d-c))},isoWeek:function(d){var c=a5(this,1,4).week;return null==d?c:this.add("d",7*(d-c))},weekday:function(d){var c=(this.day()+7-this.lang()._week.dow)%7;return null==d?c:this.add("d",d-c)},isoWeekday:function(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)},get:function(b){return b=aF(b),this[b]()},set:function(d,c){return d=aF(d),"function"==typeof this[d]&&this[d](c),this},lang:function(a){return a===aZ?this._lang:(this._lang=bx(a),this)}}),ae=0;ae<ak.length;ae++){a2(ak[ae].toLowerCase().replace(/s$/,""),ak[ae])}a2("year","FullYear"),am.fn.days=am.fn.day,am.fn.months=am.fn.month,am.fn.weeks=am.fn.week,am.fn.isoWeeks=am.fn.isoWeek,am.fn.toJSON=am.fn.toISOString,aQ(am.duration.fn=aR.prototype,{_bubble:function(){var j,i,p,o,n=this._milliseconds,m=this._days,l=this._months,k=this._data;k.milliseconds=n%1000,j=aM(n/1000),k.seconds=j%60,i=aM(j/60),k.minutes=i%60,p=aM(i/60),k.hours=p%24,m+=aM(p/24),k.days=m%30,l+=aM(m/30),k.months=l%12,o=aM(l/12),k.years=o},weeks:function(){return aM(this.days()/7)},valueOf:function(){return this._milliseconds+86400000*this._days+this._months%12*2592000000+31536000000*aC(this._months/12)},humanize:function(e){var d=+this,f=a6(d,!e,this.lang());return e&&(f=this.lang().pastFuture(d,f)),this.lang().postformat(f)},add:function(e,d){var f=am.duration(e,d);return this._milliseconds+=f._milliseconds,this._days+=f._days,this._months+=f._months,this._bubble(),this},subtract:function(e,d){var f=am.duration(e,d);return this._milliseconds-=f._milliseconds,this._days-=f._days,this._months-=f._months,this._bubble(),this},get:function(b){return b=aF(b),this[b.toLowerCase()+"s"]()},as:function(b){return b=aF(b),this["as"+b.charAt(0).toUpperCase()+b.slice(1)+"s"]()},lang:am.fn.lang,toIsoString:function(){var h=Math.abs(this.years()),g=Math.abs(this.months()),l=Math.abs(this.days()),k=Math.abs(this.hours()),j=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1000);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(h?h+"Y":"")+(g?g+"M":"")+(l?l+"D":"")+(k||j||i?"T":"")+(k?k+"H":"")+(j?j+"M":"")+(i?i+"S":""):"P0D"}});for(ae in ac){ac.hasOwnProperty(ae)&&(bf(ae,ac[ae]),bE(ae.toLowerCase()))}bf("Weeks",604800000),am.duration.fn.asMonths=function(){return(+this-31536000000*this.years())/2592000000+12*this.years()},am.lang("en",{ordinal:function(e){var d=e%10,f=1===aC(e%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";return e+f}}),bT?(module.exports=am,aH(!0)):"function"==typeof define&&define.amd?define("moment",function(a,f,e){return e.config&&e.config()&&e.config().noGlobal!==!0&&aH(e.config().noGlobal===aZ),am}):aH()}).call(this);
/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(aq,aK){function ay(a){aq.extend(!0,a6,a)}function at(ca,b7,ch){function b6(c){bL?b9()&&(t(),bC(c)):cg()}function cg(){bZ=b7.theme?"ui":"fc",ca.addClass("fc"),b7.isRTL?ca.addClass("fc-rtl"):ca.addClass("fc-ltr"),b7.theme&&ca.addClass("ui-widget"),bL=aq("<div class='fc-content' style='position:relative'/>").prependTo(ca),a=new aP(ci,b7),b2=a.render(),b2&&ca.prepend(b2),b1(b7.defaultView),b7.handleWindowResize&&aq(window).resize(b3),cb()||b5()}function b5(){setTimeout(function(){!bX.start&&cb()&&bN()},0)}function cf(){bX&&(g("viewDestroy",bX,bX,bX.element),bX.triggerEventDestroy()),aq(window).unbind("resize",b3),a.destroy(),bL.remove(),ca.removeClass("fc fc-rtl ui-widget")}function b9(){return ca.is(":visible")}function cb(){return aq("body").is(":visible")}function b1(c){bX&&c==bX.name||bM(c)}function bM(c){cj++,bX&&(g("viewDestroy",bX,bX,bX.element),d(),bX.triggerEventDestroy(),bI(),bX.element.remove(),a.deactivateButton(bX.name)),a.activateButton(c),bX=new bB[c](aq("<div class='fc-view fc-view-"+c+"' style='position:relative'/>").appendTo(bL),ci),bN(),bU(),cj--}function bN(c){(!bX.start||c||bX.start>bQ||bQ>=bX.end)&&b9()&&bC(c)}function bC(c){cj++,bX.start&&(g("viewDestroy",bX,bX,bX.element),d(),be()),bI(),bX.render(bQ,c||0),s(),bU(),(bX.afterRender||bm)(),ck(),A(),g("viewRender",bX,bX,bX.element),bX.trigger("viewDisplay",bO),cj--,b0()}function bK(){b9()&&(d(),be(),t(),s(),bJ())}function t(){bY=b7.contentHeight?b7.contentHeight:b7.height?b7.height-(b2?b2.height():0)-a0(bL):Math.round(bL.width()/Math.max(b7.aspectRatio,0.5))}function s(){bY===aK&&t(),cj++,bX.setHeight(bY),bX.setWidth(bL.width()),cj--,bS=ca.outerWidth()}function b3(){if(!cj){if(bX.start){var c=++bT;setTimeout(function(){c==bT&&!cj&&b9()&&bS!=(bS=ca.outerWidth())&&(cj++,bK(),bX.trigger("windowResize",bO),cj--)},200)}else{b5()}}}function cc(){be(),i()}function bH(c){be(),bJ(c)}function bJ(c){b9()&&(bX.setEventData(bR),bX.renderEvents(bR,c),bX.trigger("eventAfterAllRender"))}function be(){bX.triggerEventDestroy(),bX.clearEvents(),bX.clearEventData()}function b0(){!b7.lazyFetching||b4(bX.visStart,bX.visEnd)?i():bJ()}function i(){bW(bX.visStart,bX.visEnd)}function R(c){bR=c,bJ()}function bD(c){bH(c)}function ck(){a.updateTitle(bX.title)}function A(){var c=new Date;c>=bX.start&&bX.end>c?a.disableButton("today"):a.enableButton("today")}function b8(c,h,f){bX.select(c,h,f===aK?!0:f)}function d(){bX&&bX.unselect()}function bP(){bN(-1)}function cd(){bN(1)}function bG(){aF(bQ,-1),bN()}function e(){aF(bQ,1),bN()}function bF(){bQ=new Date,bN()}function l(c,f,h){c instanceof Date?bQ=aL(c):aI(bQ,c,f,h),bN()}function o(c,h,f){c!==aK&&aF(bQ,c),h!==aK&&ar(bQ,h),f!==aK&&aC(bQ,f),bN()}function b(){return aL(bQ)}function bI(){bL.css({width:"100%",height:bL.height(),overflow:"hidden"})}function bU(){bL.css({width:"",height:"",overflow:""})}function w(){return bX}function bE(c,f){return f===aK?b7[c]:(("height"==c||"contentHeight"==c||"aspectRatio"==c)&&(b7[c]=f,bK()),aK)}function g(c,f){return b7[c]?b7[c].apply(f||bO,Array.prototype.slice.call(arguments,2)):aK}var ci=this;ci.options=b7,ci.render=b6,ci.destroy=cf,ci.refetchEvents=cc,ci.reportEvents=R,ci.reportEventChange=bD,ci.rerenderEvents=bH,ci.changeView=b1,ci.select=b8,ci.unselect=d,ci.prev=bP,ci.next=cd,ci.prevYear=bG,ci.nextYear=e,ci.today=bF,ci.gotoDate=l,ci.incrementDate=o,ci.formatDate=function(c,f){return an(c,f,b7)},ci.formatDates=function(c,f,h){return aO(c,f,h,b7)},ci.getDate=b,ci.getView=w,ci.option=bE,ci.trigger=g,ax.call(ci,b7,ch);var a,b2,bL,bZ,bX,bS,bY,bV,b4=ci.isFetchNeeded,bW=ci.fetchEvents,bO=ca[0],bT=0,cj=0,bQ=new Date,bR=[];aI(bQ,b7.year,b7.month,b7.date),b7.droppable&&aq(document).bind("dragstart",function(h,k){var c=h.target,j=aq(c);if(!j.parents(".fc").length){var f=b7.dropAccept;(aq.isFunction(f)?f.call(c,j):j.is(f))&&(bV=c,bX.dragStart(bV,h,k))}}).bind("dragstop",function(c,f){bV&&(bX.dragStop(bV,c,f),bV=null)})}function aP(g,b){function w(){x=b.theme?"ui":"fc";var a=b.header;return a?m=aq("<table class='fc-header' style='width:100%'/>").append(aq("<tr/>").append(k("left")).append(k("center")).append(k("right"))):aK}function e(){m.remove()}function k(d){var c=aq("<td class='fc-header-"+d+"'/>"),f=b.header[d];return f&&aq.each(f.split(" "),function(a){a>0&&c.append("<span class='fc-header-space'/>");var h;aq.each(this.split(","),function(A,r){if("title"==r){c.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),h&&h.addClass(x+"-corner-right"),h=null}else{var v;if(g[r]?v=g[r]:bB[r]&&(v=function(){o.removeClass(x+"-state-hover"),g.changeView(r)}),v){var n=b.theme?a2(b.buttonIcons,r):null,B=a2(b.buttonText,r),o=aq("<span class='fc-button fc-button-"+r+" "+x+"-state-default'>"+(n?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+n+"'/></span>":B)+"</span>").click(function(){o.hasClass(x+"-state-disabled")||v()}).mousedown(function(){o.not("."+x+"-state-active").not("."+x+"-state-disabled").addClass(x+"-state-down")}).mouseup(function(){o.removeClass(x+"-state-down")}).hover(function(){o.not("."+x+"-state-active").not("."+x+"-state-disabled").addClass(x+"-state-hover")},function(){o.removeClass(x+"-state-hover").removeClass(x+"-state-down")}).appendTo(c);aS(o),h||o.addClass(x+"-corner-left"),h=o}}}),h&&h.addClass(x+"-corner-right")}),c}function z(a){m.find("h2").html(a)}function j(a){m.find("span.fc-button-"+a).addClass(x+"-state-active")}function t(a){m.find("span.fc-button-"+a).removeClass(x+"-state-active")}function y(a){m.find("span.fc-button-"+a).addClass(x+"-state-disabled")}function p(a){m.find("span.fc-button-"+a).removeClass(x+"-state-disabled")}var q=this;q.render=w,q.destroy=e,q.updateTitle=z,q.activateButton=j,q.deactivateButton=t,q.disableButton=y,q.enableButton=p;var x,m=aq([])}function ax(be,Y){function bL(a,b){return !Q||Q>a||b>j}function ae(c,g){Q=c,j=g,d=[];var h=++p,f=O.length;q=f;for(var b=0;f>b;b++){bF(O[b],h)}}function bF(b,a){V(b,function(c){if(a==p){if(c){be.eventDataTransform&&(c=aq.map(c,be.eventDataTransform)),b.eventDataTransform&&(c=aq.map(c,b.eventDataTransform));for(var f=0;c.length>f;f++){c[f].source=b,K(c[f])}d=d.concat(c)}q--,q||bE(d)}})}function V(k,E){var n,x,s=ah.sourceFetchers;for(n=0;s.length>n;n++){if(x=s[n](k,Q,j,E),x===!0){return}if("object"==typeof x){return V(x,E),aK}}var C=k.events;if(C){aq.isFunction(C)?(bC(),C(aL(Q),aL(j),function(a){E(a),G()})):aq.isArray(C)?E(C):E()}else{var M=k.url;if(M){var A,H=k.success,y=k.error,z=k.complete;A=aq.isFunction(k.data)?k.data():k.data;var m=aq.extend({},A||{}),F=aT(k.startParam,be.startParam),D=aT(k.endParam,be.endParam);F&&(m[F]=Math.round(+Q/1000)),D&&(m[D]=Math.round(+j/1000)),bC(),aq.ajax(aq.extend({},bv,k,{data:m,success:function(a){a=a||[];var b=bb(H,this,arguments);aq.isArray(b)&&(a=b),E(a)},error:function(){bb(y,this,arguments),E()},complete:function(){bb(z,this,arguments),G()}}))}else{E()}}}function bD(a){a=bJ(a),a&&(q++,bF(a,p))}function bJ(a){return aq.isFunction(a)||aq.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a}),"object"==typeof a?(bK(a),O.push(a),a):aK}function P(a){O=aq.grep(O,function(b){return !U(b,a)}),d=aq.grep(d,function(b){return !U(b.source,a)}),bE(d)}function bI(f){var h,l,g=d.length,b=I().defaultEventEnd,k=f.start-f._start,c=f.end?f.end-(f._end||b(f)):0;for(h=0;g>h;h++){l=d[h],l._id==f._id&&l!=f&&(l.start=new Date(+l.start+k),l.end=f.end?l.end?new Date(+l.end+c):new Date(+b(l)+c):null,l.title=f.title,l.url=f.url,l.allDay=f.allDay,l.className=f.className,l.editable=f.editable,l.color=f.color,l.backgroundColor=f.backgroundColor,l.borderColor=f.borderColor,l.textColor=f.textColor,K(l))}K(f),bE(d)}function L(a,b){K(a),a.source||(b&&(J.events.push(a),a.source=J),d.push(a)),bE(d)}function bG(b){if(b){if(!aq.isFunction(b)){var c=b+"";b=function(f){return f._id==c}}d=aq.grep(d,b,!0);for(var a=0;O.length>a;a++){aq.isArray(O[a].events)&&(O[a].events=aq.grep(O[a].events,b,!0))}}else{d=[];for(var a=0;O.length>a;a++){aq.isArray(O[a].events)&&(O[a].events=[])}}bE(d)}function bH(a){return aq.isFunction(a)?aq.grep(d,a):a?(a+="",aq.grep(d,function(b){return b._id==a})):d}function bC(){B++||e("loading",null,!0,I())}function G(){--B||e("loading",null,!1,I())}function K(c){var f=c.source||{},b=aT(f.ignoreTimezone,be.ignoreTimezone);c._id=c._id||(c.id===aK?"_fc"+bA++:c.id+""),c.date&&(c.start||(c.start=c.date),delete c.date),c._start=aL(c.start=aw(c.start,b)),c.end=aw(c.end,b),c.end&&c.end<=c.start&&(c.end=null),c._end=c.end?aL(c.end):null,c.allDay===aK&&(c.allDay=aT(f.allDayDefault,be.allDayDefault)),c.className?"string"==typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[]}function bK(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=ah.sourceNormalizers,c=0;b.length>c;c++){b[c](a)}}function U(a,b){return a&&b&&X(a)==X(b)}function X(a){return("object"==typeof a?a.events||a.url:"")||a}var t=this;t.isFetchNeeded=bL,t.fetchEvents=ae,t.addEventSource=bD,t.removeEventSource=P,t.updateEvent=bI,t.renderEvent=L,t.removeEvents=bG,t.clientEvents=bH,t.normalizeEvent=K;for(var Q,j,e=t.trigger,I=t.getView,bE=t.reportEvents,J={events:[]},O=[J],p=0,q=0,B=0,d=[],Z=0;Y.length>Z;Z++){bJ(Y[Z])}}function aF(a,b,c){return a.setFullYear(a.getFullYear()+b),c||aJ(a),a}function ar(c,f,g){if(+c){var d=c.getMonth()+f,b=aL(c);for(b.setDate(1),b.setMonth(d),c.setMonth(d),g||aJ(c);c.getMonth()!=b.getMonth();){c.setDate(c.getDate()+(b>c?1:-1))}}return c}function aC(c,f,g){if(+c){var d=c.getDate()+f,b=aL(c);b.setHours(9),b.setDate(d),c.setDate(d),g||aJ(c),aM(c,b)}return c}function aM(a,b){if(+a){for(;a.getDate()!=b.getDate();){a.setTime(+a+(b>a?1:-1)*ac)}}}function ap(a,b){return a.setMinutes(a.getMinutes()+b),a}function aJ(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function aL(a,b){return b?aJ(new Date(+a)):new Date(+a)}function ao(){var a,b=0;do{a=new Date(1970,b++,1)}while(a.getHours());return a}function aG(a,b){return Math.round((aL(a,!0)-aL(b,!0))/bq)}function aI(c,e,d,b){e!==aK&&e!=c.getFullYear()&&(c.setDate(1),c.setMonth(0),c.setFullYear(e)),d!==aK&&d!=c.getMonth()&&(c.setDate(1),c.setMonth(d)),b!==aK&&c.setDate(b)}function aw(a,b){return"object"==typeof a?a:"number"==typeof a?new Date(1000*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1000*parseFloat(a)):(b===aK&&(b=!0),az(a,b)||(a?new Date(a):null)):null}function az(c,f){var h=c.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!h){return null}var d=new Date(h[1],0,1);if(f||!h[13]){var b=new Date(h[1],0,1,9,0);h[3]&&(d.setMonth(h[3]-1),b.setMonth(h[3]-1)),h[5]&&(d.setDate(h[5]),b.setDate(h[5])),aM(d,b),h[7]&&d.setHours(h[7]),h[8]&&d.setMinutes(h[8]),h[10]&&d.setSeconds(h[10]),h[12]&&d.setMilliseconds(1000*Number("0."+h[12])),aM(d,b)}else{if(d.setUTCFullYear(h[1],h[3]?h[3]-1:0,h[5]||1),d.setUTCHours(h[7]||0,h[8]||0,h[10]||0,h[12]?1000*Number("0."+h[12]):0),h[14]){var g=60*Number(h[16])+(h[18]?Number(h[18]):0);g*="-"==h[15]?1:-1,d=new Date(+d+1000*60*g)}}return d}function al(a){if("number"==typeof a){return 60*a}if("object"==typeof a){return 60*a.getHours()+a.getMinutes()}var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function an(a,b,c){return aO(a,null,b,c)}function aO(A,p,h,b){b=b||a6;var x,g,k,B,j=A,w=p,z=h.length,m="";for(x=0;z>x;x++){if(g=h.charAt(x),"'"==g){for(k=x+1;z>k;k++){if("'"==h.charAt(k)){j&&(m+=k==x+1?"'":h.substring(x+1,k),x=k);break}}}else{if("("==g){for(k=x+1;z>k;k++){if(")"==h.charAt(k)){var q=an(j,h.substring(x+1,k),b);parseInt(q.replace(/\D/,""),10)&&(m+=q),x=k;break}}}else{if("["==g){for(k=x+1;z>k;k++){if("]"==h.charAt(k)){var y=h.substring(x+1,k),q=an(j,y,b);q!=an(w,y,b)&&(m+=q),x=k;break}}}else{if("{"==g){j=p,w=A}else{if("}"==g){j=A,w=p}else{for(k=z;k>x;k--){if(B=bs[h.substring(x,k)]){j&&(m+=B(j,b)),x=k-1;break}}k==x&&j&&(m+=g)}}}}}}return m}function bi(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/86400000)/7)+1}function bk(a){return a.end?a7(a.end,a.allDay):aC(aL(a.start),1)}function a7(a,b){return a=aL(a),b||a.getHours()||a.getMinutes()?aC(a,1):aJ(a)}function bh(d,c,b){d.unbind("mouseover").mouseover(function(h){for(var g,e,f,a=h.target;a!=this;){g=a,a=a.parentNode}(e=g._fci)!==aK&&(g._fci=aK,f=c[e],b(f.event,f.element,f),aq(h.target).trigger(h)),h.stopPropagation()})}function aZ(d,g,c){for(var b,f=0;d.length>f;f++){b=aq(d[f]),b.width(Math.max(0,g-am(b,c)))}}function aX(d,g,c){for(var b,f=0;d.length>f;f++){b=aq(d[f]),b.height(Math.max(0,g-a0(b,c)))}}function am(a,b){return aD(a)+bg(a)+(b?bd(a):0)}function aD(a){return(parseFloat(aq.css(a[0],"paddingLeft",!0))||0)+(parseFloat(aq.css(a[0],"paddingRight",!0))||0)}function bd(a){return(parseFloat(aq.css(a[0],"marginLeft",!0))||0)+(parseFloat(aq.css(a[0],"marginRight",!0))||0)}function bg(a){return(parseFloat(aq.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(aq.css(a[0],"borderRightWidth",!0))||0)}function a0(a,b){return a5(a)+aU(a)+(b?ak(a):0)}function a5(a){return(parseFloat(aq.css(a[0],"paddingTop",!0))||0)+(parseFloat(aq.css(a[0],"paddingBottom",!0))||0)}function ak(a){return(parseFloat(aq.css(a[0],"marginTop",!0))||0)+(parseFloat(aq.css(a[0],"marginBottom",!0))||0)}function aU(a){return(parseFloat(aq.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(aq.css(a[0],"borderBottomWidth",!0))||0)}function bm(){}function a3(a,b){return a-b}function a8(a){return Math.max.apply(Math,a)}function aQ(a){return(10>a?"0":"")+a}function a2(c,f){if(c[f]!==aK){return c[f]}for(var d,b=f.split(/(?=[A-Z])/),e=b.length-1;e>=0;e--){if(d=c[b[e].toLowerCase()],d!==aK){return d}}return c[""]}function av(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aS(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return !1})}function bl(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function aE(p,j){var f=p.source||{},b=p.color,m=f.color,d=j("eventColor"),h=p.backgroundColor||b||f.backgroundColor||m||j("eventBackgroundColor")||d,q=p.borderColor||b||f.borderColor||m||j("eventBorderColor")||d,g=p.textColor||f.textColor||j("eventTextColor"),k=[];return h&&k.push("background-color:"+h),q&&k.push("border-color:"+q),g&&k.push("color:"+g),k.join(";")}function bb(d,g,c){if(aq.isFunction(d)&&(d=[d]),d){var b,f;for(b=0;d.length>b;b++){f=d[b].apply(g,c)||f}return f}}function aT(){for(var a=0;arguments.length>a;a++){if(arguments[a]!==aK){return arguments[a]}}}function ba(m,h){function f(w,r){r&&(ar(w,r),w.setDate(1));var c=k("firstDay"),q=aL(w,!0);q.setDate(1);var u=ar(aL(q),1),o=aL(q);aC(o,-((o.getDay()-c+7)%7)),g(o);var a=aL(u);aC(a,(7-a.getDay()+c)%7),g(a,-1,!0);var i=j(),s=Math.round(aG(a,o)/7);"fixed"==k("weekMode")&&(aC(a,7*(6-s)),s=6),b.title=l(q,k("titleFormat")),b.start=q,b.end=u,b.visStart=o,b.visEnd=a,d(s,i,!0)}var b=this;b.render=f,aR.call(b,m,h,"month");var k=b.opt,d=b.renderBasic,g=b.skipHiddenDays,j=b.getCellsPerWeek,l=h.formatDate}function aV(l,h){function f(i,q){q&&aC(i,7*q);var r=aC(aL(i),-((i.getDay()-k("firstDay")+7)%7)),c=aC(aL(r),7),p=aL(r);g(p);var a=aL(c);g(a,-1,!0);var o=m();b.start=r,b.end=c,b.visStart=p,b.visEnd=a,b.title=j(p,aC(aL(a),-1),k("titleFormat")),d(1,o,!1)}var b=this;b.render=f,aR.call(b,l,h,"basicWeek");var k=b.opt,d=b.renderBasic,g=b.skipHiddenDays,m=b.getCellsPerWeek,j=h.formatDates}function aW(d,h){function k(a,i){i&&aC(a,i),c(a,0>i?-1:1);var m=aL(a,!0),l=aC(aL(m),1);g.title=f(a,b("titleFormat")),g.start=g.visStart=m,g.end=g.visEnd=l,j(1,1,!1)}var g=this;g.render=k,aR.call(g,d,h,"basicDay");var b=g.opt,j=g.renderBasic,c=g.skipHiddenDays,f=h.formatDate}function aR(cn,cg,cb){function cs(a,b,c){cr=a,d=b,b3=c,cf(),cj||ck(),ca()}function cf(){bZ=ct("theme")?"ui":"fc",bX=ct("columnFormat"),b6=ct("weekNumbers"),bP=ct("weekNumberTitle"),bU="iso"!=ct("weekNumberCalculation")?"w":"W"}function ck(){f=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cn)}function ca(){var a=cp();bF&&bF.remove(),bF=aq(a).appendTo(cn),cu=bF.find("thead"),Y=cu.find(".fc-day-header"),cj=bF.find("tbody"),bI=cj.find("tr"),m=cj.find(".fc-day"),bH=bI.find("td:first-child"),B=bI.eq(0).find(".fc-day > div"),G=bI.eq(0).find(".fc-day-content > div"),bl(cu.add(cu.find("tr"))),bl(bI),bI.eq(0).addClass("fc-first"),bI.filter(":last").addClass("fc-last"),m.each(function(c,g){var b=bT(Math.floor(c/d),c%d);bR("dayRender",bC,b,aq(g))}),b2(m)}function cp(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+b8()+b7()+"</table>";return a}function b8(){var a,c,g=bZ+"-widget-header",b="";for(b+="<thead><tr>",b6&&(b+="<th class='fc-week-number "+g+"'>"+av(bP)+"</th>"),a=0;d>a;a++){c=bT(0,a),b+="<th class='fc-day-header fc-"+ab[c.getDay()]+" "+g+"'>"+av(b9(c,bX))+"</th>"}return b+="</tr></thead>"}function b7(){var c,h,i,g=bZ+"-widget-content",b="";for(b+="<tbody>",c=0;cr>c;c++){for(b+="<tr class='fc-week'>",b6&&(i=bT(c,0),b+="<td class='fc-week-number "+g+"'><div>"+av(b9(i,bU))+"</div></td>"),h=0;d>h;h++){i=bT(c,h),b+=cl(i)}b+="</tr>"}return b+="</tbody>"}function cl(c){var h=bZ+"-widget-content",j=bC.start.getMonth(),g=aJ(new Date),b="",i=["fc-day","fc-"+ab[c.getDay()],h];return c.getMonth()!=j&&i.push("fc-other-month"),+c==+g?i.push("fc-today",bZ+"-state-highlight"):g>c?i.push("fc-past"):i.push("fc-future"),b+="<td class='"+i.join(" ")+"' data-date='"+b9(c,"yyyy-MM-dd")+"'><div>",b3&&(b+="<div class='fc-day-number'>"+c.getDate()+"</div>"),b+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function cm(g){S=g;var i,c,b,h=S-cu.height();"variable"==ct("weekMode")?i=c=Math.floor(h/(1==cr?2:6)):(i=Math.floor(h/cr),c=h-i*(cr-1)),bH.each(function(a,j){cr>a&&(b=aq(j),b.find("> div").css("min-height",(a==cr-1?c:i)-a0(b)))})}function cd(a){bW=a,bY.clear(),bS.clear(),q=0,b6&&(q=cu.find("th.fc-week-number").outerWidth()),bG=Math.floor((bW-q)/d),aZ(Y.slice(0,-1),bG)}function b2(a){a.click(b5).mousedown(cc)}function b5(a){if(!ct("selectable")){var b=az(aq(this).data("date"));bR("dayClick",this,b,!0,a)}}function cq(c,h,j){j&&bM.build();for(var g=bV(c,h),b=0;g.length>b;b++){var i=g[b];b2(bN(i.row,i.leftCol,i.row,i.rightCol))}}function bN(c,h,e,b){var g=bM.rect(c,h,e,b,cn);return co(g,cn)}function bO(a){return aL(a)}function bE(a,b){cq(a,aC(aL(b),1),!0)}function bL(){l()}function R(c,h,i){var g=ch(c),b=m[g.row*d+g.col];bR("dayClick",b,c,h,i)}function b4(a,b){b0.start(function(c){l(),c&&bN(c.row,c.col,c.row,c.col)},b)}function ci(c,h,i){var g=b0.stop();if(l(),g){var b=bT(g);bR("drop",c,b,!0,h,i)}}function bJ(a){return aL(a.start)}function bK(a){return bY.left(a)}function bD(a){return bY.right(a)}function b1(a){return bS.left(a)}function t(a){return bS.right(a)}function bQ(a){return bI.eq(a)}var bC=this;bC.renderBasic=cs,bC.setHeight=cm,bC.setWidth=cd,bC.renderDayOverlay=cq,bC.defaultSelectionEnd=bO,bC.renderSelection=bE,bC.clearSelection=bL,bC.reportDayClick=R,bC.dragStart=b4,bC.dragStop=ci,bC.defaultEventEnd=bJ,bC.getHoverListener=function(){return b0},bC.colLeft=bK,bC.colRight=bD,bC.colContentLeft=b1,bC.colContentRight=t,bC.getIsCellAllDay=function(){return !0},bC.allDayRow=bQ,bC.getRowCnt=function(){return cr},bC.getColCnt=function(){return d},bC.getColWidth=function(){return bG},bC.getDaySegmentContainer=function(){return f},bw.call(bC,cn,cg,cb),bp.call(bC),ai.call(bC),bf.call(bC);var bF,cu,Y,cj,bI,m,bH,B,G,f,bW,S,bG,q,cr,d,b3,bM,b0,bY,bS,bZ,bX,b6,bP,bU,ct=bC.opt,bR=bC.trigger,co=bC.renderOverlay,l=bC.clearOverlays,cc=bC.daySelectionMousedown,bT=bC.cellToDate,ch=bC.dateToCell,bV=bC.rangeToSegments,b9=cg.formatDate;aS(cn.addClass("fc-grid")),bM=new bu(function(g,i){var c,b,h;Y.each(function(j,a){c=aq(a),b=c.offset().left,j&&(h[1]=b),h=[b],i[j]=h}),h[1]=b+c.outerWidth(),bI.each(function(e,a){cr>e&&(c=aq(a),b=c.offset().top,e&&(h[1]=b),h=[b],g[e]=h)}),h[1]=b+c.outerHeight()}),b0=new ad(bM),bY=new aB(function(a){return B.eq(a)}),bS=new aB(function(a){return G.eq(a)})}function bf(){function a(d,f){c.renderDayEvents(d,f)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,ag.call(c)}function bt(l,h){function f(i,q){q&&aC(i,7*q);var r=aC(aL(i),-((i.getDay()-k("firstDay")+7)%7)),c=aC(aL(r),7),p=aL(r);g(p);var a=aL(c);g(a,-1,!0);var o=m();b.title=j(p,aC(aL(a),-1),k("titleFormat")),b.start=r,b.end=c,b.visStart=p,b.visEnd=a,d(o)}var b=this;b.render=f,a9.call(b,l,h,"agendaWeek");var k=b.opt,d=b.renderAgenda,g=b.skipHiddenDays,m=b.getCellsPerWeek,j=h.formatDates}function a1(d,h){function k(a,i){i&&aC(a,i),c(a,0>i?-1:1);var m=aL(a,!0),l=aC(aL(m),1);g.title=f(a,b("titleFormat")),g.start=g.visStart=m,g.end=g.visEnd=l,j(1)}var g=this;g.render=k,a9.call(g,d,h,"agendaDay");var b=g.opt,j=g.renderAgenda,c=g.skipHiddenDays,f=h.formatDate}function a9(bM,bH,b0){function bL(a){bC=a,bR(),cj?bW():bG()}function bR(){t=cy("theme")?"ui":"fc",d=cy("isRTL"),cD=al(cy("minTime")),O=al(cy("maxTime")),cn=cy("columnFormat"),y=cy("weekNumbers"),bU=cy("weekNumberTitle"),b2="iso"!=cy("weekNumberCalculation")?"w":"W",v=cy("snapMinutes")||cy("slotMinutes")}function bG(){var m,j,c,n,g,h=t+"-widget-header",b=t+"-widget-content",k=0==cy("slotMinutes")%15;for(bW(),bI=aq("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bM),cy("allDaySlot")?(bX=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bI),m="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+cy("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",B=aq(m).appendTo(bI),T=B.find("tr"),cu(T.find("td")),bI.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):bX=aq([]),cc=aq("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bI),cB=aq("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(cc),b8=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cB),m="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",j=ao(),n=ap(aL(j),O),ap(j,cD),cL=0,c=0;n>j;c++){g=j.getMinutes(),m+="<tr class='fc-slot"+c+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(k&&g?"&nbsp;":bJ(j,cy("axisFormat")))+"</th><td class='"+b+"'><div style='position:relative'>&nbsp;</div></td></tr>",ap(j,cy("slotMinutes")),cL++}m+="</tbody></table>",ch=aq(m).appendTo(cB),cg(ch.find("td"))}function bW(){var a=bS();cj&&cj.remove(),cj=aq(a).appendTo(bM),l=cj.find("thead"),cm=l.find("th").slice(1,-1),cO=cj.find("tbody"),cA=cO.find("td").slice(0,-1),bT=cA.find("> div"),bO=cA.find(".fc-day-content > div"),cF=cA.eq(0),cM=bT.eq(0),bl(l.add(l.find("tr"))),bl(cO.add(cO.find("tr")))}function bS(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+bV()+bK()+"</table>";return a}function bV(){var c,h,i,g=t+"-widget-header",b="";for(b+="<thead><tr>",y?(c=b9(0,0),h=bJ(c,b2),d?h+=bU:h=bU+h,b+="<th class='fc-agenda-axis fc-week-number "+g+"'>"+av(h)+"</th>"):b+="<th class='fc-agenda-axis "+g+"'>&nbsp;</th>",i=0;bC>i;i++){c=b9(0,i),b+="<th class='fc-"+ab[c.getDay()]+" fc-col"+i+" "+g+"'>"+av(bJ(c,cn))+"</th>"}return b+="<th class='fc-agenda-gutter "+g+"'>&nbsp;</th></tr></thead>"}function bK(){var p,k,g,b,m,c=t+"-widget-header",j=t+"-widget-content",w=aJ(new Date),h="";for(h+="<tbody><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>",g="",k=0;bC>k;k++){p=b9(0,k),m=["fc-col"+k,"fc-"+ab[p.getDay()],j],+p==+w?m.push(t+"-state-highlight","fc-today"):w>p?m.push("fc-past"):m.push("fc-future"),b="<td class='"+m.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",g+=b}return h+=g,h+="<td class='fc-agenda-gutter "+j+"'>&nbsp;</td></tr></tbody>"}function bN(c){c===aK&&(c=cR),cR=c,cC={};var h=cO.position().top,g=cc.position().top,b=Math.min(c-h,ch.height()+g+1);cM.height(b-a0(cF)),bI.css("top",h),cc.height(b-g-1),q=ch.find("tr:first").height()+1,cH=cy("slotMinutes")/v,cx=q/cH}function bF(g){R=g,f.clear(),bZ.clear();var h=l.find("th:first");B&&(h=h.add(B.find("th:first"))),h=h.add(ch.find("th:first")),cI=0,aZ(h.width("").each(function(a,i){cI=Math.max(cI,aq(i).outerWidth())}),cI);var c=cj.find(".fc-agenda-gutter");B&&(c=c.add(B.find("th.fc-agenda-gutter")));var b=cc[0].clientWidth;cE=cc.width()-b,cE?(aZ(c,cE),c.show().prev().removeClass("fc-last")):c.hide().prev().addClass("fc-last"),cQ=Math.floor((b-cI)/bC),aZ(cm.slice(0,-1),cQ)}function bY(){function a(){cc.scrollTop(b)}var c=ao(),g=aL(c);g.setHours(cy("firstHour"));var b=b1(c,g)+1;a(),setTimeout(a,0)}function ct(){bY()}function cu(a){a.click(cs).mousedown(cf)}function cg(a){a.click(cs).mousedown(b7)}function cs(c){if(!cy("selectable")){var h=Math.min(bC-1,Math.floor((c.pageX-cj.offset().left-cI)/cQ)),j=b9(0,h),g=this.parentNode.className.match(/fc-slot(\d+)/);if(g){var b=parseInt(g[1])*cy("slotMinutes"),i=Math.floor(b/60);j.setHours(i),j.setMinutes(b%60+cD),cJ("dayClick",cA[h],j,!1,c)}else{cJ("dayClick",cA[h],j,!0,c)}}}function bE(c,h,j){j&&cv.build();for(var g=cz(c,h),b=0;g.length>b;b++){var i=g[b];cu(bP(i.row,i.leftCol,i.row,i.rightCol))}}function bP(c,h,i,g){var b=cv.rect(c,h,i,g,bI);return cN(b,bI)}function co(x,k){for(var h=0;bC>h;h++){var b=b9(0,h),p=aC(aL(b),1),g=new Date(Math.max(b,x)),j=new Date(Math.min(p,k));if(j>g){var z=cv.rect(0,h,0,h,cB),m=b1(b,g),w=b1(b,j);z.top=m,z.height=w-m,cg(cN(z,cB))}}}function cr(a){return f.left(a)}function cd(a){return bZ.left(a)}function bD(a){return f.right(a)}function b5(a){return bZ.right(a)}function cw(a){return cy("allDaySlot")&&!a.row}function ci(a){var b=b9(0,a.col),c=a.row;return cy("allDaySlot")&&c--,c>=0&&ap(b,cD+c*v),b}function b1(g,k){if(g=aL(g,!0),ap(aL(g),cD)>k){return 0}if(k>=ap(aL(g),O)){return ch.height()}var h=cy("slotMinutes"),b=60*k.getHours()+k.getMinutes()-cD,j=Math.floor(b/h),c=cC[j];return c===aK&&(c=cC[j]=ch.find("tr").eq(j).find("td div")[0].offsetTop),Math.max(0,Math.round(c-1+q*(b%h/h)))}function cb(){return T}function bQ(a){var b=aL(a.start);return a.allDay?b:ap(b,cy("defaultEventMinutes"))}function cl(a,b){return b?aL(a):ap(aL(a),cy("slotMinutes"))}function b4(a,b,c){c?cy("allDaySlot")&&bE(a,aC(aL(b),1),!0):ck(a,b)}function ck(k,p){var j=cy("selectHelper");if(cv.build(),j){var c=cK(k).col;if(c>=0&&bC>c){var m=cv.rect(0,c,0,c,cB),g=b1(k,k),h=b1(k,p);if(h>g){if(m.top=g,m.height=h-g,m.left+=2,m.width-=5,aq.isFunction(j)){var b=j(k,p);b&&(m.position="absolute",cP=aq(b).css(m).appendTo(cB))}else{m.isStart=!0,m.isEnd=!0,cP=aq(e({title:"",start:k,end:p,className:["fc-select-helper"],editable:!1},m)),cP.css("opacity",cy("dragOpacity"))}cP&&(cg(cP),cB.append(cP),aZ(cP,m.width,!0),aX(cP,m.height,!0))}}}else{co(k,p)}}function b6(){cp(),cP&&(cP.remove(),cP=null)}function b7(a){if(1==a.which&&cy("selectable")){S(a);var b;u.start(function(g,i){if(b6(),g&&g.col==i.col&&!cw(g)){var h=ci(i),c=ci(g);b=[h,ap(aL(h),v),c,ap(aL(c),v)].sort(a3),ck(b[0],b[3])}else{b=null}},a),aq(document).one("mouseup",function(c){u.stop(),b&&(+b[0]==+b[1]&&b3(b[0],!1,c),Y(b[0],b[3],!1,c))})}}function b3(a,b,c){cJ("dayClick",cA[cK(a).col],a,b,c)}function cq(a,b){u.start(function(c){if(cp(),c){if(cw(c)){bP(c.row,c.col,c.row,c.col)}else{var g=ci(c),h=ap(aL(g),cy("defaultEventMinutes"));co(g,h)}}},b)}function cG(a,c,g){var b=u.stop();cp(),b&&cJ("drop",a,ci(b),cw(b),c,g)}var ca=this;ca.renderAgenda=bL,ca.setWidth=bF,ca.setHeight=bN,ca.afterRender=ct,ca.defaultEventEnd=bQ,ca.timePosition=b1,ca.getIsCellAllDay=cw,ca.allDayRow=cb,ca.getCoordinateGrid=function(){return cv},ca.getHoverListener=function(){return u},ca.colLeft=cr,ca.colRight=bD,ca.colContentLeft=cd,ca.colContentRight=b5,ca.getDaySegmentContainer=function(){return bX},ca.getSlotSegmentContainer=function(){return b8},ca.getMinMinute=function(){return cD},ca.getMaxMinute=function(){return O},ca.getSlotContainer=function(){return cB},ca.getRowCnt=function(){return 1},ca.getColCnt=function(){return bC},ca.getColWidth=function(){return cQ},ca.getSnapHeight=function(){return cx},ca.getSnapMinutes=function(){return v},ca.defaultSelectionEnd=cl,ca.renderDayOverlay=bE,ca.renderSelection=b4,ca.clearSelection=b6,ca.reportDayClick=b3,ca.dragStart=cq,ca.dragStop=cG,bw.call(ca,bM,bH,b0),bp.call(ca),ai.call(ca),bj.call(ca);var cj,l,cm,cO,cA,bT,bO,cF,cM,bI,bX,B,T,cc,cB,b8,ch,cP,R,cR,cI,cQ,cE,q,v,cH,cx,bC,cL,cv,u,f,bZ,t,d,cD,O,cn,y,bU,b2,cy=ca.opt,cJ=ca.trigger,cN=ca.renderOverlay,cp=ca.clearOverlays,Y=ca.reportSelection,S=ca.unselect,cf=ca.daySelectionMousedown,e=ca.slotSegHtml,b9=ca.cellToDate,cK=ca.dateToCell,cz=ca.rangeToSegments,bJ=bH.formatDate,cC={};aS(bM.addClass("fc-agenda")),cv=new bu(function(m,h){function b(a){return Math.max(j,Math.min(p,a))}var w,g,k;cm.each(function(c,a){w=aq(a),g=w.offset().left,c&&(k[1]=g),k=[g],h[c]=k}),k[1]=g+w.outerWidth(),cy("allDaySlot")&&(w=T,g=w.offset().top,m[0]=[g,g+w.outerHeight()]);for(var z=cB.offset().top,j=cc.offset().top,p=j+cc.outerHeight(),x=0;cL*cH>x;x++){m.push([b(z+cx*x),b(z+cx*(x+1))])}}),u=new ad(cv),f=new aB(function(a){return bT.eq(a)}),bZ=new aB(function(a){return bO.eq(a)})}function bj(){function bX(b,f){var k,c=b.length,g=[],a=[];for(k=0;c>k;k++){b[k].allDay?g.push(b[k]):a.push(b[k])}bP("allDaySlot")&&(l(g,f),bZ()),bT(b5(a),f)}function bU(){bG().empty(),bI().empty()}function b5(w){var i,b,z,B,k,y=h(),p=q(),A=bO(),m=aq.map(w,b0),o=[];for(b=0;y>b;b++){for(i=E(0,b),ap(i,p),k=bW(w,m,i,ap(aL(i),A-p)),k=aa(k),z=0;k.length>z;z++){B=k[z],B.col=b,o.push(B)}}return o}function bW(G,z,k,b){var B,g,p,H,m,A,F,y,D=[],w=G.length;for(B=0;w>B;B++){g=G[B],p=g.start,H=z[B],H>k&&b>p&&(k>p?(m=aL(k),F=!1):(m=p,F=!0),H>b?(A=aL(b),y=!1):(A=H,y=!0),D.push({event:g,start:m,end:A,isStart:F,isEnd:y}))}return D.sort(aN)}function b0(a){return a.end?aL(a.end):ap(aL(a.start),bP("defaultEventMinutes"))}function bT(L,I){var Y,K,Q,B,O,A,W,z,U,V,J,N,X,F,G,w,f=L.length,c="",P=bI(),y=bP("isRTL");for(Y=0;f>Y;Y++){K=L[Y],Q=K.event,B=bM(K.start,K.start),O=bM(K.start,K.end),A=bC(K.col),W=b6(K.col),z=W-A,W-=0.025*z,z=W-A,U=z*(K.forwardCoord-K.backwardCoord),bP("slotEventOverlap")&&(U=Math.max(2*(U-10),U)),y?(J=W-K.backwardCoord*z,V=J-U):(V=A+K.backwardCoord*z,J=V+U),V=Math.max(V,A),J=Math.min(J,W),U=J-V,K.top=B,K.left=V,K.outerWidth=U,K.outerHeight=O-B,c+=b3(Q,K)}for(P[0].innerHTML=c,N=P.children(),Y=0;f>Y;Y++){K=L[Y],Q=K.event,X=aq(N[Y]),F=bR("eventRender",Q,Q,X),F===!1?X.remove():(F&&F!==!0&&(X.remove(),X=aq(F).css({position:"absolute",top:K.top,left:K.left}).appendTo(P)),K.element=X,Q._id===I?b2(Q,X,K):X[0]._fci=Y,t(Q,X))}for(bh(P,L,b2),Y=0;f>Y;Y++){K=L[Y],(X=K.element)&&(K.vsides=a0(X,!0),K.hsides=am(X,!0),G=X.find(".fc-event-title"),G.length&&(K.contentTop=G[0].offsetTop))}for(Y=0;f>Y;Y++){K=L[Y],(X=K.element)&&(X[0].style.width=Math.max(0,K.outerWidth-K.hsides)+"px",w=Math.max(0,K.outerHeight-K.vsides),X[0].style.height=w+"px",Q=K.event,K.contentTop!==aK&&10>w-K.contentTop&&(X.find("div.fc-event-time").text(bQ(Q.start,bP("timeFormat"))+" - "+Q.title),X.find("div.fc-event-title").remove()),bR("eventAfterRender",Q,Q,X))}}function b3(c,g){var k="<",f=c.url,b=aE(c,bP),i=["fc-event","fc-event-vert"];return b4(c)&&i.push("fc-event-draggable"),g.isStart&&i.push("fc-event-start"),g.isEnd&&i.push("fc-event-end"),i=i.concat(c.className),c.source&&(i=i.concat(c.source.className||[])),k+=f?"a href='"+av(c.url)+"'":"div",k+=" class='"+i.join(" ")+"' style='position:absolute;top:"+g.top+"px;left:"+g.left+"px;"+b+"'><div class='fc-event-inner'><div class='fc-event-time'>"+av(bJ(c.start,c.end,bP("timeFormat")))+"</div><div class='fc-event-title'>"+av(c.title||"")+"</div></div><div class='fc-event-bg'></div>",g.isEnd&&bK(c)&&(k+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),k+="</"+(f?"a":"div")+">"}function b2(a,c,f){var b=c.find("div.fc-event-time");b4(a)&&b1(a,c,b),f.isEnd&&bK(a)&&bV(a,c,b),x(a,c)}function bS(I,B,w){function b(){D||(B.width(F).height("").draggable("option","grid",null),D=!0)}var F,m,y,J=w.isStart,D=!0,H=T(),A=bL(),G=bF(),z=j(),k=q();B.draggable({opacity:bP("dragOpacity","month"),revertDuration:bP("dragRevertDuration"),start:function(c,a){bR("eventDragStart",B,I,c,a),e(I,B),F=B.width(),H.start(function(o,f){if(bD(),o){m=!1;var g=E(0,f.col),i=E(0,o.col);y=aG(i,g),o.row?J?D&&(B.width(A-10),aX(B,G*Math.round((I.end?(I.end-I.start)/af:bP("defaultEventMinutes"))/z)),B.draggable("option","grid",[A,1]),D=!1):m=!0:(C(aC(aL(I.start),y),aC(bk(I),y)),b()),m=m||D&&!y}else{b(),m=!0}B.draggable("option","revert",m)},c,"drag")},stop:function(g,c){if(H.stop(),bD(),bR("eventDragStop",B,I,g,c),m){b(),B.css("filter",""),u(I,B)}else{var f=0;D||(f=Math.round((B.offset().top-bE().offset().top)/G)*z+k-(60*I.start.getHours()+I.start.getMinutes())),bH(this,I,y,f,D,g,c)}}})}function b1(F,U,L){function I(){bD(),G&&(Q?(L.hide(),U.draggable("option","grid",null),C(aC(aL(F.start),W),aC(bk(F),W))):(X(H),L.css("display",""),U.draggable("option","grid",[m,z])))}function X(f){var c,b=ap(aL(F.start),f);F.end&&(c=ap(aL(F.end),f)),L.text(bJ(b,c,bP("timeFormat")))}var K,O,G,V,Q,A,P,J,W,H,y,B=bY.getCoordinateGrid(),w=h(),m=bL(),z=bF(),N=j();U.draggable({scroll:!1,grid:[m,z],axis:1==w?"y":!1,opacity:bP("dragOpacity"),revertDuration:bP("dragRevertDuration"),start:function(b,a){bR("eventDragStart",U,F,b,a),e(F,U),B.build(),K=U.position(),O=B.cell(b.pageX,b.pageY),G=V=!0,Q=A=R(O),P=J=0,W=0,H=y=0},drag:function(g,k){var c=B.cell(g.pageX,g.pageY);if(G=!!c){if(Q=R(c),P=Math.round((k.position.left-K.left)/m),P!=J){var b=E(0,O.col),f=O.col+P;f=Math.max(0,f),f=Math.min(w-1,f);var i=E(0,f);W=aG(i,b)}Q||(H=Math.round((k.position.top-K.top)/z)*N)}(G!=V||Q!=A||P!=J||H!=y)&&(I(),V=G,A=Q,J=P,y=H),U.draggable("option","revert",!G)},stop:function(c,b){bD(),bR("eventDragStop",U,F,c,b),G&&(Q||W||H)?bH(this,F,W,Q?0:H,Q,c,b):(G=!0,Q=!1,P=0,W=0,H=0,I(),U.css("filter",""),U.css(K),u(F,U))}})}function bV(f,k,p){var g,b,m=bF(),c=j();k.resizable({handles:{s:".ui-resizable-handle"},grid:m,start:function(i,a){g=b=0,e(f,k),bR("eventResizeStart",this,f,i,a)},resize:function(i,a){g=Math.round((Math.max(m,k.height())-a.originalSize.height)/m),g!=b&&(p.text(bJ(f.start,g||f.end?ap(be(f),c*g):null,bP("timeFormat"))),b=g)},stop:function(o,i){bR("eventResizeStop",this,f,o,i),g?bN(this,f,0,c*g,o,i):u(f,k)}})}var bY=this;bY.renderEvents=bX,bY.clearEvents=bU,bY.slotSegHtml=b3,ag.call(bY);var bP=bY.opt,bR=bY.trigger,b4=bY.isEventDraggable,bK=bY.isEventResizable,be=bY.eventEnd,x=bY.eventElementHandlers,bZ=bY.setHeight,bG=bY.getDaySegmentContainer,bI=bY.getSlotSegmentContainer,T=bY.getHoverListener,bO=bY.getMaxMinute,q=bY.getMinMinute,bM=bY.timePosition,R=bY.getIsCellAllDay,bC=bY.colContentLeft,b6=bY.colContentRight,E=bY.cellToDate,h=bY.getColCnt,bL=bY.getColWidth,bF=bY.getSnapHeight,j=bY.getSnapMinutes,bE=bY.getSlotContainer,t=bY.reportEventElement,u=bY.showEvents,e=bY.hideEvents,bH=bY.eventDrop,bN=bY.eventResize,C=bY.renderDayOverlay,bD=bY.clearOverlays,l=bY.renderDayEvents,d=bY.calendar,bQ=d.formatDate,bJ=d.formatDates;bY.draggableDayEvent=bS}function aa(a){var c,d=bc(a),b=d[0];if(by(d),b){for(c=0;b.length>c;c++){bn(b[c])}for(c=0;b.length>c;c++){aH(b[c],0,0)}}return aA(d)}function bc(c){var f,g,d,b=[];for(f=0;c.length>f;f++){for(g=c[f],d=0;b.length>d&&br(g,b[d]).length;d++){}(b[d]||(b[d]=[])).push(g)}return b}function by(c){var f,h,d,b,g;for(f=0;c.length>f;f++){for(h=c[f],d=0;h.length>d;d++){for(b=h[d],b.forwardSegs=[],g=f+1;c.length>g;g++){br(b,c[g],b.forwardSegs)}}}}function bn(c){var f,d,b=c.forwardSegs,e=0;if(c.forwardPressure===aK){for(f=0;b.length>f;f++){d=b[f],bn(d),e=Math.max(e,1+d.forwardPressure)}c.forwardPressure=e}}function aH(c,f,d){var b,e=c.forwardSegs;if(c.forwardCoord===aK){for(e.length?(e.sort(au),aH(e[0],f+1,d),c.forwardCoord=e[0].backwardCoord):c.forwardCoord=1,c.backwardCoord=c.forwardCoord-(c.forwardCoord-d)/(f+1),b=0;e.length>b;b++){aH(e[b],0,c.forwardCoord)}}}function aA(c){var f,g,d,b=[];for(f=0;c.length>f;f++){for(g=c[f],d=0;g.length>d;d++){b.push(g[d])}}return b}function br(a,c,d){d=d||[];for(var b=0;c.length>b;b++){bx(a,c[b])&&d.push(c[b])}return d}function bx(a,b){return a.end>b.start&&a.start<b.end}function au(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||aN(a,b)}function aN(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function bw(b1,bX,ca){function b0(b,c){var a=l[b];return aq.isPlainObject(a)?a2(a,c||ca):a}function b5(a,b){return bX.trigger.apply(bX,[a,b||cb].concat(Array.prototype.slice.call(arguments,2),[cb]))}function bW(a){var b=a.source||{};return aT(a.startEditable,b.startEditable,b0("eventStartEditable"),a.editable,b.editable,b0("editable"))&&!b0("disableDragging")}function b8(a){var b=a.source||{};return aT(a.durationEditable,b.durationEditable,b0("eventDurationEditable"),a.editable,b.editable,b0("editable"))&&!b0("disableResizing")}function b7(a){b4={};var c,f,b=a.length;for(c=0;b>c;c++){f=a[c],b4[f._id]?b4[f._id].push(f):b4[f._id]=[f]}}function bV(){b4={},bH={},bG=[]}function b6(a){return a.end?aL(a.end):bY(a)}function bZ(a,b){bG.push({event:a,element:b}),bH[a._id]?bH[a._id].push(b):bH[a._id]=[b]}function b2(){aq.each(bG,function(a,b){cb.trigger("eventDestroy",b.event,b.event,b.element)})}function bS(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?aK:b5("eventClick",this,a,c)}).hover(function(c){b5("eventMouseover",this,a,c)},function(c){b5("eventMouseout",this,a,c)})}function bU(a,b){bM(a,b,"show")}function b9(a,b){bM(a,b,"hide")}function bM(c,g,j){var f,b=bH[c._id],i=b.length;for(f=0;i>f;f++){g&&b[f][0]==g[0]||b[f][j]()}}function bN(p,j,g,b,m,f,q){var i=j.allDay,k=j._id;bL(b4[k],g,b,m),b5("eventDrop",p,j,g,b,m,function(){bL(b4[k],-g,-b,i),bO(k)},f,q),bO(k)}function bD(c,i,k,g,b,j){var f=i._id;P(b4[f],k,g),b5("eventResize",c,i,k,g,function(){P(b4[f],-k,-g),bO(f)},b,j),bO(f)}function bL(f,m,j,b){j=j||0;for(var k,c=f.length,g=0;c>g;g++){k=f[g],b!==aK&&(k.allDay=b),ap(aC(k.start,m,!0),j),k.end&&(k.end=ap(aC(k.end,m,!0),j)),e(k,l)}}function P(c,g,j){j=j||0;for(var f,b=c.length,i=0;b>i;i++){f=c[i],f.end=ap(aC(b6(f),g,!0),j),e(f,l)}}function u(a){return"object"==typeof a&&(a=a.getDay()),bJ[a]}function bT(){return t}function b3(a,b,c){for(b=b||1;bJ[(a.getDay()+(c?b:0)+7)%7];){aC(a,b)}}function bI(){var a=bK.apply(null,arguments),b=X(a),c=bC(b);return c}function bK(c,g){var j=cb.getColCnt(),f=bF?-1:1,b=bF?j-1:0;"object"==typeof c&&(g=c.col,c=c.row);var i=c*j+(g*f+b);return i}function X(a){var b=cb.visStart.getDay();return a+=bQ[b],7*Math.floor(a/t)+ae[(a%t+t)%t]-b}function bC(a){var b=aL(cb.visStart);return aC(b,a),b}function bR(a){var c=h(a),f=bP(c),b=be(f);return b}function h(a){return aG(a,cb.visStart)}function bP(a){var b=cb.visStart.getDay();return a+=b,Math.floor(a/7)*t+bQ[(a%7+7)%7]-bQ[b]}function be(c){var g=cb.getColCnt(),j=bF?-1:1,f=bF?g-1:0,b=Math.floor(c/g),i=(c%g+g)%g*j+f;return{row:b,col:i}}function bE(q,I){for(var B=cb.getRowCnt(),x=cb.getColCnt(),L=[],A=h(q),E=h(I),w=bP(A),D=bP(E)-1,K=0;B>K;K++){var k=K*x,H=k+x-1,J=Math.max(w,k),j=Math.min(D,H);if(j>=J){var F=be(J),G=be(j),z=[F.col,G.col].sort(),C=X(J)==A,b=X(j)+1==E;L.push({row:K,leftCol:z[0],rightCol:z[1],isStart:C,isEnd:b})}}return L}var cb=this;cb.element=b1,cb.calendar=bX,cb.name=ca,cb.opt=b0,cb.trigger=b5,cb.isEventDraggable=bW,cb.isEventResizable=b8,cb.setEventData=b7,cb.clearEventData=bV,cb.eventEnd=b6,cb.reportEventElement=bZ,cb.triggerEventDestroy=b2,cb.eventElementHandlers=bS,cb.showEvents=bU,cb.hideEvents=b9,cb.eventDrop=bN,cb.eventResize=bD;var bY=cb.defaultEventEnd,e=bX.normalizeEvent,bO=bX.reportEventChange,b4={},bH={},bG=[],l=bX.options;cb.isHiddenDay=u,cb.skipHiddenDays=b3,cb.getCellsPerWeek=bT,cb.dateToCell=bR,cb.dateToDayOffset=h,cb.dayOffsetToCellOffset=bP,cb.cellOffsetToCell=be,cb.cellToDate=bI,cb.cellToCellOffset=bK,cb.cellOffsetToDayOffset=X,cb.dayOffsetToDate=bC,cb.rangeToSegments=bE;var t,d=b0("hiddenDays")||[],bJ=[],bQ=[],ae=[],bF=b0("isRTL");(function(){b0("weekends")===!1&&d.push(0,6);for(var a=0,b=0;7>a;a++){bQ[a]=b,bJ[a]=-1!=aq.inArray(a,d),bJ[a]||(ae[b]=a,b++)}if(t=b,!t){throw"invalid hiddenDays"}})()}function ag(){function b8(a,b){var c=bZ(a,!1,!0);a4(c,function(f,g){bD(f.event,g)}),bV(c,b),a4(c,function(f,g){b4("eventAfterRender",f.event,f.event,g)})}function b2(c,f,i){var b=bZ([c],!0,!1),g=[];return a4(b,function(a,e){a.row===f&&e.css("top",i),g.push(e[0])}),g}function bZ(g,p,f){var k,a,m=h(),i=p?aq("<div/>"):m,b=cc(g);return b5(b),k=bY(b),i[0].innerHTML=k,a=i.children(),p&&m.append(a),bX(b,a),a4(b,function(c,n){c.hsides=am(n,!0)}),a4(b,function(c,n){n.width(Math.max(0,c.outerWidth-c.hsides))}),a4(b,function(c,n){c.outerHeight=n.outerHeight(!0)}),b7(b,f),b}function cc(a){for(var c=[],f=0;a.length>f;f++){var b=b1(a[f]);c.push.apply(c,b)}return c}function b1(c){for(var g=c.start,i=bk(c),f=cb(g,i),b=0;f.length>b;b++){f[b].event=c}return f}function b5(f){for(var m=C("isRTL"),u=0;f.length>u;u++){var k=f[u],b=(m?k.isEnd:k.isStart)?t:j,p=(m?k.isStart:k.isEnd)?x:bG,c=b(k.leftCol),g=p(k.rightCol);k.left=c,k.outerWidth=g-c}}function bY(a){for(var b="",c=0;a.length>c;c++){b+=b9(a[c])}return b}function b9(f){var k="",p=C("isRTL"),g=f.event,b=g.url,m=["fc-event","fc-event-hori"];bI(g)&&m.push("fc-event-draggable"),f.isStart&&m.push("fc-event-start"),f.isEnd&&m.push("fc-event-end"),m=m.concat(g.className),g.source&&(m=m.concat(g.source.className||[]));var c=aE(g,C);return k+=b?"<a href='"+av(b)+"'":"<div",k+=" class='"+m.join(" ")+"' style='position:absolute;left:"+f.left+"px;"+c+"'><div class='fc-event-inner'>",!g.allDay&&f.isStart&&(k+="<span class='fc-event-time'>"+av(bJ(g.start,g.end,C("timeFormat")))+"</span>"),k+="<span class='fc-event-title'>"+av(g.title||"")+"</span></div>",f.isEnd&&bK(g)&&(k+="<div class='ui-resizable-handle ui-resizable-"+(p?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),k+="</"+(b?"a":"div")+">"}function bX(k,p){for(var g=0;k.length>g;g++){var b=k[g],m=b.event,c=p.eq(g),f=b4("eventRender",m,m,c);f===!1?c.remove():(f&&f!==!0&&(f=aq(f).css({position:"absolute",left:b.left}),c.replaceWith(f),c=f),b.element=c)}}function b7(c,g){var k=bW(c),f=bT(),b=[];if(g){for(var i=0;f.length>i;i++){f[i].height(k[i])}}for(var i=0;f.length>i;i++){b.push(f[i].position().top)}a4(c,function(a,m){m.css("top",b[a.row]+a.top)})}function bW(z){for(var p=be(),g=bN(),b=[],w=b6(z),f=0;p>f;f++){for(var m=w[f],A=[],k=0;g>k;k++){A.push(0)}for(var v=0;m.length>v;v++){var y=m[v];y.top=a8(A.slice(y.leftCol,y.rightCol+1));for(var k=y.leftCol;y.rightCol>=k;k++){A[k]=y.top+y.outerHeight}}b.push(a8(A))}return b}function b6(c){var g,k,f,b=be(),i=[];for(g=0;c.length>g;g++){k=c[g],f=k.row,k.element&&(i[f]?i[f].push(k):i[f]=[k])}for(f=0;b>f;f++){i[f]=b0(i[f]||[])}return i}function b0(a){for(var c=[],f=b3(a),b=0;f.length>b;b++){c.push.apply(c,f[b])}return c}function b3(c){c.sort(bo);for(var g=[],i=0;c.length>i;i++){for(var f=c[i],b=0;g.length>b&&aj(f,g[b]);b++){}g[b]?g[b].push(f):g[b]=[f]}return g}function bT(){var a,b=be(),c=[];for(a=0;b>a;a++){c[a]=bH(a).find("div.fc-day-content > div")}return c}function bV(a,b){var c=h();a4(a,function(f,i,g){var e=f.event;e._id===b?ca(e,i,f):i[0]._fci=g}),bh(c,a,ca)}function ca(a,b,c){bI(a)&&E.draggableDayEvent(a,b,c),c.isEnd&&bK(a)&&E.resizableDayEvent(a,b,c),bS(a,b)}function bM(a,c){var f,b=l();c.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(e,g){b4("eventDragStart",c,a,e,g),bO(a,c),b.start(function(p,k,u,m){if(c.draggable("option","revert",!p||!u&&!m),Y(),p){var n=d(k),v=d(p);f=aG(v,n),bP(aC(aL(a.start),f),aC(bk(a),f))}else{f=0}},e,"drag")},stop:function(e,g){b.stop(),Y(),b4("eventDragStop",c,a,e,g),f?bC(this,a,f,0,a.allDay,e,g):(c.css("filter",""),q(a,c))}})}function bE(m,k,b){var n=C("isRTL"),f=n?"w":"e",g=k.find(".ui-resizable-"+f),p=!1;aS(k),k.mousedown(function(a){a.preventDefault()}).click(function(a){p&&(a.preventDefault(),a.stopImmediatePropagation())}),g.mousedown(function(z){function i(o){b4("eventResizeStop",this,m,o),aq("body").css("cursor",""),c.stop(),Y(),w&&cd(this,m,w,0,o),setTimeout(function(){p=!1},0)}if(1==z.which){p=!0;var c=l();be(),bN();var w,y,a=k.css("top"),e=aq.extend({},m),r=bQ(bR(m.start));bF(),aq("body").css("cursor",f+"-resize").one("mouseup",i),b4("eventResizeStart",this,m,z),c.start(function(B,D){if(B){var A=bU(D),F=bU(B);if(F=Math.max(F,r),w=bL(F)-bL(A)){e.end=aC(L(m),w,!0);var v=y;y=b2(e,b.row,a),y=aq(y),y.find("*").css("cursor",f+"-resize"),v&&v.remove(),bO(m)}else{y&&(q(m),y.remove(),y=null)}Y(),bP(m.start,aC(bk(m),w))}},z)}})}var E=this;E.renderDayEvents=b8,E.draggableDayEvent=bM,E.resizableDayEvent=bE;var C=E.opt,b4=E.trigger,bI=E.isEventDraggable,bK=E.isEventResizable,L=E.eventEnd,bD=E.reportEventElement,bS=E.eventElementHandlers,q=E.showEvents,bO=E.hideEvents,bC=E.eventDrop,cd=E.eventResize,be=E.getRowCnt,bN=E.getColCnt;E.getColWidth;var bH=E.allDayRow,j=E.colLeft,bG=E.colRight,t=E.colContentLeft,x=E.colContentRight;E.dateToCell;var h=E.getDaySegmentContainer,bJ=E.calendar.formatDates,bP=E.renderDayOverlay,Y=E.clearOverlays,bF=E.clearSelection,l=E.getHoverListener,cb=E.rangeToSegments,d=E.cellToDate,bU=E.cellToCellOffset,bL=E.cellOffsetToDayOffset,bR=E.dateToDayOffset,bQ=E.dayOffsetToCellOffset}function aj(a,c){for(var d=0;c.length>d;d++){var b=c[d];if(b.leftCol<=a.rightCol&&b.rightCol>=a.leftCol){return !0}}return !1}function a4(c,f){for(var g=0;c.length>g;g++){var d=c[g],b=d.element;b&&f(d,b,g)}}function bo(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function ai(){function m(f,i,c){g(),i||(i=h(f,c)),p(f,i,c),b(f,i,c)}function g(a){k&&(k=!1,t(),v("unselect",null,a))}function b(a,f,i,c){k=!0,v("select",null,a,f,i,c)}function q(r){var i=d.cellToDate,n=d.getIsCellAllDay,c=d.getHoverListener(),o=d.reportDayClick;if(1==r.which&&j("selectable")){g(r);var u;c.start(function(a,f){t(),a&&n(a)?(u=[i(f),i(a)].sort(a3),p(u[0],u[1],!0)):u=null},r),aq(document).one("mouseup",function(a){c.stop(),u&&(+u[0]==+u[1]&&o(u[0],!0,a),b(u[0],u[1],!0,a))})}}var d=this;d.select=m,d.unselect=g,d.reportSelection=b,d.daySelectionMousedown=q;var j=d.opt,v=d.trigger,h=d.defaultSelectionEnd,p=d.renderSelection,t=d.clearSelection,k=!1;j("selectable")&&j("unselectAuto")&&aq(document).mousedown(function(c){var a=j("unselectCancel");a&&aq(c.target).parents(a).length||g(c)})}function bp(){function d(h,i){var a=f.shift();return a||(a=aq("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=i[0]&&a.appendTo(i),b.push(a.css(h).show()),a}function g(){for(var a;a=b.shift();){f.push(a.hide().unbind())}}var c=this;c.renderOverlay=d,c.clearOverlays=g;var b=[],f=[]}function bu(a){var c,d,b=this;b.build=function(){c=[],d=[],a(c,d)},b.cell=function(h,k){var f,m=c.length,g=d.length,j=-1,e=-1;for(f=0;m>f;f++){if(k>=c[f][0]&&c[f][1]>k){j=f;break}}for(f=0;g>f;f++){if(h>=d[f][0]&&d[f][1]>h){e=f;break}}return j>=0&&e>=0?{row:j,col:e}:null},b.rect=function(g,j,e,k,f){var h=f.offset();return{top:c[g][0]-h.top,left:d[j][0]-h.left,width:d[k][1]-d[j][0],height:c[e][1]-c[g][0]}}}function ad(g){function j(a){aY(a);var e=g.cell(a.pageX,a.pageY);(!e!=!c||e&&(e.row!=c.row||e.col!=c.col))&&(e?(h||(h=e),b(e,h,e.row-h.row,e.col-h.col)):b(e,h),c=e)}var f,b,h,c,d=this;d.start=function(e,a,i){b=e,h=c=null,g.build(),j(a),f=i||"mousemove",aq(document).bind(f,j)},d.stop=function(){return aq(document).unbind(f,j),c}}function aY(a){a.pageX===aK&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function aB(d){function g(a){return b[a]=b[a]||d(a)}var e=this,b={},f={},c={};e.left=function(a){return f[a]=f[a]===aK?g(a).position().left:f[a]},e.right=function(a){return c[a]=c[a]===aK?e.left(a)+g(a).width():c[a]},e.clear=function(){b={},f={},c={}}}var a6={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},bz={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},ah=aq.fullCalendar={version:"1.6.4"},bB=ah.views={};aq.fn.fullCalendar=function(e){if("string"==typeof e){var b,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=aq.data(this,"fullCalendar");if(f&&aq.isFunction(f[e])){var a=f[e].apply(f,d);b===aK&&(b=a),"destroy"==e&&aq.removeData(this,"fullCalendar")}}),b!==aK?b:this}e=e||{};var c=e.eventSources||[];return delete e.eventSources,e.events&&(c.push(e.events),delete e.events),e=aq.extend(!0,{},a6,e.isRTL||e.isRTL===aK&&a6.isRTL?bz:{},e),this.each(function(h,f){var i=aq(f),g=new at(i,e,c);i.data("fullCalendar",g),g.render()}),this},ah.sourceNormalizers=[],ah.sourceFetchers=[];var bv={dataType:"json",cache:!1},bA=1;ah.addDays=aC,ah.cloneDate=aL,ah.parseDate=aw,ah.parseISO8601=az,ah.parseTime=al,ah.formatDate=an,ah.formatDates=aO;var ab=["sun","mon","tue","wed","thu","fri","sat"],bq=86400000,ac=3600000,af=60000,bs={s:function(a){return a.getSeconds()},ss:function(a){return aQ(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return aQ(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return aQ(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return aQ(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return aQ(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return aQ(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return an(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&20>b?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return bi(a)}};ah.dateFormatters=bs,ah.applyAll=bb,bB.month=ba,bB.basicWeek=aV,bB.basicDay=aW,ay({weekMode:"fixed"}),bB.agendaWeek=bt,bB.agendaDay=a1,ay({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery);(function(c){c.extend(c.ui,{multiDatesPicker:{version:"1.6.3"}});c.fn.multiDatesPicker=function(e){var m=arguments;var n=this;var k=new Date();var f=new Date(0);var l={};function i(q,s){if(!s){s="picked"}q=o.call(this,q);for(var r=0;r<this.multiDatesPicker.dates[s].length;r++){if(!j.compareDates(this.multiDatesPicker.dates[s][r],q)){return this.multiDatesPicker.dates[s].splice(r,1).pop()}}}function g(q,r){if(!r){r="picked"}return this.multiDatesPicker.dates[r].splice(q,1).pop()}function h(q,s,r){if(!s){s="picked"}q=o.call(this,q);q.setHours(0);q.setMinutes(0);q.setSeconds(0);q.setMilliseconds(0);if(j.gotDate.call(this,q,s)===false){this.multiDatesPicker.dates[s].push(q);if(!r){this.multiDatesPicker.dates[s].sort(j.compareDates)}}}function p(q){if(!q){q="picked"}this.multiDatesPicker.dates[q].sort(j.compareDates)}function o(q,r,s){if(!r){r="object"}return j.dateConvert.call(this,q,r,s)}var j={init:function(r){var u=c(this);this.multiDatesPicker.changed=false;var v={beforeShow:function(w,x){this.multiDatesPicker.changed=false;if(this.multiDatesPicker.originalBeforeShow){this.multiDatesPicker.originalBeforeShow.call(this,w,x)}},onSelect:function(C,A){var B=c(this);this.multiDatesPicker.changed=true;if(C){B.multiDatesPicker("toggleDate",C);this.multiDatesPicker.changed=true}if(this.multiDatesPicker.mode=="normal"&&this.multiDatesPicker.pickableRange){if(this.multiDatesPicker.dates.picked.length>0){var y=this.multiDatesPicker.dates.picked[0],z=new Date(y.getTime());j.sumDays(z,this.multiDatesPicker.pickableRange-1);if(this.multiDatesPicker.adjustRangeToDisabled){var D,x=this.multiDatesPicker.dates.disabled.slice(0);do{D=0;for(var w=0;w<x.length;w++){if(x[w].getTime()<=z.getTime()){if((y.getTime()<=x[w].getTime())&&(x[w].getTime()<=z.getTime())){D++}x.splice(w,1);w--}}z.setDate(z.getDate()+D)}while(D!=0)}if(this.multiDatesPicker.maxDate&&(z>this.multiDatesPicker.maxDate)){z=this.multiDatesPicker.maxDate}B.datepicker("option","minDate",y).datepicker("option","maxDate",z)}else{B.datepicker("option","minDate",this.multiDatesPicker.minDate).datepicker("option","maxDate",this.multiDatesPicker.maxDate)}}if(this.multiDatesPicker.originalOnSelect&&C){this.multiDatesPicker.originalOnSelect.call(this,C,A)}},beforeShowDay:function(x){var B=c(this),y=B.multiDatesPicker("gotDate",x)!==false,z=B.datepicker("option","disabled"),A=B.multiDatesPicker("gotDate",x,"disabled")!==false,w=this.multiDatesPicker.maxPicks<=this.multiDatesPicker.dates.picked.length;var C=[true,"",null];if(this.multiDatesPicker.originalBeforeShowDay){C=this.multiDatesPicker.originalBeforeShowDay.call(this,x)}C[1]=y?"ui-state-highlight":C[1];C[0]=C[0]&&!(z||A||(w&&!C[1]));return C}};if(u.val()){var q=u.val()}this.multiDatesPicker.separator=", ";if(r){if(r.separator){this.multiDatesPicker.separator=r.separator}this.multiDatesPicker.originalBeforeShow=r.beforeShow;this.multiDatesPicker.originalOnSelect=r.onSelect;this.multiDatesPicker.originalBeforeShowDay=r.beforeShowDay;this.multiDatesPicker.originalOnClose=r.onClose;u.datepicker(r);this.multiDatesPicker.minDate=c.datepicker._determineDate(this,r.minDate,null);this.multiDatesPicker.maxDate=c.datepicker._determineDate(this,r.maxDate,null);if(r.addDates){j.addDates.call(this,r.addDates)}if(r.addDisabledDates){j.addDates.call(this,r.addDisabledDates,"disabled")}j.setMode.call(this,r)}else{u.datepicker()}u.datepicker("option",v);if(q){u.multiDatesPicker("value",q)}var t=u.multiDatesPicker("value");if(this.tagName=="INPUT"){u.val(t)}var s=u.datepicker("option","altField");if(s){c(s).val(t)}u.datepicker("refresh")},compareDates:function(s,q){s=o.call(this,s);q=o.call(this,q);var r=s.getFullYear()-q.getFullYear();if(!r){r=s.getMonth()-q.getMonth();if(!r){r=s.getDate()-q.getDate()}}return r},sumDays:function(q,s){var r=typeof q;obj_date=o.call(this,q);obj_date.setDate(obj_date.getDate()+s);return o.call(this,obj_date,r)},dateConvert:function(s,r,q){var w=typeof s;if(w==r){if(w=="object"){try{s.getTime()}catch(v){c.error("Received date is in a non supported format!");return false}}return s}var u=c(this);if(typeof s=="undefined"){s=new Date(0)}if(r!="string"&&r!="object"&&r!="number"){c.error('Date format "'+r+'" not supported!')}if(!q){q=c.datepicker._defaults.dateFormat;var t=u.datepicker("option","dateFormat");if(t){q=t}}switch(w){case"object":break;case"string":s=c.datepicker.parseDate(q,s);break;case"number":s=new Date(s);break;default:c.error('Conversion from "'+r+'" format not allowed on jQuery.multiDatesPicker')}switch(r){case"object":return s;case"string":return c.datepicker.formatDate(q,s);case"number":return s.getTime();default:c.error('Conversion to "'+r+'" format not allowed on jQuery.multiDatesPicker')}return false},gotDate:function(q,s){if(!s){s="picked"}for(var r=0;r<this.multiDatesPicker.dates[s].length;r++){if(j.compareDates.call(this,this.multiDatesPicker.dates[s][r],q)===0){return r}}return false},value:function(q){if(q&&typeof q=="string"){j.addDates.call(this,q.split(this.multiDatesPicker.separator))}else{var r=j.getDates.call(this,"string");return r.length?r.join(this.multiDatesPicker.separator):""}},getDates:function(s,r){if(!s){s="string"}if(!r){r="picked"}switch(s){case"object":return this.multiDatesPicker.dates[r];case"string":case"number":var t=new Array();for(var q in this.multiDatesPicker.dates[r]){t.push(o.call(this,this.multiDatesPicker.dates[r][q],s))}return t;default:c.error('Format "'+s+'" not supported!')}},addDates:function(s,r){if(s.length>0){if(!r){r="picked"}switch(typeof s){case"object":case"array":if(s.length){for(var q=0;q<s.length;q++){h.call(this,s[q],r,true)}p.call(this,r);break}case"string":case"number":h.call(this,s,r);break;default:c.error('Date format "'+typeof s+'" not allowed on jQuery.multiDatesPicker')}}else{c.error("Empty array of dates received.")}},removeDates:function(t,r){if(!r){r="picked"}var s=[];if(Object.prototype.toString.call(t)==="[object Array]"){for(var q in t.sort(function(v,u){return u-v})){s.push(i.call(this,t[q],r))}}else{s.push(i.call(this,t,r))}return s},removeIndexes:function(q,s){if(!s){s="picked"}var t=[];if(Object.prototype.toString.call(q)==="[object Array]"){for(var r in q.sort(function(v,u){return u-v})){t.push(g.call(this,q[r],s))}}else{t.push(g.call(this,q,s))}return t},resetDates:function(q){if(!q){q="picked"}this.multiDatesPicker.dates[q]=[]},toggleDate:function(r,u){if(!u){u="picked"}switch(this.multiDatesPicker.mode){case"daysRange":this.multiDatesPicker.dates[u]=[];var q=this.multiDatesPicker.autoselectRange[1];var t=this.multiDatesPicker.autoselectRange[0];if(q<t){q=this.multiDatesPicker.autoselectRange[0];t=this.multiDatesPicker.autoselectRange[1]}for(var s=t;s<q;s++){j.addDates.call(this,j.sumDays(r,s),u)}break;default:if(j.gotDate.call(this,r)===false){j.addDates.call(this,r,u)}else{j.removeDates.call(this,r,u)}break}},setMode:function(q){var s=c(this);if(q.mode){this.multiDatesPicker.mode=q.mode}switch(this.multiDatesPicker.mode){case"normal":for(option in q){switch(option){case"maxPicks":case"minPicks":case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=q[option];break}}break;case"daysRange":case"weeksRange":var r=1;for(option in q){switch(option){case"autoselectRange":r--;case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=q[option];break}}if(r>0){c.error("Some mandatory options not specified!")}break}if(l.onSelect){l.onSelect()}},destroy:function(){this.multiDatesPicker=null;c(this).datepicker("destroy")}};this.each(function(){var s=c(this);if(!this.multiDatesPicker){this.multiDatesPicker={dates:{picked:[],disabled:[]},mode:"normal",adjustRangeToDisabled:true}}if(j[e]){var q=j[e].apply(this,Array.prototype.slice.call(m,1));switch(e){case"removeDates":case"removeIndexes":case"resetDates":case"toggleDate":case"addDates":var r=s.datepicker("option","altField");var t=j.value.call(this);if(r!==undefined&&r!=""){c(r).val(t)}if(this.tagName=="INPUT"){s.val(t)}c.datepicker._refreshDatepicker(this)}switch(e){case"removeDates":case"getDates":case"gotDate":case"sumDays":case"compareDates":case"dateConvert":case"value":n=q}return q}else{if(typeof e==="object"||!e){return j.init.apply(this,m)}else{c.error("Method "+e+" does not exist on jQuery.multiDatesPicker")}}return false});return n};var d="multiDatesPicker";var b=new Date().getTime();var a;c.multiDatesPicker={version:false};c.multiDatesPicker.initialized=false;c.multiDatesPicker.uuid=new Date().getTime();c.multiDatesPicker.version=c.ui.multiDatesPicker.version;c.multiDatesPicker._hideDatepicker=c.datepicker._hideDatepicker;c.datepicker._hideDatepicker=function(){var f=this._curInst.input[0];var e=f.multiDatesPicker;if(!e||(this._curInst.inline===false&&!e.changed)){return c.multiDatesPicker._hideDatepicker.apply(this,arguments)}else{e.changed=false;c.datepicker._refreshDatepicker(f);return}};window["DP_jQuery_"+b]=c})(jQuery);(function(){var a=function(f,j){var g=jQuery({});g.$root=j;g.events={renderStatusesEvent:"1",setStatusesEvent:"2",forceRenderStatusesEvent:"3",restoreEvent:"4",statusEvent:"5",sortEvent:"6",filterEvent:"7",paginationEvent:"8",changeUrlDeepLinksEvent:"9",setDeepLinksEvent:"10",addItemEvent:"11",delItemEvent:"12",collectionReadyEvent:"13",animationStartEvent:"14",animationStepEvent:"15",animationCompleteEvent:"16",renderList:"17"};g={controller:null,observer:g,events:null,panel:null,$root:j};g.options=jQuery.extend(!0,{debug:!1,itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},render:null},controlTypes:{"default-sort":{className:"DefaultSort",options:{}},"drop-down":{className:"Dropdown",options:{}},"pagination-info":{className:"PaginationInfo",options:{}},counter:{className:"Counter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},pagination:{className:"Pagination",options:{range:7,jumpToStart:!1,prevArrow:"&lsaquo;",nextArrow:"&rsaquo;",firstArrow:"&laquo;",lastArrow:"&raquo;"}},reset:{className:"Reset",options:{}},select:{className:"Select",options:{}},textbox:{className:"Textbox",options:{eventName:"keyup",ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},views:{className:"Views",options:{}},"checkbox-group-filter":{className:"CheckboxGroupFilter",options:{}},"checkbox-text-filter":{className:"CheckboxTextFilter",options:{ignore:""}},"button-filter":{className:"ButtonFilter",options:{}},"button-filter-group":{className:"ButtonFilterGroup",options:{}},"button-text-filter":{className:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"button-text-filter-group":{className:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"radio-buttons-filters":{className:"RadioButtonsFilter",options:{}},"range-filter":{className:"RangeSliderToggleFilter",options:{}},"back-button":{className:"BackButton",options:{}},preloader:{className:"Preloader",options:{}}}},f);g.history=new jQuery.fn.jplist.app.History(g.$root,g.options,g.observer);g.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(j,g.options,g.history,g.observer);g.options.dataSource=g.options.dataSource||{};g.options.dataSource.type=g.options.dataSource.type||"html";jQuery.fn.jplist.info(g.options,"Data Source Type: ",g.options.dataSource.type);switch(g.options.dataSource.type){case"html":new jQuery.fn.jplist.ui.list.controllers.DOMController(g.$root,g.options,g.observer,g.panel,g.history);break;case"server":jQuery.fn.jplist.info(g.options,"Data Source: ",g.options.dataSource),new jQuery.fn.jplist.ui.list.controllers.ServerController(g.$root,g.options,g.observer,g.panel,g.history)}var h=[],i=!1;g.options.deepLinking?(jQuery.fn.jplist.info(g.options,"Deep linking enabled",""),g.observer.trigger(g.observer.events.setDeepLinksEvent,[])):(i="cookies"===g.options.storage||"localstorage"===g.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?(jQuery.fn.jplist.info(g.options,"Storage enabled: ",g.options.storage),"cookies"===g.options.storage&&(h=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(g.options.storageName)),"localstorage"===g.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(h=jQuery.fn.jplist.dal.services.LocalStorageService.restore(g.options.storageName)),0<h.length?g.observer.trigger(g.observer.events.restoreEvent,[h]):g.observer.trigger(g.observer.events.forceRenderStatusesEvent,[!0])):g.observer.trigger(g.observer.events.forceRenderStatusesEvent,[!0]);return jQuery.extend(this,g)};jQuery.fn.jplist=function(b){return this.each(function(){var d=new a(b,jQuery(this));jQuery(this).data("jplist",d)})};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{};jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{};jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{};jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{};jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{};jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(h,m,p,i,n,o,l,j){this.action=m;this.name=h;this.type=p;this.data=i;this.inStorage=n;this.inAnimation=o;this.isAnimateToTop=l;this.inDeepLinking=j}})();(function(){var a=function(d,f,e){return jQuery.extend(this,{options:f,observer:e,$root:d,statusesQueue:[],listStatusesQueue:[]})};a.prototype.addStatus=function(c){this.statusesQueue.push(c);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};a.prototype.getLastStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue[this.statusesQueue.length-1]);return c};a.prototype.popStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue.pop());return c};a.prototype.getLastList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue[this.listStatusesQueue.length-1]);return c};a.prototype.addList=function(c){this.listStatusesQueue.push(c);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};a.prototype.popList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue.pop());return c};jQuery.fn.jplist.app.History=function(d,e,b){return new a(d,e,b)}})();(function(){var a=function(d,f,e){return jQuery.extend(this,{options:d,observer:f,statuses:e})};a.prototype.findStatusByField=function(f,j){for(var g=-1,h,i=0;i<this.statuses.length;i++){if(h=this.statuses[i],h[j]===f[j]){g=i;break}}return g};a.prototype.getStatusesByAction=function(d){for(var h=[],f,g=0;g<this.statuses.length;g++){f=this.statuses[g],f.action===d&&h.push(f)}return h};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(d,e,b){return new a(d,e,b)}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(a,d){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(a.data.value,e,d,a.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(a,d){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(e,d)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(a,d){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(e,d,a.data.min,a.data.max,a.data.prev,a.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(a,d){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(a.data.year,a.data.month,a.data.day,e,d,a.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(a,d){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(e,d,a.data.format,a.data.prev_year,a.data.prev_month,a.data.prev_day,a.data.next_year,a.data.next_month,a.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=function(a,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(a.data.pathGroup,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(a,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(a.data.textGroup,a.data.logic,a.data.path,a.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(a,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(a.data.textAndPathsGroup,a.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.autocomplete=function(a,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter(a.data.latitude,a.data.longitude,a.data.name,c,a.data.radius)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(d,g,h){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(g,h,d.data.order,e,d.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(d,g,h){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(g,h,d.data.order,e)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(d,g,h){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(g,h,d.data.order,e,d.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(a){return a.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(a,d,e){jQuery.fn.jplist.logEnabled(a)&&window.console.log(d,e)};jQuery.fn.jplist.info=function(a,d,e){jQuery.fn.jplist.logEnabled(a)&&window.console.info(d,e)};jQuery.fn.jplist.error=function(a,d,e){jQuery.fn.jplist.logEnabled(a)&&window.console.error(d,e)};jQuery.fn.jplist.warn=function(a,d,e){jQuery.fn.jplist.logEnabled(a)&&window.console.warn(d,e)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(a,c){this.jqPath=a;this.dataType=c};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(a,d){var e=!1;d?this.jqPath===a.jqPath&&(e=!0):this.jqPath===a.jqPath&&this.dataType===a.dataType&&(e=!0);return e}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(a,c){this.$element=a;this.path=c;this.text=a.text();this.html=a.html()}})();(function(){var a=function(f,l,h){h={html:null,pathitems:[],$item:f,index:h};h.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(f);var j,k;f=[];for(var i=0;i<l.length;i++){j=l[i],k=h.$item.find(j.jqPath),0<k.length&&(j=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(k,j),f.push(j))}h.pathitems=f;return jQuery.extend(this,h)};a.prototype.findPathitem=function(d){for(var h=null,f,g=0;g<this.pathitems.length;g++){if(f=this.pathitems[g],f.path.isEqual(d,!0)){h=f;break}}return h};jQuery.fn.jplist.domain.dom.models.DataItemModel=function(d,e,b){d=new a(d,e,b);this.html=d.html;this.jqElement=d.$item;this.pathitems=d.pathitems;this.findPathitem=d.findPathitem}})();(function(){var w=function(h,l){var m,k,f;m=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(h.options,h.observer,l)).getStatusesByAction("filter",l);if(0<m.length){for(var n=0;n<m.length;n++){if((k=m[n])&&k.data&&k.data.filterType){f=jQuery.fn.jplist.app.services.DTOMapperService.filters[k.data.filterType],jQuery.isFunction(f)&&(h.dataview=f(k,h.dataview))}}h.observer.trigger(h.observer.events.filterEvent,[l,h])}},s=function(h,l){var m,k=null,f;m=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(h.options,h.observer,l)).getStatusesByAction("paging",l);if(0<m.length){for(var n=0;n<m.length;n++){k=m[n],f=k.data.currentPage||0,k=new jQuery.fn.jplist.domain.dom.services.PaginationService(f,k.data.number,h.dataview.length),m[n].data.paging=k,h.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(k,h.dataview)}h.observer.trigger(h.observer.events.paginationEvent,[l,h])}},v=function(b,c){var f;f=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,c)).getStatusesByAction("sort",c);0<f.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(f,b.dataview),b.observer.trigger(b.observer.events.sortEvent,[c,b]))},x=function(b){return jQuery(b.dataview).map(function(c,d){return d.jqElement.get()})},t=function(b){return jQuery(b.dataitems).map(function(c,d){return d.jqElement.get()})},u=function(b){b.dataview=jQuery.merge([],b.dataitems)},r=function(h,l){for(var m,k=-1,f,n=0;n<h.dataitems.length;n++){if(m=h.dataitems[n],m=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(m.jqElement),f=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(l),m===f){k=n;break}}return k},p=function(b,c){var f;f=r(b,c);-1!==f&&(b.dataitems.splice(f,1),b.observer.trigger(b.observer.events.delItemEvent,[c,b.dataitems]))},o=function(b,c){c.each(function(){p(b,jQuery(this))})},q=function(b,f,h,c){f=new jQuery.fn.jplist.domain.dom.models.DataItemModel(f,h,c);b.dataitems.push(f);b.observer.trigger(b.observer.events.addItemEvent,[f,b.dataitems])},j=function(f,k,l,h){for(var c;l<k.length;l++){c=k.eq(l),q(f,c,h,l),l+1<k.length&&0===l%50&&window.setTimeout(function(){j(f,k,l,h)},0)}},i=function(d,h,f,c){d={dataitems:[],dataview:[],options:d,observer:h};0<f.length&&(j(d,f,0,c),u(d));d.observer.trigger(d.observer.events.collectionReadyEvent,[d]);return jQuery.extend(this,d)};i.prototype.applyStatuses=function(b){u(this);v(this,b);w(this,b);s(this,b);this.observer.trigger(this.observer.events.renderList,[this,b])};i.prototype.filter=function(b){w(this,b)};i.prototype.sort=function(b){v(this,b)};i.prototype.pagination=function(b){s(this,b)};i.prototype.dataviewToJqueryObject=function(){return x(this)};i.prototype.dataitemsToJqueryObject=function(){return t(this)};i.prototype.resetDataview=function(){u(this)};i.prototype.empty=function(){this.dataitems=[];this.dataview=[]};i.prototype.addDataItem=function(b,c,f){q(this,b,c,f)};i.prototype.addDataItems=function(b,c){j(this,b,0,c);u(this)};i.prototype.delDataitem=function(b){p(this,b)};i.prototype.delDataitems=function(b){o(this,b)};i.prototype.indexOf=function(b){return r(this,b)};i.prototype.dataviewToString=function(){var b,c="",f;for(f=0;f<this.dataview.length;f++){b=this.dataview[f],c+=b.content}return c};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(b,f,h,c){h=new i(b,f,h,c);this.observer=f;this.options=b;this.dataitems=h.dataitems;this.dataview=h.dataview;this.sort=h.sort;this.filter=h.filter;this.pagination=h.pagination;this.applyStatuses=h.applyStatuses;this.addDataItem=h.addDataItem;this.addDataItems=h.addDataItems;this.resetDataview=h.resetDataview;this.indexOf=h.indexOf;this.delDataitem=h.delDataitem;this.delDataitems=h.delDataitems;this.empty=h.empty;this.dataviewToString=h.dataviewToString;this.dataviewToJqueryObject=h.dataviewToJqueryObject;this.dataitemsToJqueryObject=h.dataitemsToJqueryObject}})();(function(){var a=function(f,h){for(var j,k=!1,i=0;i<f.paths.length;i++){if(j=f.paths[i],j.isEqual(h,!0)){k=!0;break}}return k},c=function(d,e){return jQuery.extend(this,{options:d,observer:e,paths:[]})};c.prototype.add=function(b){a(this,b)||this.paths.push(b)};c.prototype.addRange=function(f){for(var b=0;b<f.length;b++){var d=f[b];a(this,d)||this.paths.push(d)}};c.prototype.isPathInList=function(b){return a(this,b)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(d,e){return new c(d,e)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(a,d,e){e=Number(e);isNaN(e)&&(e=0);e=this.itemsNumber=e;null===d?d=e:(d=Number(d),isNaN(d)&&(d=e));this.itemsOnPage=d;d=(d=this.itemsOnPage)?Math.ceil(this.itemsNumber/d):0;d=this.pagesNumber=d;a=Number(a);isNaN(a)&&(a=0);a>d-1&&(a=0);this.currentPage=a;this.start=this.currentPage*this.itemsOnPage;a=this.itemsNumber;d=this.start+this.itemsOnPage;d>a&&(d=a);this.end=d;a=this.currentPage;this.prevPage=0>=a?0:a-1;a=this.currentPage;d=this.pagesNumber;this.nextPage=0===d?0:a>=d-1?d-1:a+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(a,d,e){e=Number(e);isNaN(e)&&(e=0);e=this.itemsNumber=e;null===d?d=e:(d=Number(d),isNaN(d)&&(d=e));this.itemsOnPage=d;d=(d=this.itemsOnPage)?Math.ceil(this.itemsNumber/d):0;d=this.pagesNumber=d;a=Number(a);isNaN(a)&&(a=0);a>d-1&&(a=0);this.currentPage=a;this.start=this.currentPage*this.itemsOnPage;a=this.itemsNumber;d=this.start+this.itemsOnPage;d>a&&(d=a);this.end=d;a=this.currentPage;this.prevPage=0>=a?0:a-1;a=this.currentPage;d=this.pagesNumber;this.nextPage=0===d?0:a>=d-1?d-1:a+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter=function(q,m,p,r,n){var o=[],j,i;if(jQuery.isNumeric(q)&&jQuery.isNumeric(m)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){q=new google.maps.LatLng(q,m);for(var h=0;h<r.length;h++){m=r[h],j=new jQuery.fn.jlocator.store(m.jqElement,{}),i=j.country?jQuery.trim(j.country.toLowerCase())==jQuery.trim(p.toLowerCase()):!1,j=google.maps.geometry.spherical.computeDistanceBetween(q,j.latlng),(j<=n||i)&&o.push(m)}return o}return r}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(s,o,r,t,p,q){for(var n,j,i=[],m=0;m<p.length;m++){if(n=p[m],j=n.findPathitem(t)){!s||!o||!r?i.push(n):(j=jQuery.fn.jplist.domain.dom.services.SortService.jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(j.text,q))&&"function"===typeof j.getFullYear&&j.getFullYear()===s&&(j.getMonth()-1===o&&j.getDate()===r)&&i.push(n)}}return i}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(C,y,B,D,z,A,x,v,u){for(var w=[],t,s,o,j,i=0;i<y.length;i++){if(t=y[i],s=t.findPathitem(C)){if(o=!jQuery.isNumeric(D)||!jQuery.isNumeric(z)||!jQuery.isNumeric(A),j=!jQuery.isNumeric(x)||!jQuery.isNumeric(v)||!jQuery.isNumeric(u),o||j){w.push(t)}else{if((j=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(s.text,B))&&jQuery.isFunction(j.getFullYear)){s=new Date(D,z,A),o=new Date(x,v,u),j.setHours(0),j.setMinutes(0),j.setSeconds(0),j>=s&&j<=o&&w.push(t)}}}}return w}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(a,c){return c.slice(a.start,a.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(g,i){for(var l,h,j=[],k=0;k<i.length;k++){l=i[k],"default"===g.jqPath?j.push(l):(h=l.findPathitem(g))&&j.push(l)}return j}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(h,m){var p,i=[],n,o=[];if(0>=h.length){return m}for(n=0;n<h.length;n++){p=h[n],p=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(p,null),i.push(p)}for(var l=0;l<m.length;l++){n=m[l];for(var j=0;j<i.length;j++){if(p=i[j],"default"===p.jqPath){o.push(n);break}else{(p=n.findPathitem(p))&&o.push(n)}}}return o}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(s,o,r,t,p,q){r=[];for(var n,j=jQuery.isNumeric(p),i=jQuery.isNumeric(q),m=0;m<o.length;m++){if(t=o[m],n=t.findPathitem(s)){n=Number(n.text.replace(/[^-0-9\.]+/g,"")),isNaN(n)||(j&&i?n>=p&&n<=q&&r.push(t):j&&!i?n>=p&&r.push(t):!j&&i&&n<=q&&r.push(t))}}return r}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(q,m,p,r){for(var n,o,j=[],i,h=0;h<p.length;h++){n=p[h],o=n.findPathitem(m),"default"===m.jqPath?j.push(n):o&&(o=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(o.text,r),i=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(q,r),-1!==o.indexOf(i)&&j.push(n))}return j}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(s,o,r){var t,p,q=[],n=[],j,i;for(i=0;i<s.length;i++){j=s[i],j.selected&&(t=j.path,p=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t,null),j.pathObj=p,q.push(j))}if(0>=q.length){return r}for(t=0;t<r.length;t++){s=r[t];i=!1;for(var m=0;m<q.length;m++){if(j=q[m],p=j.pathObj){if("default"===p.jqPath){i=!0;break}else{if(p=s.findPathitem(p)){p=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(p.text,o),j=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(j.text,o),-1!==p.indexOf(j)&&(i=!0)}}}}i&&n.push(s)}return n}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(w,s,v,x,t){var u,r,p,o=[],q,j;if(0>=w.length){return t}p=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(v,null);for(var i=0;i<t.length;i++){if(v=t[i],r=v.findPathitem(p),"default"===p.jqPath){o.push(v)}else{if(r){if(r=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(r.text,x),"or"===s){for(j=0;j<w.length;j++){if(u=w[j],u=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(u,x),-1!==r.indexOf(u)){o.push(v);break}}}else{q=[];for(j=0;j<w.length;j++){u=w[j],u=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(u,x),-1!==r.indexOf(u)&&q.push(u)}q.length===w.length&&o.push(v)}}}}return o}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(d,h,j,g,i){d=d.findPathitem(g);h=h.findPathitem(g);return d&&h?(jQuery.trim(i)?(g=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(d.text,i),i=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(h.text,i)):(g=new Date(Date.parse(d.text)),i=new Date(Date.parse(h.text))),g==i?0:"asc"==j?g>i?1:-1:g<i?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(d,g,h,e){h.sort(function(a,b){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(a,b,d,g,e)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(d,g,h,e){d=d.findPathitem(e);g=g.findPathitem(e);return d&&g?(e=parseFloat(d.text.replace(/[^-0-9\.]+/g,"")),g=parseFloat(g.text.replace(/[^-0-9\.]+/g,"")),h=e==g?0:"asc"==h?isNaN(e)?1:isNaN(g)?-1:e-g:isNaN(e)?1:isNaN(g)?-1:g-e):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(a,d,e){e.sort(function(b,c){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(b,c,a,d)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(d,h,j,g,i){d=d.findPathitem(g);h=h.findPathitem(g);return d&&h?(i?(g=RegExp(i,"ig"),i=d.text.toString().replace(g,"").toLowerCase(),d=h.text.toString().replace(g,"").toLowerCase()):(i=d.text.toString().toLowerCase(),d=h.text.toString().toLowerCase()),i==d?0:"asc"==j?i>d?1:-1:i<d?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(d,g,h,e){h.sort(function(a,b){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(a,b,d,g,e)})}})();(function(){var a=function(j,n,b,l){var m=0,i,h;0<b.length&&(i=b[l],"default"!=i.data.path?(h=jQuery.fn.jplist.app.services.DTOMapperService.sort[i.data.type],jQuery.isFunction(h)&&(m=h(i,j,n))):(m=j.index,i=n.index,m=m===i?0:isNaN(m)?1:isNaN(i)?-1:m-i),0===m&&l+1<b.length&&(m=a(j,n,b,l+1)));return m};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(d,e){var b=!1;1===d.length&&(d[0]&&d[0].data&&"default"===d[0].data.path)&&(b=!0);b||e.sort(function(c,f){return a(c,f,d,0)})}})();(function(){var a=function(d,f){var g=null;if("{month}"==d){f=f.toLowerCase();if("january"===f||"jan"===f||"jan."===f){g=0}if("february"===f||"feb"===f||"feb."===f){g=1}if("march"===f||"mar"===f||"mar."===f){g=2}if("april"==f||"apr"===f||"apr."===f){g=3}"may"===f&&(g=4);if("july"==f||"jun"===f||"jun."===f){g=5}if("april"===f||"jul"===f||"jul."===f){g=6}if("august"===f||"aug"===f||"aug."===f){g=7}if("september"===f||"sep"===f||"sep."===f){g=8}if("october"===f||"oct"===f||"oct."===f){g=9}if("november"===f||"nov"===f||"nov."===f){g=10}if("december"===f||"dec"===f||"dec."===f){g=11}null===g&&(g=parseInt(f,10),isNaN(g)||g--)}else{g=parseInt(f,10)}return g},c=function(f,g){var h,i=null;h=f.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(h=RegExp(h,"g").exec(g))&&1<h.length&&(i=h[1]);return i};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(f){var h="",j=f[0].attributes,k=f.html();f=f[0].tagName.toString().toLowerCase();for(var h=h+("<"+f),i=0;i<j.length;i++){j[i].nodeValue&&(h+=" "+j[i].nodeName+"=",h+='"'+j[i].nodeValue+'"')}h=h+">"+k;return h+="</"+f+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(d,e){return !d?"":d.replace(RegExp(e,"ig"),"").toLowerCase()};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(p,f){var n,o,m,i,b,j;f=f.replace(/\./g,"\\.");f=f.replace(/\(/g,"\\(");f=f.replace(/\)/g,"\\)");f=f.replace(/\[/g,"\\[");f=f.replace(/\]/g,"\\]");n=f.replace("{year}","(.*)");(o=c(n,p))&&(o=a("{year}",o));n=f.replace("{day}","(.*)");(i=c(n,p))&&(i=a("{day}",i));n=f.replace("{month}","(.*)");(m=c(n,p))&&(m=a("{month}",m));n=f.replace("{hour}","(.*)");(b=c(n,p))&&(b=a("{hour}",b));n=f.replace("{min}","(.*)");(j=c(n,p))&&(j=a("{min}",j));n=f.replace("{sec}","(.*)");(n=c(n,p))&&(n=a("{sec}",n));if(!o||isNaN(o)){o=1900}if(!m||isNaN(m)){m=0}if(!i||isNaN(i)){i=1}if(!b||isNaN(b)){b=0}if(!j||isNaN(j)){j=0}if(!n||isNaN(n)){n=0}return new Date(o,m,i,b,j,n)}})();(function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(a,d,e){this.content="";this.dataType=d;this.count=0;this.responseText=e;this.dataType||(this.dataType="html");switch(this.dataType){case"html":d=jQuery(a);0<d.length&&(this.content=d.html(),this.count=Number(d.attr("data-count"))||0);break;case"json":this.content=a.data;this.count=a.count;break;case"xml":d=jQuery(a).find("root"),this.count=Number(d.attr("count"))||0,this.content=0<this.count?a:""}}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(u,q,t,v,r,s,p,n){var j,o,i;if(r=jQuery.fn.jplist.animation[r]){j=r.before;i=r.effect;o=r.after;jQuery.isFunction(j)&&j(u,q,t,v);if(jQuery.isFunction(i)){n.on(n.events.animationStepEvent,function(b,c,a){i(u,q,t,v,c)})}n.on(n.events.animationCompleteEvent,function(a){jQuery.isFunction(o)&&o(u,q,t,v);n.off(n.events.animationStepEvent);n.off(n.events.animationCompleteEvent);jQuery.isFunction(p)&&p()});s.play(u.duration)}else{jQuery.isFunction(p)&&p()}}})();(function(){var a=function(b){b.handler&&window.clearTimeout(b.handler);b.progress=0;b.start=null;b.observer.trigger(b.observer.events.animationCompleteEvent,[])},d=function(b,c){jQuery.isNumeric(c)&&0<c?b.handler=window.setTimeout(function(){var f;null===b.start&&(b.observer.trigger(b.observer.events.animationStartEvent,[]),b.start=(new Date).getTime());f=(new Date).getTime()-b.start;b.progress=f/c;1<=b.progress&&(b.progress=1);b.observer.trigger(b.observer.events.animationStepEvent,[100*b.progress,b]);1>b.progress?d(b,c):a(b)},b.delay):a(b)},e=function(b,c,f){b={$scene:b,options:c,observer:f,start:null,progress:0,delay:null,handler:null};b.delay=1000/b.options.fps;return jQuery.extend(this,b)};e.prototype.play=function(b){d(this,b)};e.prototype.stop=function(){a(this)};jQuery.fn.jplist.animation.Timeline=function(b,c,f){return new e(b,c,f)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(d,g,h,e){};jQuery.fn.jplist.animation.fade.effect=function(d,h,j,g,i){h.find(d.itemPath).css({opacity:(100-i)/100})};jQuery.fn.jplist.animation.fade.after=function(d,g,h,e){g.empty();e.css({opacity:1});g.append(e)}})();(function(){var d=function(f,j,i,c){f.observer.trigger(f.observer.events.setStatusesEvent,[i,j]);jQuery.isFunction(f.options.redrawCallback)&&f.options.redrawCallback(j,c,i)},g=function(i,o,k){var q=o.dataitemsToJqueryObject(),l=o.dataviewToJqueryObject(),j=!1,b,p=jQuery.extend(!0,{},i.options,{duration:0});0>=q.length||0>=l.length?(i.$noResults.removeClass("jplist-hidden"),i.$itemsBox.addClass("jplist-hidden"),d(i,o,k,l)):(i.$noResults.addClass("jplist-hidden"),i.$itemsBox.removeClass("jplist-hidden"),i.options.effect?(i.history&&(b=i.history.getLastStatus())&&!b.inAnimation&&(j=!0),j=j?p:i.options,jQuery.fn.jplist.animation.drawItems(j,i.$itemsBox,q,l,i.options.effect,i.timeline,function(){d(i,o,k,l)},i.observer)):(q.detach(),i.$itemsBox.append(l),d(i,o,k,l)))},h=function(b){b.observer.on(b.observer.events.renderList,function(f,c,a){g(b,c,a)})},e=function(f,j,i,c){f={options:j,$root:f,observer:i,history:c,timeline:null,timelineZero:null,$itemsBox:f.find(j.itemsBox).eq(0),$noResults:f.find(j.noResults)};f.options.effect&&(f.timeline=new jQuery.fn.jplist.animation.Timeline(f.$root,f.options,f.observer));h(f);return jQuery.extend(this,f)};jQuery.fn.jplist.ui.list.views.DOMView=function(f,i,c,a){return new e(f,i,c,a)}})();(function(){var a=function(d){d.observer.on(d.observer.events.renderStatusesEvent,function(b,f){d.storage.save(f);d.collection&&d.collection.applyStatuses(f);d.options.deepLinking&&d.observer.trigger(d.observer.events.changeUrlDeepLinksEvent,[])})},c=function(j,b,h,i,f){j={options:b,observer:h,$root:j,history:f,storage:new jQuery.fn.jplist.dal.Storage(j,b,h),collection:null,listView:null};j.listView=new jQuery.fn.jplist.ui.list.views.DOMView(j.$root,j.options,j.observer,j.history);i=i.paths;b=j.$root.find(j.options.itemsBox).eq(0).find(j.options.itemPath);i=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(j.options,j.observer,b,i);j.collection=i;a(j);return jQuery.extend(this,j)};jQuery.fn.jplist.ui.list.controllers.DOMController=function(f,h,j,k,i){return new c(f,h,j,k,i)}})();(function(){var a=function(d){d.observer.on(d.observer.events.renderList,function(b,h,i){var f="html";d.options.dataSource&&(d.options.dataSource.server&&d.options.dataSource.server.ajax)&&((f=d.options.dataSource.server.ajax.dataType)||(f="html"));d.storage.save(i);jQuery.fn.jplist.dal.services.URIService.get(i,d.options,function(g,k,l,j){g=new jQuery.fn.jplist.domain.server.models.DataItemModel(g,f,j.responseText);var m;l=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(d.options,d.observer,k)).getStatusesByAction("paging",k);for(j=0;j<l.length;j++){m=l[j],m.data.currentPage||(m.data.currentPage=0),m=new jQuery.fn.jplist.domain.dom.services.PaginationService(m.data.currentPage,m.data.number,g.count),l[j].data.paging=m}d.model.set(g,k)},function(e){},function(e){})})},c=function(l,b,i,j,h){j=new jQuery.fn.jplist.dal.Storage(l,b,i);var f=jQuery({});f.$root=null;f.events={modelChanged:"modelChanged"};h={options:b,observer:i,history:h,storage:j,scopeObserver:f,$root:l,view:null,model:null};h.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,h.scopeObserver);h.view=new jQuery.fn.jplist.ui.list.views.ServerView(l,b,i,h.scopeObserver,h.model,h.history);a(h);return jQuery.extend(this,h)};jQuery.fn.jplist.ui.list.controllers.ServerController=function(f,h,j,k,i){return new c(f,h,j,k,i)}})();(function(){var d=function(b,f,c){b.observer.trigger(b.observer.events.setStatusesEvent,[c,f]);b.options.deepLinking&&b.observer.trigger(b.observer.events.changeUrlDeepLinksEvent,[]);jQuery.isFunction(b.options.redrawCallback)&&b.options.redrawCallback(f,c)},g=function(b,m,j){var i=!1,n,l=jQuery.extend(!0,{},b.options,{duration:0});!m.content||""===jQuery.trim(m.content)?(b.$noResults.removeClass("jplist-hidden"),b.$itemsBox.addClass("jplist-hidden")):(b.$noResults.addClass("jplist-hidden"),b.$itemsBox.removeClass("jplist-hidden"));b.options.effect?(b.history&&(n=b.history.getLastStatus())&&!n.inAnimation&&(i=!0),i=i?l:b.options,jQuery.fn.jplist.animation.drawItems(i,b.$itemsBox,null,jQuery(m.content),b.options.effect,b.timeline,function(){d(b,m.content,j)},b.observer)):(b.options.dataSource&&jQuery.isFunction(b.options.dataSource.render)?b.options.dataSource.render(m,j):b.$itemsBox.html(m.content),d(b,m.content,j))},h=function(b){b.observer.on(b.observer.events.renderStatusesEvent,function(c,a){b.$noResults.addClass("jplist-hidden");b.observer.trigger(b.observer.events.renderList,[b,a])});b.scopeObserver.on(b.scopeObserver.events.modelChanged,function(f,c,a){b.$preloader&&b.$preloader.addClass("jplist-hidden");b.$itemsBox.removeClass("jplist-hidden");g(b,c,a)})},e=function(i,m,k,c,l,j){i={options:m,$root:i,observer:k,scopeObserver:c,model:l,history:j,$itemsBox:i.find(m.itemsBox).eq(0),$noResults:i.find(m.noResults),$preloader:null,timeline:null};i.options.effect&&(i.timeline=new jQuery.fn.jplist.animation.Timeline(i.$root,i.options,i.observer));h(i);return jQuery.extend(this,i)};jQuery.fn.jplist.ui.list.views.ServerView=function(k,l,i,a,m,j){return new e(k,l,i,a,m,j)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(a,d,e){this.dataItem=a;this.statuses=d;this.scopeObserver=e};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(a,c){this.dataItem=a;this.statuses=c;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[a,c])}})();(function(){var d=function(f){var k=jQuery(window).scrollTop(),c;c=Number(f.data("top"));isNaN(c)||(k>c?f.addClass("jplist-sticky"):f.removeClass("jplist-sticky"))},h=function(b,c){c.each(function(){var f=jQuery(this),k=f.offset().top;f.data("top",k);d(f)});jQuery(window).scroll(function(){c.each(function(){d(jQuery(this))})})},j=function(b){b.observer.on(b.observer.events.setStatusesEvent,function(f,a,k){b.controls.setStatuses(a,!1);b.history.addList(a);jQuery.fn.jplist.info(b.options,"Set statuses event: ",a)});b.observer.on(b.observer.events.forceRenderStatusesEvent,function(f,a){var k;k=b.controls.getStatuses(a);jQuery.fn.jplist.info(b.options,"Force render statuses event: ",k);b.observer.trigger(b.observer.events.renderStatusesEvent,[k])});b.observer.on(b.observer.events.restoreEvent,function(c,a){b.controls.setStatuses(a,!0);jQuery.fn.jplist.info(b.options,"Restore from storage event: ",a);b.observer.trigger(b.observer.events.renderStatusesEvent,[a])});b.observer.on(b.observer.events.statusEvent,function(f,a){var k;a.isAnimateToTop&&(k=jQuery(b.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:k},b.options.animateToTopDuration));k=b.controls.merge(!1,a);jQuery.fn.jplist.info(b.options,"Status event: ",k);b.observer.trigger(b.observer.events.renderStatusesEvent,[k])});b.observer.on(b.observer.events.changeUrlDeepLinksEvent,function(c){c="";if(b.options.deepLinking){c=b.controls.getDeepLinksUrl();jQuery.fn.jplist.info(b.options,"Change url (deep links event): ",c);c=jQuery.trim(c.replace("#",""));var a;c=""===c?"#":"#"+c;window.location.hash!==c&&(a=window.location.href.indexOf("#"),c=-1==a?window.location.href+c:window.location.href.substring(0,a)+c,"replaceState" in window.history?window.history.replaceState("","",c):window.location.replace(c))}});b.observer.on(b.observer.events.setDeepLinksEvent,function(o){var k=window.decodeURIComponent(jQuery.trim(window.location.hash.replace("#",""))),q=!1;o=[];var q=[],l,a=[],p;if(b.options.deepLinking&&""!==jQuery.trim(k)){q=k.split(b.options.delimiter1);for(k=0;k<q.length;k++){l=q[k],p=l.split("="),2===p.length&&(l=p[0],p=p[1],l=l.split(b.options.delimiter0),2===l.length&&(l={controlName:l[0],propName:l[1],propValue:p},a.push(l)))}}jQuery.fn.jplist.info(b.options,"Set deep link event: ",a);0>=a.length?(q="cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?("cookies"===b.options.storage&&(o=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(b.options.storageName)),"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(o=jQuery.fn.jplist.dal.services.LocalStorageService.restore(b.options.storageName)),0<o.length?b.observer.trigger(b.observer.events.restoreEvent,[o]):b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])):b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!0]):b.controls.setDeepLinks(a)});b.$root.find(b.options.iosBtnPath).on("click",function(){jQuery(this).next(b.options.panelPath).toggleClass("jplist-ios-show")})},g=function(b){var c;c=[];c=b.$root.find(b.options.panelPath).find("[data-control-type]");b.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(b.options,b.observer,b.history,b.$root,c);b.paths=b.controls.getPaths();jQuery.fn.jplist.logEnabled(b.options)&&(c=jQuery.map(b.paths,function(f,k){return f&&f.jqPath?f.jqPath:""}),jQuery.fn.jplist.info(b.options,"Panel paths: ",c.join(", ")))},i=function(k,f,a,c){k={options:f,$root:k,history:a,observer:c,$sticky:null,paths:null,controls:null};g(k);k.$sticky=k.$root.find('[data-sticky="true"]');0<k.$sticky.length&&h(k,k.$sticky);j(k);return jQuery.extend(this,k)};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(f,k,e,l){f=new i(f,k,e,l);this.paths=f.paths;this.history=f.history;this.controls=f.controls}})();(function(){var a=function(d,h,f,g){return jQuery.extend(this,{options:d,observer:h,history:f,$root:g})};a.prototype.create=function(s){var r=null,t,p,q,o,j,i,n,f;t=s.attr("data-control-type");j=o=q=!0;i=!1;f=n=null;(p=s.attr("data-control-deep-link"))&&"false"===p.toString()&&(q=!1);(p=s.attr("data-control-storage"))&&"false"===p.toString()&&(o=!1);(p=s.attr("data-control-animation"))&&"false"===p.toString()&&(j=!1);(p=s.attr("data-control-animate-to-top"))&&"true"===p.toString()&&(i=!0);if(p=this.options.controlTypes[t]){p.className&&(n=jQuery.fn.jplist.ui.controls[p.className]),p.options&&(f=p.options)}t={type:t,action:s.attr("data-control-action"),name:s.attr("data-control-name"),inDeepLinking:q,inStorage:o,inAnimation:j,isAnimateToTop:i,controlType:p,controlTypeClass:n,controlOptions:f,paths:[]};t=jQuery.extend(!0,t,{$control:s,history:this.history,observer:this.observer,options:this.options,$root:this.$root});t.controlTypeClass&&jQuery.isFunction(t.controlTypeClass)&&(r=new t.controlTypeClass(t));return r};jQuery.fn.jplist.ui.panel.ControlFactory=function(d,h,b,g){return new a(d,h,b,g)}})();(function(){var d=jQuery.fn.jplist.domain,g=function(f,j){for(var i,c=0;c<f.length;c++){i=f[c],i.name===j.name&&i.action===j.action&&jQuery.extend(!0,i,j)}return f},h=function(k,p){for(var l=[],j,r,o,i=0;i<k.controls.length;i++){if(j=k.controls[i],jQuery.isFunction(j.getStatus)&&(j=j.getStatus(p))){r=-1;o=void 0;for(var q=0;q<l.length;q++){if(o=l[q],o.name===j.name){r=q;break}}-1!=r?(o=l[r],o.action==j.action&&o.type!==j.type&&jQuery.extend(!0,l[r],j)):l.push(j)}}return l},e=function(i,k,j,f,l){l={options:i,observer:k,history:j,$root:f,controlFactory:null,$controls:l,controls:[]};l.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(i,k,j,f);for(i=0;i<l.$controls.length;i++){j=l.$controls.eq(i),k=l,(j=k.controlFactory.create(j))&&k.controls.push(j)}return jQuery.extend(this,l)};e.prototype.merge=function(b,f){var c;c=h(this,b);return c=g(c,f)};e.prototype.setDeepLinks=function(j){var p,o,f,i=[],k;for(k=0;k<j.length;k++){p=j[k];o=p.controlName;var c=[];f=void 0;for(var q=0;q<this.controls.length;q++){f=this.controls[q],f.name===o&&c.push(f)}o=c;for(c=0;c<o.length;c++){f=o[c],jQuery.isFunction(f.getStatusByDeepLink)&&(f=f.getStatusByDeepLink(p.propName,p.propValue))&&i.push(f)}}j=h(this,!1);for(k=0;k<i.length;k++){g(j,i[k])}this.observer.trigger(this.observer.events.renderStatusesEvent,[j])};e.prototype.setStatuses=function(t,q){for(var s,r,o=0;o<t.length;o++){s=t[o];r=s.name;for(var l=s.action,k=[],j=void 0,i=0;i<this.controls.length;i++){j=this.controls[i],j.name===r&&j.action===l&&k.push(j)}r=k;for(l=0;l<r.length;l++){jQuery.isFunction(r[l].setStatus)&&r[l].setStatus(s,q)}}};e.prototype.getDeepLinksUrl=function(){var i;i="";for(var j=[],f="",k=0;k<this.controls.length;k++){i=this.controls[k],jQuery.isFunction(i.getDeepLink)&&(f=jQuery.trim(i.getDeepLink())),""!==f&&-1===jQuery.inArray(f,j)&&j.push(f)}return i=j.join(this.options.delimiter1)};e.prototype.getStatuses=function(b){return h(this,b)};e.prototype.getPaths=function(){var b,i=[],f;f=new d.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var j=0;j<this.controls.length;j++){b=this.controls[j],jQuery.isFunction(b.getPaths)&&(b.getPaths(i),f.addRange(i))}return f.paths};e.prototype.add=function(b){(b=this.controlFactory.create(b))&&this.controls.push(b)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(j,k,a,l,i){return new e(j,k,a,l,i)}})();(function(){var a=function(d,f,e){d={options:f,observer:e,$root:d,isStorageEnabled:!1};d.isStorageEnabled="cookies"===d.options.storage||"localstorage"===d.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported();return jQuery.extend(this,d)};a.prototype.save=function(c){this.isStorageEnabled&&("cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(c,this.options.storageName,this.options.cookiesExpiration),"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(c,this.options.storageName))};jQuery.fn.jplist.dal.Storage=function(d,e,b){return new a(d,e,b)}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(d,g,h){g=escape(g);var e=new Date;h=Number(h);-1==h||isNaN(h)?document.cookie=d+"="+g+";path=/;":(e.setMinutes(e.getMinutes()+h),document.cookie=d+"="+g+";path=/; expires="+e.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(g){var i,l,h,j=null;h=document.cookie.split(";");for(var k=0;k<h.length;k++){if(i=h[k].substr(0,h[k].indexOf("=")),l=h[k].substr(h[k].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==g){j=unescape(l);break}}return j};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(a,d,e){a=JSON.stringify(a);jQuery.fn.jplist.dal.services.CookiesService.setCookie(d,a,e)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(a){var c=[];(a=jQuery.fn.jplist.dal.services.CookiesService.getCookie(a))&&(c=jQuery.parseJSON(a));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage" in window&&null!==window.localStorage}catch(a){return !1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(a,d){var e;e=JSON.stringify(a);window.localStorage[d]=e};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(a){var c=[];(a=window.localStorage[a])&&(c=jQuery.parseJSON(a));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.URIService={};jQuery.fn.jplist.dal.services.URIService.get=function(g,i,l,h,j){var k=i.dataSource.server;k.ajax.data||(k.ajax.data={});k.ajax.data.statuses=encodeURIComponent(JSON.stringify(g,function(b,c){return c&&c.nodeType?null:c}));jQuery.ajax(k.ajax).done(function(b,d,c){jQuery.isFunction(l)&&l(b,g,d,c);jQuery.isFunction(k.serverOkCallback)&&k.serverOkCallback(b,g,d,c)}).fail(function(){jQuery.isFunction(h)&&h(g);jQuery.isFunction(k.serverErrorCallback)&&k.serverErrorCallback(g)}).always(function(){jQuery.isFunction(j)&&j(g)})}})();(function(){var d=function(j,l){var i=null,m,k;m=j.$control.data("storage-status");if(l&&m){i=m}else{switch(l?(m=j.$control.find('li:has(span[data-default="true"])').eq(0),0>=m.length&&(m=j.$control.find("li:eq(0)"))):m=j.$control.find(".active"),m=m.find("span"),j.action){case"paging":i=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(m.attr("data-number"));i=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,i,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking);break;case"sort":(i=j.$control.attr("data-datetime-format"))||(i="");(k=j.$control.attr("data-ignore"))||(k="");i=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(m.attr("data-path"),m.attr("data-type"),m.attr("data-order"),i,k);i=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,i,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking);break;case"filter":i=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(m.attr("data-path"),m.attr("data-type")),i=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,i,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking)}}return i},g=function(j,l){var i,m,k;j.$control.find("span").each(function(){i=jQuery(this).attr("data-path");m=jQuery(this).attr("data-type");i&&""!==jQuery.trim(i)&&(k=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(i,m),l.push(k))})},h=function(b){var c=jQuery(document).find('[data-control-type="drop-down"]');jQuery(document).click(function(){c.find("ul").hide()});jQuery(document).off("jplist_dropdown_close").on("jplist_dropdown_close",function(f,i){c.each(function(){jQuery(this).is(i)||jQuery(this).find("ul").hide()})});b.$control.find(".jplist-dd-panel").off().click(function(f){var i;f.stopPropagation();f=jQuery(this).parents("[data-control-type]");i=f.find("ul");jQuery(document).trigger("jplist_dropdown_close",[f]);i.is(":visible")?i.hide():i.show()});b.$control.find("li").off().click(function(){var j,k,i,a;j=d(b,!1);a=jQuery(this).find("span");k=a.attr("data-path");i=a.attr("data-number");k?(j.data.path=k,j.data.type=a.attr("data-type"),j.data.order=a.attr("data-order")):i&&(j.data.number=i);b.history.addStatus(j);b.observer.trigger(b.observer.events.statusEvent,[j])})},e=function(b){var c;c=b.$control.find("li:eq(0)");c.addClass("active");c=c.find("span");0>=b.$control.find(".jplist-dd-panel").length&&b.$control.prepend('<div class="jplist-dd-panel">'+c.text()+"</div>");h(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return d(this,b)};e.prototype.getDeepLink=function(){var b="",c;if(this.inDeepLinking&&(c=d(this,!1),c.data)){switch(this.action){case"paging":if(jQuery.isNumeric(c.data.number)||"all"===c.data.number){b=this.name+this.options.delimiter0+"number="+c.data.number}break;case"sort":c.data.path&&(c.data.type&&c.data.order)&&(b=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+c.data.path+this.options.delimiter2+c.data.type+this.options.delimiter2+c.data.order);break;case"filter":c.data.path&&(b=this.name+this.options.delimiter0+"path="+c.data.path)}}return b};e.prototype.getStatusByDeepLink=function(b,i){var f;b:{f=null;var j;if(this.inDeepLinking){if("number"!==b&&b!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==b){f=null;break b}f=d(this,!0);if(f.data){switch(this.action){case"paging":"number"===b&&jQuery.isNumeric(f.data.number)&&(f.data.number=i);break;case"sort":b==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(j=i.split(this.options.delimiter2),3===j.length&&(f.data.path=j[0],f.data.type=j[1],f.data.order=j[2]));break;case"filter":"path"===b&&f.data.path&&(f.data.path=i)}}}}return f};e.prototype.getPaths=function(b){g(this,b)};e.prototype.setStatus=function(i,j){var f;f=null;var k;this.inStorage&&j&&this.$control.data("storage-status",i);!this.inStorage&&j&&(k=this.$control.find('li:has(span[data-default="true"])').eq(0),0>=k.length&&(k=this.$control.find("li:eq(0)")),f=k.find("span"));k=this.$control.find("li");switch(this.action){case"filter":!this.inStorage&&j&&0<f.length?(i.data.path=f.attr("data-path"),i.data.type=f.attr("data-type"),this.history.addStatus(i),this.observer.trigger(this.observer.events.statusEvent,[i])):(k.removeClass("active"),f=this.$control.find('li:has([data-path="'+i.data.path+'"])'),0>=f.length&&(f=k.eq(0)),f.addClass("active"),this.$control.find(".jplist-dd-panel").text(f.eq(0).text()));break;case"sort":!this.inStorage&&j&&0<f.length?(i.data.path=f.attr("data-path"),i.data.type=f.attr("data-type"),i.data.order=f.attr("data-order"),this.history.addStatus(i),this.observer.trigger(this.observer.events.statusEvent,[i])):(k.removeClass("active"),f="default"==i.data.path?this.$control.find('li:has([data-path="default"])'):this.$control.find('li:has([data-path="'+i.data.path+'"][data-type="'+i.data.type+'"][data-order="'+i.data.order+'"])'),0>=f.length&&(f=k.eq(0)),f.addClass("active"),this.$control.find(".jplist-dd-panel").text(f.eq(0).text()));break;case"paging":!this.inStorage&&j&&0<f.length?(i.data.number=f.attr("data-number"),this.history.addStatus(i),this.observer.trigger(this.observer.events.statusEvent,[i])):(k.removeClass("active"),f=this.$control.find('li:has([data-number="'+i.data.number+'"])'),0===f.length&&(f=this.$control.find('li:has([data-number="all"])')),0>=f.length&&(f=k.eq(0)),f.addClass("active"),this.$control.find(".jplist-dd-panel").text(f.eq(0).text()))}};jQuery.fn.jplist.ui.controls.Dropdown=function(a){return new e(a)}})();(function(){var d=function(j,m){var i,n=null,l="",k="";i=j.$control.data("storage-status");if(m&&i){n=i}else{switch(m?(i=j.$control.find('option[data-default="true"]').eq(0),0>=i.length&&(i=j.$control.find("option").eq(0))):i=j.$control.find("option:selected"),j.action){case"paging":n=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(i.attr("data-number"));n=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,n,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking);break;case"sort":l=j.$control.attr("data-datetime-format")||"";k=j.$control.attr("data-ignore")||"";n=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(i.attr("data-path"),i.attr("data-type"),i.attr("data-order"),l,k);n=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,n,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking);break;case"filter":n=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(i.attr("data-path"),i.attr("data-type")),n=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,n,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking)}}return n},g=function(k,i){var n,m,j;k.$control.find("option").each(function(){n=jQuery(this).attr("data-path");m=jQuery(this).attr("data-type");n&&(j=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,m),i.push(j))})},h=function(b){b.$control.change(function(){var i,j,a;i=d(b,!1);j=jQuery(this).find("option:selected");a=j.attr("data-path");j=j.attr("data-number");a?(i.data.path=a,i.data.type=jQuery(this).attr("data-type"),i.data.order=jQuery(this).attr("data-order")):j&&(i.data.number=j);b.history.addStatus(i);b.observer.trigger(b.observer.events.statusEvent,[i])})},e=function(b){h(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return d(this,b)};e.prototype.getDeepLink=function(){var b="",c;if(this.inDeepLinking&&(c=d(this,!1),c.data)){switch(this.action){case"paging":jQuery.isNumeric(c.data.number)&&(b=this.name+this.options.delimiter0+"number="+c.data.number);break;case"sort":c.data.path&&(c.data.type&&c.data.order)&&(b=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+c.data.path+this.options.delimiter2+c.data.type+this.options.delimiter2+c.data.order);break;case"filter":c.data.path&&(b=this.name+this.options.delimiter0+"path="+c.data.path)}}return b};e.prototype.getStatusByDeepLink=function(b,j){var k=null,i;if(this.inDeepLinking&&(k=d(this,!0),k.data)){switch(this.action){case"paging":"number"===b&&jQuery.isNumeric(k.data.number)&&(k.data.number=j);break;case"sort":b==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(i=j.split(this.options.delimiter2),3===i.length&&(k.data.path=i[0],k.data.type=i[1],k.data.order=i[2]));break;case"filter":"path"===b&&k.data.path&&(k.data.path=j)}}return k};e.prototype.getPaths=function(b){g(this,b)};e.prototype.setStatus=function(i,f){var j;this.inStorage&&f&&this.$control.data("storage-status",i);switch(this.action){case"filter":if(!this.inStorage&&f){i.data.path="default",this.history.addStatus(i),this.observer.trigger(this.observer.events.statusEvent,[i])}else{if((j=this.$control.find('option[data-path="'+i.data.path+'"]'))&&0<j.length){j.get(0).selected=!0}}break;case"sort":!this.inStorage&&f?(i.data.path="default",this.history.addStatus(i),this.observer.trigger(this.observer.events.statusEvent,[i])):(j="default"==i.data.path?this.$control.find('option[data-path="'+i.data.path+'"]'):this.$control.find('option[data-path="'+i.data.path+'"][data-type="'+i.data.type+'"][data-order="'+i.data.order+'"]'),0<j.length&&(j.get(0).selected=!0));break;case"paging":j=this.$control.find('option[data-number="'+i.data.number+'"]'),0===j.length&&(j=this.$control.find('option[data-number="all"]')),j.get(0).selected=!0}};jQuery.fn.jplist.ui.controls.Select=function(a){return new e(a)}})();(function(){jQuery.fn.jplist.ui.controls.DropdownFilterDTO=function(a,c){return{path:a,type:c,filterType:"path"}}})();(function(){jQuery.fn.jplist.ui.controls.DropdownPaginationDTO=function(a){return{number:a}}})();(function(){jQuery.fn.jplist.ui.controls.DropdownSortDTO=function(d,h,j,g,i){return{path:d,type:h,order:j,dateTimeFormat:g,ignore:i}}})();(function(){var a=function(g,f){var h;h=null;var i;i=!1;h=g.$control.data("storage-status");if(!f||!h){h=g.$control.find("button[data-active]").eq(0);0>=h.length&&(h=g.$control.find("button").eq(0));h=f?0:Number(h.attr("data-number"))||0;if(i="true"===g.$control.attr("data-jump-to-start")||g.controlOptions.jumpToStart){(i=g.history.getLastStatus())&&("pagination"!==i.type&&"views"!==i.type)&&(h=0)}i=Number(g.$control.attr("data-items-per-page"))||0;h=new jQuery.fn.jplist.ui.controls.PaginationDTO(h,i);h=new jQuery.fn.jplist.app.dto.StatusDTO(g.name,g.action,g.type,h,g.inStorage,g.inAnimation,g.isAnimateToTop,g.inDeepLinking)}return h},d=function(b){b.$control.on("click","button",function(){var c,f=null;c=Number(jQuery(this).attr("data-number"))||0;f=a(b,!1);f.data.currentPage=c;b.history.addStatus(f);b.observer.trigger(b.observer.events.statusEvent,[f])})},e=function(b){b.params={view:new jQuery.fn.jplist.ui.controls.PaginationView(b.$control,b.controlOptions)};d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",c;this.inDeepLinking&&(c=a(this,!1),c.data&&(jQuery.isNumeric(c.data.currentPage)&&(b=this.name+this.options.delimiter0+"currentPage="+c.data.currentPage),jQuery.isNumeric(c.data.number)&&(b=this.name+this.options.delimiter0+"number="+c.data.number)));return b};e.prototype.getStatusByDeepLink=function(b,c){var f;b:if(f=null,this.inDeepLinking){if("currentPage"!==b){f=null;break b}f=a(this,!0);f.data&&"currentPage"===b&&(f.data.currentPage=c)}return f};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);!this.inStorage&&c?(f.data.currentPage=0,this.history.addStatus(f),this.observer.trigger(this.observer.events.statusEvent,[f])):f.data&&f.data.paging&&this.params.view.build(f.data.paging)};jQuery.fn.jplist.ui.controls.Pagination=function(b){return new e(b)}})();(function(){var a=function(f,h,j){var k;k='<div class="jplist-pagesbox" data-type="pagesbox">';for(var i=f;i<h;i++){k+='<button type="button" data-type="page" ',i===j&&(k+=' class="jplist-current" data-active="true" '),f=i+1,k+=' data-number="'+i+'" ',k+=">"+f+"</button> "}return k+"</div>"},c=function(h,j){var n={$control:h,options:j,$pagingprev:null,$pagingmid:null,$pagingnext:null,$jplistFirst:null,$jplistPrev:null,$jplistNext:null,$jplistLast:null,mode:h.attr("data-mode")},o,k,m,i;o=n.$control.attr("data-prev")||n.options.prevArrow;k=n.$control.attr("data-next")||n.options.nextArrow;m=n.$control.attr("data-first")||n.options.firstArrow;i=n.$control.attr("data-last")||n.options.lastArrow;n.$control.html('<div class="jplist-pagingprev" data-type="pagingprev"></div><div class="jplist-pagingmid" data-type="pagingmid"></div><div class="jplist-pagingnext" data-type="pagingnext"></div>');n.$pagingprev=n.$control.find('[data-type="pagingprev"]');n.$pagingmid=n.$control.find('[data-type="pagingmid"]');n.$pagingnext=n.$control.find('[data-type="pagingnext"]');n.$pagingprev.html('<button type="button" class="jplist-first" data-number="0" data-type="first">'+m+'</button><button type="button" class="jplist-prev" data-type="prev">'+o+"</button>");n.$pagingnext.html('<button type="button" class="jplist-next" data-type="next">'+k+'</button><button type="button" class="jplist-last" data-type="last">'+i+"</button>");n.$jplistFirst=n.$pagingprev.find('[data-type="first"]');n.$jplistPrev=n.$pagingprev.find('[data-type="prev"]');n.$jplistNext=n.$pagingnext.find('[data-type="next"]');n.$jplistLast=n.$pagingnext.find('[data-type="last"]');return jQuery.extend(this,n)};c.prototype.build=function(h){if(0<=h.currentPage&&h.currentPage<h.pagesNumber){this.$control.removeClass("jplist-hidden");switch(this.mode){case"google-like":var b="",f;f=Number(this.$control.attr("data-range"))||this.options.range;b=h.currentPage-Math.floor((f-1)/2);0>b&&(b=0);f=b+f;f>h.pagesNumber&&(f=h.pagesNumber);b=a(b,f,h.currentPage);this.$pagingmid.html(b);break;default:var g;g=Number(this.$control.attr("data-range"))||this.options.range;f=Math.floor(h.currentPage/g);b=g*(f+1);b>h.pagesNumber&&(b=h.pagesNumber);b=a(g*f,b,h.currentPage);this.$pagingmid.html(b)}this.$jplistPrev.attr("data-number",h.prevPage).removeClass("jplist-current");this.$jplistNext.attr("data-number",h.nextPage).removeClass("jplist-current");this.$jplistLast.attr("data-number",h.pagesNumber-1).removeClass("jplist-current");1>=h.pagesNumber?this.$control.addClass("jplist-one-page"):this.$control.removeClass("jplist-one-page")}else{this.$control.addClass("jplist-hidden")}0===h.currentPage?this.$pagingprev.addClass("jplist-hidden"):this.$pagingprev.removeClass("jplist-hidden");h.currentPage==h.pagesNumber-1?this.$pagingnext.addClass("jplist-hidden"):this.$pagingnext.removeClass("jplist-hidden")};jQuery.fn.jplist.ui.controls.PaginationView=function(d,e){return new c(d,e)}})();(function(){jQuery.fn.jplist.ui.controls.PaginationDTO=function(a,d){var e={currentPage:a,paging:null};d&&(e.number=d);return e}})();(function(){var a=function(c){return jQuery.extend(this,c)};a.prototype.setStatus=function(d,h){var f,g;f=d.data.paging;!f||0>=f.pagesNumber?(this.$control.html(""),this.$control.addClass("jplist-empty")):(this.$control.removeClass("jplist-empty"),g=this.$control.attr("data-type"),g=g.replace("{current}",f.currentPage+1),g=g.replace("{pages}",f.pagesNumber),g=g.replace("{start}",f.start+1),g=g.replace("{end}",f.end),g=g.replace("{all}",f.itemsNumber),this.$control.html(g))};jQuery.fn.jplist.ui.controls.PaginationInfo=function(b){return new a(b)}})();(function(){var a=function(d){d.$control.on("click",function(){d.observer.trigger(d.observer.events.forceRenderStatusesEvent,[!0])})},c=function(b){a(b);return jQuery.extend(this,b)};jQuery.fn.jplist.ui.controls.Reset=function(d){return new c(d)}})();(function(){var a=function(h,g){var j,k,i;j="";k=h.$control.data("storage-status");g&&k?j=k:(k=h.$control.attr("data-path"),i=g?"":h.$control.val(),h.controlOptions&&h.controlOptions.ignore&&(j=h.controlOptions.ignore),j=new jQuery.fn.jplist.ui.controls.TextboxDTO(k,i,j),j=new jQuery.fn.jplist.app.dto.StatusDTO(h.name,h.action,h.type,j,h.inStorage,h.inAnimation,h.isAnimateToTop,h.inDeepLinking));return j},d=function(b){var c="keyup";if(b.params.$button&&0<b.params.$button.length){b.params.$button.on("click",function(f){f.preventDefault();b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1]);return !1})}else{b.controlOptions&&b.controlOptions.eventName&&(c=b.controlOptions.eventName),b.$control.on(c,function(){b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})}},e=function(b){b.params={path:b.$control.attr("data-path"),dataButton:b.$control.attr("data-button"),$button:null};b.params.dataButton&&(b.params.$button=jQuery(b.params.dataButton));d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",c;this.inDeepLinking&&(c=a(this,!1),c.data&&""!==jQuery.trim(c.data.value)&&(b=this.name+this.options.delimiter0+"value="+c.data.value));return b};e.prototype.getStatusByDeepLink=function(b,c){var f=null;this.inDeepLinking&&(f=a(this,!0),f.data&&"value"===b&&(f.data.value=c));return f};e.prototype.getPaths=function(f){var c;c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,null);f.push(c)};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);!this.inStorage&&c?(f.data.value="",this.observer.trigger(this.observer.events.statusEvent,[f])):f.data&&(f.data.value||(f.data.value=""),this.$control.val(f.data.value))};jQuery.fn.jplist.ui.controls.Textbox=function(b){return new e(b)}})();(function(){jQuery.fn.jplist.ui.controls.TextboxDTO=function(a,d,e){return{path:a,ignore:e,value:d,filterType:"TextFilter"}}})();(function(){var a=function(f,c){var g;g=null;g=f.params.defaultView;c&&f.params.storageStatus?g=f.params.storageStatus:(g=c?f.params.defaultView:f.params.currentView,g=new jQuery.fn.jplist.ui.controls.ViewsDTO(g),g=new jQuery.fn.jplist.app.dto.StatusDTO(f.name,f.action,f.type,g,f.inStorage,f.inAnimation,f.isAnimateToTop,f.inDeepLinking));return g},d=function(b){b.params.$buttons.on("click",function(){var c=jQuery(this).attr("data-type");b.$root.removeClass(b.params.types.join(" ")).addClass(c);b.params.currentView=c;b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={$buttons:b.$control.find("[data-type]"),storageStatus:null,defaultView:b.$control.attr("data-default")||"list-view",currentView:b.$control.attr("data-default")||"list-view",types:[]};0<b.params.$buttons.length&&(b.params.$buttons.each(function(){var c=jQuery(this).attr("data-type");c&&b.params.types.push(c)}),d(b));return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",c;this.inDeepLinking&&(c=a(this,!1),c.data&&(b=this.name+this.options.delimiter0+"view="+c.data.view));return b};e.prototype.getStatusByDeepLink=function(b,c){var f=null;this.inDeepLinking&&(f=a(this,!0),f.data.view=c);return f};e.prototype.setStatus=function(f,c){f.data&&(this.inStorage&&c&&(this.params.storageStatus=f),this.$root.removeClass(this.params.types.join(" ")),!this.inStorage&&c?(this.$root.addClass(this.params.defaultView),f.data.view=this.params.defaultView,this.params.currentView=this.params.defaultView,this.observer.trigger(this.observer.events.statusEvent,[f])):(this.$root.addClass(f.data.view),this.params.currentView=f.data.view))};jQuery.fn.jplist.ui.controls.Views=function(b){return new e(b)}})();(function(){jQuery.fn.jplist.ui.controls.ViewsDTO=function(a){this.view=a}})();(function(){var a=function(c){return jQuery.extend(this,c)};a.prototype.getStatus=function(c){c=new jQuery.fn.jplist.ui.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore"));return new jQuery.fn.jplist.app.dto.StatusDTO(this.name,this.action,this.type,c,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)};a.prototype.getPaths=function(d){var f,e;f=this.$control.attr("data-path");e=this.$control.attr("data-type");f&&(f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(f,e),d.push(f))};jQuery.fn.jplist.ui.controls.DefaultSort=function(b){return new a(b)}})();(function(){jQuery.fn.jplist.ui.controls.DefaultSortDTO=function(d,h,j,g,i){return{path:d,type:h,order:j,dateTimeFormat:g,ignore:i}}})();(function(){var a=function(k,i){var p,q,o,j,n=null,g="";q=k.$control.data("path");j=k.$control.data("dataType");o=k.$control.data("dataText");p=k.$control.data("$countValue");switch(j){case"path":n=jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(q,i);break;case"text":k.controlOptions&&k.controlOptions.ignore&&(g=k.controlOptions.ignore);n=jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(o,q,i,g);break;case"range":n=jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(q,i,0,0,Number(k.$control.data("dataMin")),Number(k.$control.data("dataMax")))}n&&(p.html(n.length),0===n.length?k.$control.addClass("count-0"):k.$control.removeClass("count-0"))},d=function(b){switch(b.$control.data("dataMode")){case"static":b.observer.on(b.observer.events.collectionReadyEvent,function(c,f){a(b,f.dataitems)});break;case"filter":b.observer.on(b.observer.events.filterEvent,function(f,g,h){a(b,h.dataview)});break;case"all":b.observer.on(b.observer.events.setStatusesEvent,function(f,g,h){a(b,h.dataview)})}},e=function(j){var g,p,q,n,i,o,f;g=j.$control.attr("data-format");n=j.$control.attr("data-mode")||"static";i=j.$control.attr("data-type")||"path";p=j.$control.attr("data-path");q=j.$control.attr("data-text");o=Number(j.$control.attr("data-min"));f=Number(j.$control.attr("data-max"));g&&(g=g.replace("{count}",'<span data-type="count-value"></span>'),j.$control.html(g),g=j.$control.find('[data-type="count-value"]'),j.$control.data("$countValue",g));p&&(g=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(p,null),j.$control.data("path",g));j.$control.data("dataMode",n);j.$control.data("dataType",i);j.$control.data("dataPath",p);j.$control.data("dataText",q);j.$control.data("dataMin",o);j.$control.data("dataMax",f);d(j);return jQuery.extend(this,j)};jQuery.fn.jplist.ui.controls.Counter=function(b){return new e(b)}})();(function(){var a=function(g){var f,i={},j,h;f=g.controlOptions;j=g.$control.find('[data-type="prev"]');h=g.$control.find('[data-type="next"]');g.$control.data("jplist-datepicker-range-prev",j);g.$control.data("jplist-datepicker-range-next",h);j.off().change(function(){""===jQuery.trim(jQuery(this).val())&&(g.history.addStatus(d(g,!1)),g.observer.trigger(g.observer.events.forceRenderStatusesEvent,[!1]))});h.off().change(function(){""===jQuery.trim(jQuery(this).val())&&(g.history.addStatus(d(g,!1)),g.observer.trigger(g.observer.events.forceRenderStatusesEvent,[!1]))});i.onSelect=function(c,k){g.history.addStatus(d(g,!1));g.observer.trigger(g.observer.events.forceRenderStatusesEvent,[!1])};f&&(f.datepicker(j,i),f.datepicker(h,i))},d=function(k,i){var p=null,q=p=p=null,o,j,n,g;o=k.$control.data("storage-status");i&&o?p=o:(g=k.$control.attr("data-path").toString(),o=k.$control.attr("data-datetime-format").toString(),j=k.$control.data("jplist-datepicker-range-prev"),n=k.$control.data("jplist-datepicker-range-next"),i||(p=j.datepicker("getDate"),q=n.datepicker("getDate")),p=new jQuery.fn.jplist.ui.controls.DatePickerRangeFilterDTO(g,o,p,q),p=new jQuery.fn.jplist.app.dto.StatusDTO(k.name,k.action,k.type,p,k.inStorage,k.inAnimation,k.isAnimateToTop,k.inDeepLinking));return p},e=function(b){a(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return d(this,b)};e.prototype.getDeepLink=function(){var f="",c;this.inDeepLinking&&(c=d(this,!1),c.data&&(jQuery.isNumeric(c.data.prev_year)&&(jQuery.isNumeric(c.data.prev_month)&&jQuery.isNumeric(c.data.prev_day))&&(f+=this.name+this.options.delimiter0+"prev="+c.data.prev_year+this.options.delimiter2+c.data.prev_month+this.options.delimiter2+c.data.prev_day),jQuery.isNumeric(c.data.next_year)&&(jQuery.isNumeric(c.data.next_month)&&jQuery.isNumeric(c.data.next_day))&&(""!==f&&(f+=this.options.delimiter1),f+=this.name+this.options.delimiter0+"next="+c.data.next_year+this.options.delimiter2+c.data.next_month+this.options.delimiter2+c.data.next_day)));return f};e.prototype.getStatusByDeepLink=function(g,f){var h=null,i;if(this.inDeepLinking&&(h=d(this,!0),h.data)){switch(g){case"prev":i=f.split(this.options.delimiter2);3===i.length&&(h.data.prev_year=i[0],h.data.prev_month=i[1],h.data.prev_day=i[2]);break;case"next":i=f.split(this.options.delimiter2),3===i.length&&(h.data.next_year=i[0],h.data.next_month=i[1],h.data.next_day=i[2])}}return h};e.prototype.getPaths=function(f){var c;if(c=this.$control.attr("data-path").toString()){c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,"datetime"),f.push(c)}};e.prototype.setStatus=function(h,g){var j,k,i;this.inStorage&&g&&this.$control.data("storage-status",h);k=this.$control.data("jplist-datepicker-range-prev");i=this.$control.data("jplist-datepicker-range-next");jQuery.isNumeric(h.data.prev_year)&&jQuery.isNumeric(h.data.prev_month)&&jQuery.isNumeric(h.data.prev_day)?(j=new Date(h.data.prev_year,h.data.prev_month,h.data.prev_day),k.datepicker("setDate",j)):k.val("");jQuery.isNumeric(h.data.next_year)&&jQuery.isNumeric(h.data.next_month)&&jQuery.isNumeric(h.data.next_day)?(j=new Date(h.data.next_year,h.data.next_month,h.data.next_day),i.datepicker("setDate",j)):i.val("")};jQuery.fn.jplist.ui.controls.DatePickerRangeFilter=function(b){return new e(b)}})();(function(){jQuery.fn.jplist.ui.controls.DatePickerRangeFilterDTO=function(d,g,h,e){d={path:d,format:g,filterType:"dateRange",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""};h&&(d.prev_year=h.getFullYear(),d.prev_month=h.getMonth(),d.prev_day=h.getDate());e&&(d.next_year=e.getFullYear(),d.next_month=e.getMonth(),d.next_day=e.getDate());return d}})();(function(){var a=function(j,g){var n=null,o,m,i,k;g&&j.params.storageStatus?n=j.params.storageStatus:(n=j.$control.attr("data-path").toString(),o=j.params.$uiSlider.slider("option","min"),m=j.params.$uiSlider.slider("option","max"),g?(i=o,k=m):(i=j.params.$uiSlider.slider("values",0),k=j.params.$uiSlider.slider("values",1)),n=new jQuery.fn.jplist.ui.controls.RangeSliderDTO(n,o,m,i,k),n=new jQuery.fn.jplist.app.dto.StatusDTO(j.name,j.action,j.type,n,j.inStorage,j.inAnimation,j.isAnimateToTop,j.inDeepLinking));return n},d=function(b){b.params.$uiSlider.on("slidechange",function(c,f){b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={$uiSlider:b.$control.find('[data-type="ui-slider"]'),$prev:b.$control.find('[data-type="prev-value"]'),$next:b.$control.find('[data-type="next-value"]'),controlOptions:b.controlOptions,storageStatus:null};b.params.controlOptions&&(b.params.controlOptions.ui_slider(b.params.$uiSlider,b.params.$prev,b.params.$next),b.params.controlOptions.set_values(b.params.$uiSlider,b.params.$prev,b.params.$next));d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",c;this.inDeepLinking&&(c=a(this,!1),c.data&&(jQuery.isNumeric(c.data.prev)&&jQuery.isNumeric(c.data.next))&&(b=this.name+this.options.delimiter0+"prev"+this.options.delimiter2+"next="+c.data.prev+this.options.delimiter2+c.data.next));return b};e.prototype.getStatusByDeepLink=function(b,f){var g=null,h;this.inDeepLinking&&(g=a(this,!0),g.data&&b==="prev"+this.options.delimiter2+"next"&&(h=f.split(this.options.delimiter2),2===h.length&&(g.data.prev=h[0],g.data.next=h[1])));return g};e.prototype.getPaths=function(f){var c;if(c=this.$control.attr("data-path").toString()){c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,"number"),f.push(c)}};e.prototype.setStatus=function(g,f){var h,i;this.inStorage&&f&&(this.params.storageStatus=g);jQuery.isNumeric(g.data.prev)&&jQuery.isNumeric(g.data.next)&&(h=Number(g.data.prev),i=Number(g.data.next),!isNaN(h)&&!isNaN(i)&&(this.params.$uiSlider.slider("values",0)!=h&&this.params.$uiSlider.slider("values",0,h),this.params.$uiSlider.slider("values",1)!=i&&this.params.$uiSlider.slider("values",1,i)));this.params.controlOptions&&this.params.controlOptions.set_values(this.params.$uiSlider,this.params.$prev,this.params.$next)};jQuery.fn.jplist.ui.controls.RangeSlider=function(b){return new e(b)}})();(function(){jQuery.fn.jplist.ui.controls.RangeSliderDTO=function(d,h,j,g,i){return{path:d,type:"number",filterType:"range",min:h,max:j,prev:g,next:i}}})();(function(){var a=function(g,f){var h,i;i="";h=g.$control.data("storage-status");f&&h?i=h:((h=f?"true"===g.$control.attr("data-selected"):g.params.selected)&&(i="path"),i={path:g.$control.attr("data-path"),filterType:i,selected:h},i=new jQuery.fn.jplist.app.dto.StatusDTO(g.name,g.action,g.type,i,g.inStorage,g.inAnimation,g.isAnimateToTop,g.inDeepLinking));return i},d=function(b){b.$control.on("click",function(){b.params.selected=!b.params.selected;b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={selected:"true"===b.$control.attr("data-selected")};b.options.deepLinking&&(b.params.selected=!1);d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",f=null;this.inDeepLinking&&(f=a(this,!1),f.data&&f.data.selected&&(b=this.name+this.options.delimiter0+"selected=true"));return b};e.prototype.getStatusByDeepLink=function(b,i){var h=null,g;if(this.inDeepLinking&&(h=a(this,!1),h.data&&(g="selected"===b&&"true"===i))){h.data.selected=g,h.data.filterType="path"}return h};e.prototype.getPaths=function(f){var c;if(c=this.$control.attr("data-path")){c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,"text"),f.push(c)}};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);(this.params.selected=f.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonFilter=function(b){return new e(b)}})();(function(){var g=function(n,m){var s,t=[],r,o,q;s=n.$control.data("storage-status");m&&s||n.params.$buttons.each(function(b,c){r=jQuery(c);if(q=m?"true"===r.attr("data-selected"):r.data("selected")||!1){(o=r.attr("data-path"))&&t.push(o)}});return s=new jQuery.fn.jplist.app.dto.StatusDTO(n.name,n.action,n.type,{pathGroup:t,filterType:"pathGroup"},n.inStorage,n.inAnimation,n.isAnimateToTop,n.inDeepLinking)},i=function(f,e){var m,n;f.params.$buttons.each(function(b,c){if(m=jQuery(c).attr("data-path")){n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(m,"text"),e.push(n)}})},l=function(m,f,o){var p;m.params.$buttons.each(function(d,c){p=jQuery(c);p.removeClass("jplist-selected");p.data("selected",!1)});if(f.data&&f.data.pathGroup&&jQuery.isArray(f.data.pathGroup)&&0<f.data.pathGroup.length){for(var n=0;n<f.data.pathGroup.length;n++){o=f.data.pathGroup[n],p=m.params.$buttons.filter('[data-path="'+o+'"]'),0<p.length&&(p.addClass("jplist-selected"),p.data("selected",!0))}}},h=function(b){b.params.$buttons.on("click",function(){var a,e;a=jQuery(this);"multiple"===b.params.mode?(e=a.data("selected")||!1,a.data("selected",!e)):(b.params.$buttons.data("selected",!1),a.data("selected",!0));b.history.addStatus(g(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},j=function(d){var c;"multiple"===d.params.mode?d.params.$buttons.each(function(){var a=jQuery(this),e;e="true"===a.attr("data-selected");d.options.deepLinking&&(e=!1);a.data("selected",e)}):(d.params.$buttons.data("selected",!1),c=d.params.$buttons.filter('[data-selected="true"]'),c=0<c.length?c.eq(0):d.params.$buttons.eq(0),c.data("selected",!0),c.attr("data-selected",!0),c.trigger("click"))},k=function(a){a.params={$buttons:a.$control.find("[data-button]"),mode:a.$control.attr("data-mode")||"multiple"};h(a);j(a);return jQuery.extend(this,a)};k.prototype.getStatus=function(b){return g(this,b)};k.prototype.getDeepLink=function(){var b="",m="",n;if(this.inDeepLinking&&(n=g(this,!1),n.data&&n.data.pathGroup&&0<n.data.pathGroup.length)){for(var f=0;f<n.data.pathGroup.length;f++){b=n.data.pathGroup[f],0<f&&(m+=this.options.delimiter2),m+=b}b=this.name+this.options.delimiter0+"selected="+m}return b};k.prototype.getStatusByDeepLink=function(b,e){var f=null;this.inDeepLinking&&(f=g(this,!1),f.data&&"selected"===b&&(f.data.pathGroup=e.split(this.options.delimiter2)));return f};k.prototype.getPaths=function(b){i(this,b)};k.prototype.setStatus=function(d,c){l(this,d,c)};jQuery.fn.jplist.ui.controls.ButtonFilterGroup=function(b){return new k(b)}})();(function(){var a=function(h,g){var j,k;k=null;var i=k="";j=h.$control.data("storage-status");g&&j?k=j:(h.controlOptions&&h.controlOptions.ignore&&(k=h.controlOptions.ignore),i=(j=g?"true"===h.$control.attr("data-selected"):h.params.selected)?h.params.dataText:"",k=new jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO(h.params.dataPath,i,k,j),k=new jQuery.fn.jplist.app.dto.StatusDTO(h.name,h.action,h.type,k,h.inStorage,h.inAnimation,h.isAnimateToTop,h.inDeepLinking));return k},d=function(b){b.$control.on("click",function(){b.params.selected=!b.params.selected;b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1]);b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={selected:"true"===b.$control.attr("data-selected"),dataPath:b.$control.attr("data-path"),dataText:b.$control.attr("data-text")};b.options.deepLinking&&(b.params.selected=!1);d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",f;this.inDeepLinking&&(f=a(this,!1),f.data&&f.data.selected&&(b=this.name+this.options.delimiter0+"selected=true"));return b};e.prototype.getStatusByDeepLink=function(b,i){var h=null,g;if(this.inDeepLinking&&(h=a(this,!1),h.data&&(g="selected"===b&&"true"===i))){h.data.selected=g,h.data.value=this.params.dataText}return h};e.prototype.getPaths=function(f){var c;this.params.dataPath&&(c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),f.push(c))};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);(this.params.selected=f.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonTextFilter=function(b){return new e(b)}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO=function(d,g,h,e){return{path:d,ignore:h,value:g,selected:e,filterType:"TextFilter"}}})();(function(){var d=function(l,k){var o,n=[];o=null;o="";var m;m=l.$control.data("storage-status");k&&m?o=m:(l.controlOptions&&l.controlOptions.ignore&&(o=l.controlOptions.ignore),l.params.$buttons.each(function(b,p){var q=jQuery(p),e;e=k?"true"===q.attr("data-selected"):q.data("selected")||!1;n.push({selected:e,text:q.data("dataText"),path:q.data("dataPath")})}),o=new jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO(n,o),o=new jQuery.fn.jplist.app.dto.StatusDTO(l.name,l.action,l.type,o,l.inStorage,l.inAnimation,l.isAnimateToTop,l.inDeepLinking));return o},h=function(l,k){var o,n,m;l.params.$buttons.each(function(b,c){o=jQuery(this);if(n=o.attr("data-path")){m=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,"text"),k.push(m)}})},j=function(l,k,o){var n;l.params.$buttons.each(function(e,c){n=jQuery(c);n.removeClass("jplist-selected");n.data("selected",!1)});if(k.data&&k.data.textAndPathsGroup&&jQuery.isArray(k.data.textAndPathsGroup)&&0<k.data.textAndPathsGroup.length){for(var m=0;m<k.data.textAndPathsGroup.length;m++){o=k.data.textAndPathsGroup[m],n=l.params.$buttons.filter('[data-path="'+o.path+'"][data-text="'+o.text+'"]'),0<n.length&&o.selected&&(n.addClass("jplist-selected"),n.data("selected",!0))}}},g=function(b){var e;b.params.$buttons.on("click",function(){var a=jQuery(this);e=a.data("selected")||!1;a.data("selected",!e);b.history.addStatus(d(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},i=function(a){a.params={$buttons:a.$control.find("[data-button]")};a.params.$buttons.each(function(){var b=jQuery(this),e;e="true"===b.attr("data-selected");a.options.deepLinking&&(e=!1);b.data("selected",e);b.data("dataPath",b.attr("data-path"));b.data("dataText",b.attr("data-text"))});g(a);return jQuery.extend(this,a)};i.prototype.getStatus=function(b){return d(this,b)};i.prototype.getDeepLink=function(){var b="",n,m,l=[];if(this.inDeepLinking&&(n=d(this,!1),n.data&&n.data.textAndPathsGroup&&0<n.data.textAndPathsGroup.length)){for(var k=0;k<n.data.textAndPathsGroup.length;k++){m=n.data.textAndPathsGroup[k],m.selected&&l.push(m.text+this.options.delimiter3+m.path)}0<l.length&&(b=this.name+this.options.delimiter0+"selected="+l.join(this.options.delimiter2))}return b};i.prototype.getStatusByDeepLink=function(k,p){var o=null,n,l;if(this.inDeepLinking&&(o=d(this,!1),o.data&&"selected"===k)){o.data.textAndPathsGroup=[];n=p.split(this.options.delimiter2);for(var b=0;b<n.length;b++){l=n[b].split(this.options.delimiter3),2===l.length&&o.data.textAndPathsGroup.push({selected:!0,text:l[0],path:l[1]})}}return o};i.prototype.getPaths=function(b){h(this,b)};i.prototype.setStatus=function(e,c){j(this,e,c)};jQuery.fn.jplist.ui.controls.ButtonTextFilterGroup=function(b){return new i(b)}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO=function(a,c){return{textAndPathsGroup:a,ignore:c,filterType:"textFilterPathGroup"}}})();(function(){var d=function(l,k){var o,n=[];o=null;var m;o=l.$control.data("storage-status");if(!k||!o){l.params.$checkboxes.each(function(b,f){var e=jQuery(f);m=k?e.data("selected-on-start")||!1:e.get(0).checked;e=e.attr("data-path");m&&e&&n.push(e)}),o=new jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO(n),o=new jQuery.fn.jplist.app.dto.StatusDTO(l.name,l.action,l.type,o,l.inStorage,l.inAnimation,l.isAnimateToTop,l.inDeepLinking)}return o},h=function(e,c){e.params.$checkboxes.each(function(b,k){var f;if(f=jQuery(this).attr("data-path")){f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(f,"text"),c.push(f)}})},j=function(l,k,o){var n;l.params.$checkboxes.each(function(e,c){n=jQuery(c);n.removeClass("jplist-selected");n.get(0).checked=!1});if(k.data&&k.data.pathGroup&&jQuery.isArray(k.data.pathGroup)&&0<k.data.pathGroup.length){for(var m=0;m<k.data.pathGroup.length;m++){o=k.data.pathGroup[m],n=l.params.$checkboxes.filter('[data-path="'+o+'"]'),0<n.length&&(n.addClass("jplist-selected"),n.get(0).checked=!0)}}},g=function(b){b.params.$checkboxes.on("change",function(){b.history.addStatus(d(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},i=function(a){a.params={$checkboxes:a.$control.find("[data-path]")};a.params.$checkboxes.each(function(){var b=jQuery(this),e;e=b.get(0).checked;a.options.deepLinking&&(e=!1);b.data("selected-on-start",e)});g(a);return jQuery.extend(this,a)};i.prototype.getStatus=function(b){return d(this,b)};i.prototype.getDeepLink=function(){var b="",k,f="";if(this.inDeepLinking&&(k=d(this,!1),k.data&&jQuery.isArray(k.data.pathGroup)&&0<k.data.pathGroup.length)){for(b=0;b<k.data.pathGroup.length;b++){""!==f&&(f+=this.options.delimiter2),f+=k.data.pathGroup[b]}b=this.name+this.options.delimiter0+"pathGroup="+f}return b};i.prototype.getStatusByDeepLink=function(b,m){var l=null,k;this.inDeepLinking&&(l=d(this,!0),l.data&&"pathGroup"===b&&(k=m.split(this.options.delimiter2),0<k.length&&(l.data.pathGroup=k)));return l};i.prototype.getPaths=function(b){h(this,b)};i.prototype.setStatus=function(e,c){j(this,e,c)};jQuery.fn.jplist.ui.controls.CheckboxGroupFilter=function(b){return new i(b)}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO=function(a){return{pathGroup:a,filterType:"pathGroup"}}})();(function(){var d=function(k,i){var n,m=[];n=null;var j;n=k.$control.data("storage-status");if(!i||!n){k.params.$checkboxes.each(function(b,l){var f=jQuery(l);j=i?f.data("selected-on-start")||!1:f.get(0).checked;(f=f.val())&&j&&m.push(f)}),n=new jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO(m,k.params.dataLogic,k.params.dataPath,k.params.ignore),n=new jQuery.fn.jplist.app.dto.StatusDTO(k.name,k.action,k.type,n,k.inStorage,k.inAnimation,k.isAnimateToTop,k.inDeepLinking)}return n},g=function(k,i,n){var m;k.params.$checkboxes.each(function(f,c){m=jQuery(c);m.removeClass("jplist-selected");m.get(0).checked=!1});if(i.data&&i.data.textGroup&&jQuery.isArray(i.data.textGroup)&&0<i.data.textGroup.length){for(var j=0;j<i.data.textGroup.length;j++){n=i.data.textGroup[j],m=k.params.$checkboxes.filter('[value="'+n+'"]'),0<m.length&&(m.addClass("jplist-selected"),m.get(0).checked=!0)}}},h=function(b){b.params.$checkboxes.on("change",function(){b.history.addStatus(d(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={$checkboxes:b.$control.find('input[type="checkbox"]'),dataPath:b.$control.attr("data-path"),dataLogic:b.$control.attr("data-logic")||"or",ignore:""};b.controlOptions&&b.controlOptions.ignore&&(b.params.ignore=b.controlOptions.ignore);b.params.$checkboxes.each(function(){var a=jQuery(this),f;f=a.get(0).checked;b.options.deepLinking&&(f=!1);a.data("selected-on-start",f)});h(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return d(this,b)};e.prototype.getDeepLink=function(){var b="",j,i="";if(this.inDeepLinking&&(j=d(this,!1),j.data&&jQuery.isArray(j.data.textGroup)&&0<j.data.textGroup.length)){for(b=0;b<j.data.textGroup.length;b++){""!==i&&(i+=this.options.delimiter2),i+=j.data.textGroup[b]}b=this.name+this.options.delimiter0+"textGroup="+i}return b};e.prototype.getStatusByDeepLink=function(b,l){var j=null,i;this.inDeepLinking&&(j=d(this,!0),j.data&&"textGroup"===b&&(i=l.split(this.options.delimiter2),0<i.length&&(j.data.textGroup=i)));return j};e.prototype.getPaths=function(f){var c;this.params.dataPath&&(c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),f.push(c))};e.prototype.setStatus=function(f,c){g(this,f,c)};jQuery.fn.jplist.ui.controls.CheckboxTextFilter=function(a){return new e(a)}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO=function(d,g,h,e){return{textGroup:d,logic:g,path:h,ignoreRegex:e,filterType:"textGroup"}}})();(function(){var a=function(h,g){var j=null,i,j=h.$control.data("storage-status");if(!g||!j){i=g?h.params.initialSelected||!1:h.$control.get(0).checked,j={path:h.$control.attr("data-path"),type:"TextFilter",filterType:"path",selected:i},i||(j.filterType=""),j=new jQuery.fn.jplist.app.dto.StatusDTO(h.name,h.action,h.type,j,h.inStorage,h.inAnimation,h.isAnimateToTop,h.inDeepLinking)}return j},d=function(b){b.$control.on("change",function(){b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={initialSelected:b.$control.get(0).checked||!1};d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",f;this.inDeepLinking&&(f=a(this,!1),f.data&&f.data.selected&&(b=this.name+this.options.delimiter0+"selected=true"));return b};e.prototype.getStatusByDeepLink=function(b,g){var f=null;this.inDeepLinking&&(f=a(this,!0),f.data&&"selected"===b&&(f.data.selected=!0));return f};e.prototype.getPaths=function(f){var c;if(c=this.$control.attr("data-path")){c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,"text"),f.push(c)}};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);this.$control.get(0).checked=f.data.selected||!1};jQuery.fn.jplist.ui.controls.RadioButtonsFilter=function(b){return new e(b)}})();(function(){var a=function(h,g){var j,i;i=null;j=h.$control.data("storage-status");g&&j?i=j:(j=g?"true"===h.$control.attr("data-selected"):h.params.selected,h.params.path&&(i=j?{path:h.params.path,type:"number",filterType:"range",min:0,max:0,prev:h.params.prev,next:h.params.next,selected:j}:{path:h.params.path,filterType:"",selected:j},i=new jQuery.fn.jplist.app.dto.StatusDTO(h.name,h.action,h.type,i,h.inStorage,h.inAnimation,h.isAnimateToTop,h.inDeepLinking)));return i},d=function(b){b.$control.on("click",function(){b.params.selected=!b.params.selected;b.history.addStatus(a(b,!1));b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={path:b.$control.attr("data-path"),prev:Number(b.$control.attr("data-min")),next:Number(b.$control.attr("data-max")),selected:"true"===b.$control.attr("data-selected")};d(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(b){return a(this,b)};e.prototype.getDeepLink=function(){var b="",f;this.inDeepLinking&&(f=a(this,!1),f.data&&f.data.selected&&(b=this.name+this.options.delimiter0+"selected=true"));return b};e.prototype.getStatusByDeepLink=function(b,g){var f=null;this.inDeepLinking&&(f=a(this,!1),f.data&&("selected"===b&&"true"===g)&&(f.data={path:this.params.path,type:"number",filterType:"range",min:0,max:0,prev:this.params.prev,next:this.params.next,selected:!0}));return f};e.prototype.getPaths=function(f){var c;this.params.path&&(c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,"number"),f.push(c))};e.prototype.setStatus=function(f,c){this.inStorage&&c&&this.$control.data("storage-status",f);(this.params.selected=f.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.RangeSliderToggleFilter=function(b){return new e(b)}})();(function(){var a=function(b){!b.history.statusesQueue||0>=b.history.statusesQueue.length?b.$control.addClass("jplist-disabled"):b.$control.removeClass("jplist-disabled")},d=function(b){b.observer.on(b.observer.events.setStatusesEvent,function(i,h,g){a(b)});b.$control.on("click",function(){var j,i,h;b.history.popStatus();b.history.popList();j=b.history.getLastStatus();if((h=b.history.getLastList()||[])&&j){for(var g=0;g<h.length;g++){i=h[g],i.name===j.name&&i.action===j.action&&jQuery.extend(!0,h[g],j)}b.observer.trigger(b.observer.events.renderStatusesEvent,[h])}else{b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!0])}a(b)})},e=function(b){a(b);d(b);return jQuery.extend(this,b)};jQuery.fn.jplist.ui.controls.BackButton=function(b){return new e(b)}})();(function(){var a=function(d){d.observer.on(d.observer.events.renderStatusesEvent,function(b){d.$control.removeClass("jplist-hide-preloader")});d.observer.on(d.observer.events.setStatusesEvent,function(b,f,g){d.$control.addClass("jplist-hide-preloader")})},c=function(b){a(b);return jQuery.extend(this,b)};jQuery.fn.jplist.ui.controls.Preloader=function(d){return new c(d)}})();
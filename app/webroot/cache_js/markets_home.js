!function(b){"undefined"==typeof b.fn.each2&&b.extend(b.fn,{each2:function(a){for(var h=b([0]),g=-1,f=this.length;++g<f&&(h.context=h[0]=this[g])&&a.call(h[0],g,h)!==!1;){}return this}})}(jQuery),function(aE,aD){function aq(a){var d=aE(document.createTextNode(""));a.before(d),d.before(a),d.remove()}function ap(g){var f,j,i,h;if(!g||g.length<1){return g}for(f="",j=0,i=g.length;i>j;j++){h=g.charAt(j),f+=ar[h]||h}return f}function ao(f,e){for(var h=0,g=e.length;g>h;h+=1){if(am(f,e[h])){return h}}return -1}function an(){var a=aE(at);a.appendTo("body");var d={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),d}function am(b,d){return b===d?!0:b===aD||d===aD?!1:null===b||null===d?!1:b.constructor===String?b+""==d+"":d.constructor===String?d+""==b+"":!1}function al(a,j){var i,h,g;if(null===a||a.length<1){return[]}for(i=a.split(j),h=0,g=i.length;g>h;h+=1){i[h]=aE.trim(i[h])}return i}function ak(b){return b.outerWidth(!1)-b.width()}function aj(b){var a="keyup-change-value";b.on("keydown",function(){aE.data(b,a)===aD&&aE.data(b,a,b.val())}),b.on("keyup",function(){var c=aE.data(b,a);c!==aD&&b.val()!==c&&(aE.removeData(b,a),b.trigger("keyup-change"))})}function ai(a){a.on("mousemove",function(e){var b=aw;(b===aD||b.x!==e.pageX||b.y!==e.pageY)&&aE(e.target).trigger("mousemove-filtered",e)})}function ah(b,h,g){g=g||aD;var f;return function(){var a=arguments;window.clearTimeout(f),f=window.setTimeout(function(){h.apply(g,a)},b)}}function ag(e){var f,d=!1;return function(){return d===!1&&(f=e(),d=!0),f}}function af(e,d){var f=ah(e,function(b){d.trigger("scroll-debounced",b)});d.on("scroll",function(b){ao(b.target,d.get())>=0&&f(b)})}function ae(b){b[0]!==document.activeElement&&window.setTimeout(function(){var g,a=b[0],h=b.val().length;b.focus();var f=a.offsetWidth>0||a.offsetHeight>0;f&&a===document.activeElement&&(a.setSelectionRange?a.setSelectionRange(h,h):a.createTextRange&&(g=a.createTextRange(),g.collapse(!1),g.select()))},0)}function ad(a){a=aE(a)[0];var h=0,g=0;if("selectionStart" in a){h=a.selectionStart,g=a.selectionEnd-h}else{if("selection" in document){a.focus();var f=document.selection.createRange();g=document.selection.createRange().text.length,f.moveStart("character",-a.value.length),h=f.text.length-g}}return{offset:h,length:g}}function ac(b){b.preventDefault(),b.stopPropagation()}function ab(b){b.preventDefault(),b.stopImmediatePropagation()}function aa(a){if(!ax){var d=a[0].currentStyle||window.getComputedStyle(a[0],null);ax=aE(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),ax.attr("class","select2-sizer"),aE("body").append(ax)}return ax.text(a.val()),ax.width()}function Z(a,l,k){var j,h,i=[];j=a.attr("class"),j&&(j=""+j,aE(j.split(" ")).each2(function(){0===this.indexOf("select2-")&&i.push(this)})),j=l.attr("class"),j&&(j=""+j,aE(j.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(h=k(this),h&&i.push(h))})),a.attr("class",i.join(" "))}function Y(h,g,l,k){var j=ap(h.toUpperCase()).indexOf(ap(g.toUpperCase())),i=g.length;return 0>j?(l.push(k(h)),void 0):(l.push(k(h.substring(0,j))),l.push("<span class='select2-match'>"),l.push(k(h.substring(j,j+i))),l.push("</span>"),l.push(k(h.substring(j+i,h.length))),void 0)}function X(d){var c={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(d).replace(/[&<>"'\/\\]/g,function(b){return c[b]})}function W(l){var k,j=null,i=l.quietMillis||100,b=l.url,a=this;return function(c){window.clearTimeout(k),k=window.setTimeout(function(){var n=l.data,m=b,h=l.transport||aE.fn.select2.ajaxDefaults.transport,g={type:l.type||"GET",cache:l.cache||!1,jsonpCallback:l.jsonpCallback||aD,dataType:l.dataType||"json"},e=aE.extend({},aE.fn.select2.ajaxDefaults.params,g);n=n?n.call(a,c.term,c.page,c.context):null,m="function"==typeof m?m.call(a,c.term,c.page,c.context):m,j&&"function"==typeof j.abort&&j.abort(),l.params&&(aE.isFunction(l.params)?aE.extend(e,l.params.call(a)):aE.extend(e,l.params)),aE.extend(e,{url:m,dataType:l.dataType,data:n,success:function(f){var d=l.results(f,c.page);c.callback(d)}}),j=h.call(a,e)},i)}}function V(a){var k,j,l=a,i=function(b){return""+b.text};aE.isArray(l)&&(j=l,l={results:j}),aE.isFunction(l)===!1&&(j=l,l=function(){return j});var h=l();return h.text&&(i=h.text,aE.isFunction(i)||(k=h.text,i=function(b){return b[k]})),function(c){var f,n=c.term,m={results:[]};return""===n?(c.callback(l()),void 0):(f=function(o,g){var d,b;if(o=o[0],o.children){d={};for(b in o){o.hasOwnProperty(b)&&(d[b]=o[b])}d.children=[],aE(o.children).each2(function(p,e){f(e,d.children)}),(d.children.length||c.matcher(n,i(d),o))&&g.push(d)}else{c.matcher(n,i(o),o)&&g.push(o)}},aE(l().results).each2(function(e,d){f(d,m.results)}),c.callback(m),void 0)}}function U(b){var a=aE.isFunction(b);return function(h){var d=h.term,c={results:[]};aE(a?b():b).each(function(){var e=this.text!==aD,f=e?this.text:this;(""===d||h.matcher(d,f))&&c.results.push(e?this:{id:this,text:this})}),h.callback(c)}}function T(a,d){if(aE.isFunction(a)){return !0}if(!a){return !1}if("string"==typeof a){return !0}throw new Error(d+" must be a string, function, or falsy value")}function S(a){if(aE.isFunction(a)){var d=Array.prototype.slice.call(arguments,1);return a.apply(null,d)}return a}function R(a){var d=0;return aE.each(a,function(e,c){c.children?d+=R(c.children):d++}),d}function Q(v,u,t,s){var p,o,n,m,b,r=v,q=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1){return aD}for(;;){for(o=-1,n=0,m=s.tokenSeparators.length;m>n&&(b=s.tokenSeparators[n],o=v.indexOf(b),!(o>=0));n++){}if(0>o){break}if(p=v.substring(0,o),v=v.substring(o+b.length),p.length>0&&(p=s.createSearchChoice.call(this,p,u),p!==aD&&null!==p&&s.id(p)!==aD&&null!==s.id(p))){for(q=!1,n=0,m=u.length;m>n;n++){if(am(s.id(p),s.id(u[n]))){q=!0;break}}q||t(p)}}return r!==v?v:void 0}function P(a,f){var e=function(){};return e.prototype=new a,e.prototype.constructor=e,e.prototype.parent=a.prototype,e.prototype=aE.extend(e.prototype,f),e}if(window.Select2===aD){var aC,aB,aA,az,ay,ax,av,au,aw={x:0,y:0},aC={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(b){switch(b=b.which?b.which:b){case aC.LEFT:case aC.RIGHT:case aC.UP:case aC.DOWN:return !0}return !1},isControl:function(d){var c=d.which;switch(c){case aC.SHIFT:case aC.CTRL:case aC.ALT:return !0}return d.metaKey?!0:!1},isFunctionKey:function(b){return b=b.which?b.which:b,b>=112&&123>=b}},at="<div class='select2-measure-scrollbar'></div>",ar={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};av=aE(document),ay=function(){var b=1;return function(){return b++}}(),av.on("mousemove",function(b){aw.x=b.pageX,aw.y=b.pageY}),aB=P(Object,{bind:function(d){var c=this;return function(){d.apply(c,arguments)}},init:function(l){var k,j,g=".select2-results";this.opts=l=this.prepareOpts(l),this.id=l.id,l.element.data("select2")!==aD&&null!==l.element.data("select2")&&l.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=aE("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(l.element.attr("id")||"autogen"+ay()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=ag(function(){return l.element.closest("body")}),Z(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",l.element.attr("style")),this.container.css(S(l.containerCss)),this.container.addClass(S(l.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",ac),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),Z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(l.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",ac),this.results=k=this.container.find(g),this.search=j=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",ac),ai(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",g,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",g,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",g,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",g,this.bind(this.clearTouchMoved)),af(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),aE(this.container).on("change",".select2-input",function(c){c.stopPropagation()}),aE(this.dropdown).on("change",".select2-input",function(c){c.stopPropagation()}),aE.fn.mousewheel&&k.mousewheel(function(h,d,n,m){var i=k.scrollTop();m>0&&0>=i-m?(k.scrollTop(0),ac(h)):0>m&&k.get(0).scrollHeight-k.scrollTop()+m<=k.height()&&(k.scrollTop(k.get(0).scrollHeight-k.height()),ac(h))}),aj(j),j.on("keyup-change input paste",this.bind(this.updateResults)),j.on("focus",function(){j.addClass("select2-focused")}),j.on("blur",function(){j.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(c){aE(c.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(c),this.selectHighlighted(c))})),this.dropdown.on("click mouseup mousedown focusin",function(c){c.stopPropagation()}),this.nextSearchTerm=aD,aE.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==l.maximumInputLength&&this.search.attr("maxlength",l.maximumInputLength);var b=l.element.prop("disabled");b===aD&&(b=!1),this.enable(!b);var a=l.element.prop("readonly");a===aD&&(a=!1),this.readonly(a),au=au||an(),this.autofocus=l.element.prop("autofocus"),l.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",l.searchInputPlaceholder)},destroy:function(){var b=this.opts.element,d=b.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),d!==aD&&(d.container.remove(),d.liveRegion.remove(),d.dropdown.remove(),b.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?b.attr({tabindex:this.elementTabIndex}):b.removeAttr("tabindex"),b.show())},optionToData:function(b){return b.is("option")?{id:b.prop("value"),text:b.text(),element:b.get(),css:b.attr("class"),disabled:b.prop("disabled"),locked:am(b.attr("locked"),"locked")||am(b.data("locked"),!0)}:b.is("optgroup")?{text:b.attr("label"),children:[],element:b.get(),css:b.attr("class")}:void 0},prepareOpts:function(l){var k,j,g,b,a=this;if(k=l.element,"select"===k.get(0).tagName.toLowerCase()&&(this.select=j=l.element),j&&aE.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in l){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}}),l=aE.extend({},{populateResults:function(p,o,n){var m,i=this.opts.id,c=this.liveRegion;m=function(C,B,A){var z,y,x,w,h,f,G,F,E,D;for(C=l.sortResults(C,B,n),z=0,y=C.length;y>z;z+=1){x=C[z],h=x.disabled===!0,w=!h&&i(x)!==aD,f=x.children&&x.children.length>0,G=aE("<li></li>"),G.addClass("select2-results-dept-"+A),G.addClass("select2-result"),G.addClass(w?"select2-result-selectable":"select2-result-unselectable"),h&&G.addClass("select2-disabled"),f&&G.addClass("select2-result-with-children"),G.addClass(a.opts.formatResultCssClass(x)),G.attr("role","presentation"),F=aE(document.createElement("div")),F.addClass("select2-result-label"),F.attr("id","select2-result-label-"+ay()),F.attr("role","option"),D=l.formatResult(x,F,n,a.opts.escapeMarkup),D!==aD&&(F.html(D),G.append(F)),f&&(E=aE("<ul></ul>"),E.addClass("select2-result-sub"),m(x.children,E,A+1),G.append(E)),G.data("select2-data",x),B.append(G)}c.text(l.formatMatches(C.length))},m(o,p,0)}},aE.fn.select2.defaults,l),"function"!=typeof l.id&&(g=l.id,l.id=function(c){return c[g]}),aE.isArray(l.element.data("select2Tags"))){if("tags" in l){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+l.element.attr("id")}l.tags=l.element.data("select2Tags")}if(j?(l.query=this.bind(function(d){var n,m,i,p={results:[],more:!1},o=d.term;i=function(e,h){var f;e.is("option")?d.matcher(o,e.text(),e)&&h.push(a.optionToData(e)):e.is("optgroup")&&(f=a.optionToData(e),e.children().each2(function(q,c){i(c,f.children)}),f.children.length>0&&h.push(f))},n=k.children(),this.getPlaceholder()!==aD&&n.length>0&&(m=this.getPlaceholderOption(),m&&(n=n.not(m))),n.each2(function(e,c){i(c,p.results)}),d.callback(p)}),l.id=function(c){return c.id}):"query" in l||("ajax" in l?(b=l.element.data("ajax-url"),b&&b.length>0&&(l.ajax.url=b),l.query=W.call(l.element,l.ajax)):"data" in l?l.query=V(l.data):"tags" in l&&(l.query=U(l.tags),l.createSearchChoice===aD&&(l.createSearchChoice=function(c){return{id:aE.trim(c),text:aE.trim(c)}}),l.initSelection===aD&&(l.initSelection=function(c,h){var f=[];aE(al(c.val(),l.separator)).each(function(){var e={id:this,text:this},i=l.tags;aE.isFunction(i)&&(i=i()),aE(i).each(function(){return am(this.id,e.id)?(e=this,!1):void 0}),f.push(e)}),h(f)}))),"function"!=typeof l.query){throw"query function not defined for Select2 "+l.element.attr("id")}if("top"===l.createSearchChoicePosition){l.createSearchChoicePosition=function(d,c){d.unshift(c)}}else{if("bottom"===l.createSearchChoicePosition){l.createSearchChoicePosition=function(d,c){d.push(c)}}else{if("function"!=typeof l.createSearchChoicePosition){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function"}}}return l},monitorSource:function(){var f,e,b=this.opts.element;b.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),f=this.bind(function(){var g=b.prop("disabled");g===aD&&(g=!1),this.enable(!g);var a=b.prop("readonly");a===aD&&(a=!1),this.readonly(a),Z(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),Z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),b.on("propertychange.select2",f),this.mutationCallback===aD&&(this.mutationCallback=function(c){c.forEach(f)}),e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e!==aD&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new e(this.mutationCallback),this.propertyObserver.observe(b.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){var d=aE.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(d),!d.isDefaultPrevented()},triggerChange:function(a){a=a||{},a=aE.extend({},a,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(a),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var d=this._enabled&&!this._readonly,c=!d;return d===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",c),this.close(),this.enabledInterface=d,!0)},enable:function(b){b===aD&&(b=!0),this._enabled!==b&&(this._enabled=b,this.opts.element.prop("disabled",!b),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(b){b===aD&&(b=!1),this._readonly!==b&&(this._readonly=b,this.opts.element.prop("readonly",b),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var A,z,y,k,a,aH=this.dropdown,aG=this.container.offset(),aF=this.container.outerHeight(!1),O=this.container.outerWidth(!1),N=aH.outerHeight(!1),M=aE(window),L=M.width(),K=M.height(),J=M.scrollLeft()+L,I=M.scrollTop()+K,H=aG.top+aF,G=aG.left,F=I>=H+N,E=aG.top-N>=M.scrollTop(),D=aH.outerWidth(!1),C=J>=G+D,B=aH.hasClass("select2-drop-above");B?(z=!0,!E&&F&&(y=!0,z=!1)):(z=!1,!F&&E&&(y=!0,z=!0)),y&&(aH.hide(),aG=this.container.offset(),aF=this.container.outerHeight(!1),O=this.container.outerWidth(!1),N=aH.outerHeight(!1),J=M.scrollLeft()+L,I=M.scrollTop()+K,H=aG.top+aF,G=aG.left,D=aH.outerWidth(!1),C=J>=G+D,aH.show()),this.opts.dropdownAutoWidth?(a=aE(".select2-results",aH)[0],aH.addClass("select2-drop-auto-width"),aH.css("width",""),D=aH.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:au.width),D>O?O=D:D=O,C=J>=G+D):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(A=this.body().offset(),H-=A.top,G-=A.left),C||(G=aG.left+this.container.outerWidth(!1)-D),k={left:G,width:O},z?(k.top=aG.top-N,k.bottom="auto",this.container.addClass("select2-drop-above"),aH.addClass("select2-drop-above")):(k.top=H,k.bottom="auto",this.container.removeClass("select2-drop-above"),aH.removeClass("select2-drop-above")),k=aE.extend(k,S(this.opts.dropdownCss)),aH.css(k)},shouldOpen:function(){var a;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(a=aE.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var i,a=this.containerId,l="scroll."+a,k="resize."+a,j="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),i=aE("#select2-drop-mask"),0==i.length&&(i=aE(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.on("mousedown touchstart click",function(e){aq(i);var f,g=aE("#select2-drop");g.length>0&&(f=g.data("select2"),f.opts.selectOnBlur&&f.selectHighlighted({noFocus:!0}),f.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),aE("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){aE(this).on(k+" "+l+" "+j,function(){h.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,h="scroll."+a,g="resize."+a,f="orientationchange."+a;this.container.parents().add(window).each(function(){aE(this).off(h).off(g).off(f)}),this.clearDropdownAlignmentPreference(),aE("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(aE.Event("select2-close"))}},externalSearch:function(b){this.open(),this.search.val(b),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var p,o,n,m,l,k,j,a=this.results;if(o=this.highlight(),!(0>o)){if(0==o){return a.scrollTop(0),void 0}p=this.findHighlightableChoices().find(".select2-result-label"),n=aE(p[o]),m=n.offset().top+n.outerHeight(!0),o===p.length-1&&(j=a.find("li.select2-more-results"),j.length>0&&(m=j.offset().top+j.outerHeight(!0))),l=a.offset().top+a.outerHeight(!0),m>l&&a.scrollTop(a.scrollTop()+(m-l)),k=n.offset().top-a.offset().top,0>k&&"none"!=n.css("display")&&a.scrollTop(a.scrollTop()+k)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(a){for(var h=this.findHighlightableChoices(),g=this.highlight();g>-1&&g<h.length;){g+=a;var f=aE(h[g]);if(f.hasClass("select2-result-selectable")&&!f.hasClass("select2-disabled")&&!f.hasClass("select2-selected")){this.highlight(g);break}}},highlight:function(a){var g,f,h=this.findHighlightableChoices();return 0===arguments.length?ao(h.filter(".select2-highlighted")[0],h.get()):(a>=h.length&&(a=h.length-1),0>a&&(a=0),this.removeHighlight(),g=aE(h[a]),g.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",g.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(g.text()),f=g.data("select2-data"),f&&this.opts.element.trigger({type:"select2-highlight",val:this.id(f),choice:f}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){var f=aE(a.target).closest(".select2-result-selectable");if(f.length>0&&!f.is(".select2-highlighted")){var e=this.findHighlightableChoices();this.highlight(e.index(f))}else{0==f.length&&this.removeHighlight()}},loadMoreIfNeeded:function(){var n,i=this.results,h=i.find("li.select2-more-results"),m=this.resultsPage+1,l=this,k=this.search.val(),j=this.context;0!==h.length&&(n=h.offset().top-i.offset().top-i.height(),n<=this.opts.loadMorePadding&&(h.addClass("select2-active"),this.opts.query({element:this.opts.element,term:k,page:m,context:j,matcher:this.opts.matcher,callback:this.bind(function(a){l.opened()&&(l.opts.populateResults.call(this,i,a.results,{term:k,page:m,context:j}),l.postprocessResults(a,!1,!1),a.more===!0?(h.detach().appendTo(i).text(S(l.opts.formatLoadMore,m+1)),window.setTimeout(function(){l.loadMoreIfNeeded()},10)):h.remove(),l.positionDropdown(),l.resultsPage=m,l.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(z){function p(){y.removeClass("select2-active"),u.positionDropdown(),x.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.liveRegion.text(x.text()):u.liveRegion.text(u.opts.formatMatches(x.find(".select2-result-selectable").length))}function b(c){x.html(c),p()}var v,t,q,y=this.search,x=this.results,w=this.opts,u=this,s=y.val(),r=aE.data(this.container,"select2-last-term");if((z===!0||!r||!am(s,r))&&(aE.data(this.container,"select2-last-term",s),z===!0||this.showSearchInput!==!1&&this.opened())){q=++this.queryCount;var a=this.getMaximumSelectionSize();if(a>=1&&(v=this.data(),aE.isArray(v)&&v.length>=a&&T(w.formatSelectionTooBig,"formatSelectionTooBig"))){return b("<li class='select2-selection-limit'>"+S(w.formatSelectionTooBig,a)+"</li>"),void 0}if(y.val().length<w.minimumInputLength){return T(w.formatInputTooShort,"formatInputTooShort")?b("<li class='select2-no-results'>"+S(w.formatInputTooShort,y.val(),w.minimumInputLength)+"</li>"):b(""),z&&this.showSearch&&this.showSearch(!0),void 0}if(w.maximumInputLength&&y.val().length>w.maximumInputLength){return T(w.formatInputTooLong,"formatInputTooLong")?b("<li class='select2-no-results'>"+S(w.formatInputTooLong,y.val(),w.maximumInputLength)+"</li>"):b(""),void 0}w.formatSearching&&0===this.findHighlightableChoices().length&&b("<li class='select2-searching'>"+S(w.formatSearching)+"</li>"),y.addClass("select2-active"),this.removeHighlight(),t=this.tokenize(),t!=aD&&null!=t&&y.val(t),this.resultsPage=1,w.query({element:w.element,term:y.val(),page:this.resultsPage,context:null,matcher:w.matcher,callback:this.bind(function(d){var c;if(q==this.queryCount){if(!this.opened()){return this.search.removeClass("select2-active"),void 0}if(this.context=d.context===aD?null:d.context,this.opts.createSearchChoice&&""!==y.val()&&(c=this.opts.createSearchChoice.call(u,y.val(),d.results),c!==aD&&null!==c&&u.id(c)!==aD&&null!==u.id(c)&&0===aE(d.results).filter(function(){return am(u.id(this),u.id(c))}).length&&this.opts.createSearchChoicePosition(d.results,c)),0===d.results.length&&T(w.formatNoMatches,"formatNoMatches")){return b("<li class='select2-no-results'>"+S(w.formatNoMatches,y.val())+"</li>"),void 0}x.empty(),u.opts.populateResults.call(this,x,d.results,{term:y.val(),page:this.resultsPage,context:null}),d.more===!0&&T(w.formatLoadMore,"formatLoadMore")&&(x.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(S(w.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(d,z),p(),this.opts.element.trigger({type:"select2-loaded",items:d})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){ae(this.search)},selectHighlighted:function(f){if(this._touchMoved){return this.clearTouchMoved(),void 0}var e=this.highlight(),h=this.results.find(".select2-highlighted"),g=h.closest(".select2-result").data("select2-data");g?(this.highlight(e),this.onSelect(g,f)):f&&f.noFocus&&this.close()},getPlaceholder:function(){var b;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((b=this.getPlaceholderOption())!==aD?b.text():aD)},getPlaceholderOption:function(){if(this.select){var b=this.select.children("option").first();if(this.opts.placeholderOption!==aD){return"first"===this.opts.placeholderOption&&b||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select)}if(""===b.text()&&""===b.val()){return b}}},initContainerWidth:function(){function b(){var n,m,l,k,j,i;if("off"===this.opts.width){return null}if("element"===this.opts.width){return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"}if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==aD){for(m=n.split(";"),k=0,j=m.length;j>k;k+=1){if(i=m[k].replace(/\s/g,""),l=i.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==l&&l.length>=1){return l[1]}}}return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return aE.isFunction(this.opts.width)?this.opts.width():this.opts.width}var a=b.call(this);null!==a&&this.container.css("width",a)}}),aA=P(aB,{createContainer:function(){var a=aE(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return a},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var f,b,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),f=this.search.get(0),f.createTextRange?(b=f.createTextRange(),b.collapse(!1),b.select()):f.setSelectionRange&&(a=this.search.val().length,f.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=aD&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(aE.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){aE("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,g,l=this.container,k=this.dropdown,j=ay();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=a=l.find(".select2-choice"),this.focusser=l.find(".select2-focusser"),a.find(".select2-chosen").attr("id","select2-chosen-"+j),this.focusser.attr("aria-labelledby","select2-chosen-"+j),this.results.attr("id","select2-results-"+j),this.search.attr("aria-owns","select2-results-"+j),this.focusser.attr("id","s2id_autogen"+j),g=aE("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(g.text()).attr("for",this.focusser.attr("id"));var c=this.opts.element.attr("title");this.opts.element.attr("title",c||g.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(aE("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(b){if(this.isInterfaceEnabled()){if(b.which===aC.PAGE_UP||b.which===aC.PAGE_DOWN){return ac(b),void 0}switch(b.which){case aC.UP:case aC.DOWN:return this.moveHighlight(b.which===aC.UP?-1:1),ac(b),void 0;case aC.ENTER:return this.selectHighlighted(),ac(b),void 0;case aC.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case aC.ESC:return this.cancel(b),ac(b),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(b){if(this.isInterfaceEnabled()&&b.which!==aC.TAB&&!aC.isControl(b)&&!aC.isFunctionKey(b)&&b.which!==aC.ESC){if(this.opts.openOnEnter===!1&&b.which===aC.ENTER){return ac(b),void 0}if(b.which==aC.DOWN||b.which==aC.UP||b.which==aC.ENTER&&this.opts.openOnEnter){if(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey){return}return this.open(),ac(b),void 0}return b.which==aC.DELETE||b.which==aC.BACKSPACE?(this.opts.allowClear&&this.clear(),ac(b),void 0):void 0}})),aj(this.focusser),this.focusser.on("keyup-change input",this.bind(function(b){if(this.opts.minimumResultsForSearch>=0){if(b.stopPropagation(),this.opened()){return}this.open()}})),a.on("mousedown touchstart","abbr",this.bind(function(b){this.isInterfaceEnabled()&&(this.clear(),ab(b),this.close(),this.selection.focus())})),a.on("mousedown touchstart",this.bind(function(b){aq(a),this.container.hasClass("select2-container-active")||this.opts.element.trigger(aE.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),ac(b)})),k.on("mousedown touchstart",this.bind(function(){this.search.focus()})),a.on("focus",this.bind(function(b){ac(b)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(aE.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(aE.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(aE.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(a){var h=this.selection.data("select2-data");if(h){var g=aE.Event("select2-clearing");if(this.opts.element.trigger(g),g.isDefaultPrevented()){return}var f=this.getPlaceholderOption();this.opts.element.val(f?f.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),a!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(h),choice:h}),this.triggerChange({removed:h}))}},initSelection:function(){if(this.isPlaceholderOptionSelected()){this.updateSelection(null),this.close(),this.setPlaceholder()}else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==aD&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(b,a.search.val()))})}},isPlaceholderOptionSelected:function(){var b;return this.getPlaceholder()?(b=this.getPlaceholderOption())!==aD&&b.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===aD||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(e,c){var f=e.find("option").filter(function(){return this.selected&&!this.disabled});c(d.optionToData(f))}:"data" in a&&(a.initSelection=a.initSelection||function(i,h){var g=i.val(),b=null;a.query({matcher:function(e,k,j){var f=am(g,a.id(j));return f&&(b=j),f},callback:aE.isFunction(h)?function(){h(b)}:aE.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===aD?aD:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var b=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&b!==aD){if(this.select&&this.getPlaceholderOption()===aD){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(b)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(h,f,l){var k=0,j=this;if(this.findHighlightableChoices().each2(function(d,c){return am(j.id(c.data("select2-data")),j.opts.element.val())?(k=d,!1):void 0}),l!==!1&&(f===!0&&k>=0?this.highlight(k):this.highlight(0)),f===!0){var i=this.opts.minimumResultsForSearch;i>=0&&this.showSearch(R(h.results)>=i)}},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),aE(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(f,e){if(this.triggerSelect(f)){var h=this.opts.element.val(),g=this.data();this.opts.element.val(this.id(f)),this.updateSelection(f),this.opts.element.trigger({type:"select2-selected",val:this.id(f),choice:f}),this.nextSearchTerm=this.opts.nextSearchTerm(f,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),am(h,this.id(f))||this.triggerChange({added:f,removed:g})}},updateSelection:function(b){var g,f,h=this.selection.find(".select2-chosen");this.selection.data("select2-data",b),h.empty(),null!==b&&(g=this.opts.formatSelection(b,h,this.opts.escapeMarkup)),g!==aD&&h.append(g),f=this.opts.formatSelectionCssClass(b,h),f!==aD&&h.addClass(f),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==aD&&this.container.addClass("select2-allowclear")},val:function(){var b,j=!1,i=null,h=this,g=this.data();if(0===arguments.length){return this.opts.element.val()}if(b=arguments[0],arguments.length>1&&(j=arguments[1]),this.select){this.select.val(b).find("option").filter(function(){return this.selected}).each2(function(d,c){return i=h.optionToData(c),!1}),this.updateSelection(i),this.setPlaceholder(),j&&this.triggerChange({added:i,removed:g})}else{if(!b&&0!==b){return this.clear(j),void 0}if(this.opts.initSelection===aD){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(b),this.opts.initSelection(this.opts.element,function(c){h.opts.element.val(c?h.id(c):""),h.updateSelection(c),h.setPlaceholder(),j&&h.triggerChange({added:c,removed:g})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(b){var f,e=!1;return 0===arguments.length?(f=this.selection.data("select2-data"),f==aD&&(f=null),f):(arguments.length>1&&(e=arguments[1]),b?(f=this.data(),this.opts.element.val(b?this.id(b):""),this.updateSelection(b),e&&this.triggerChange({added:b,removed:f})):this.clear(e),void 0)}}),az=P(aB,{createContainer:function(){var a=aE(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return a},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(e,c){var f=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(h,g){f.push(d.optionToData(g))}),c(f)}:"data" in a&&(a.initSelection=a.initSelection||function(i,h){var g=al(i.val(),a.separator),b=[];a.query({matcher:function(k,j,f){var e=aE.grep(g,function(c){return am(c,a.id(f))}).length;return e&&b.push(f),e},callback:aE.isFunction(h)?function(){for(var e=[],l=0;l<g.length;l++){for(var k=g[l],j=0;j<b.length;j++){var f=b[j];if(am(k,a.id(f))){e.push(f),b.splice(j,1);break}}}h(e)}:aE.noop})}),a},selectChoice:function(d){var c=this.container.find(".select2-search-choice-focus");c.length&&d&&d[0]==c[0]||(c.length&&this.opts.element.trigger("choice-deselected",c),c.removeClass("select2-search-choice-focus"),d&&d.length&&(this.close(),d.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",d)))},destroy:function(){aE("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var f,a=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=f=this.container.find(a);var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){c.search[0].focus(),c.selectChoice(aE(this))}),this.search.attr("id","s2id_autogen"+ay()),this.search.prev().text(aE("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(i){if(this.isInterfaceEnabled()){++this.keydowns;var d=f.find(".select2-search-choice-focus"),m=d.prev(".select2-search-choice:not(.select2-locked)"),l=d.next(".select2-search-choice:not(.select2-locked)"),k=ad(this.search);if(d.length&&(i.which==aC.LEFT||i.which==aC.RIGHT||i.which==aC.BACKSPACE||i.which==aC.DELETE||i.which==aC.ENTER)){var j=d;return i.which==aC.LEFT&&m.length?j=m:i.which==aC.RIGHT?j=l.length?l:null:i.which===aC.BACKSPACE?this.unselect(d.first())&&(this.search.width(10),j=m.length?m:l):i.which==aC.DELETE?this.unselect(d.first())&&(this.search.width(10),j=l.length?l:null):i.which==aC.ENTER&&(j=null),this.selectChoice(j),ac(i),j&&j.length||this.open(),void 0}if((i.which===aC.BACKSPACE&&1==this.keydowns||i.which==aC.LEFT)&&0==k.offset&&!k.length){return this.selectChoice(f.find(".select2-search-choice:not(.select2-locked)").last()),ac(i),void 0}if(this.selectChoice(null),this.opened()){switch(i.which){case aC.UP:case aC.DOWN:return this.moveHighlight(i.which===aC.UP?-1:1),ac(i),void 0;case aC.ENTER:return this.selectHighlighted(),ac(i),void 0;case aC.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case aC.ESC:return this.cancel(i),ac(i),void 0}}if(i.which!==aC.TAB&&!aC.isControl(i)&&!aC.isFunctionKey(i)&&i.which!==aC.BACKSPACE&&i.which!==aC.ESC){if(i.which===aC.ENTER){if(this.opts.openOnEnter===!1){return}if(i.altKey||i.ctrlKey||i.shiftKey||i.metaKey){return}}this.open(),(i.which===aC.PAGE_UP||i.which===aC.PAGE_DOWN)&&ac(i),i.which===aC.ENTER&&ac(i)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(d){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),d.stopImmediatePropagation(),this.opts.element.trigger(aE.Event("select2-blur"))})),this.container.on("click",a,this.bind(function(d){this.isInterfaceEnabled()&&(aE(d.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(aE.Event("select2-focus")),this.open(),this.focusSearch(),d.preventDefault()))})),this.container.on("focus",a,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(aE.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==aD&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var b=this.getPlaceholder(),d=this.getMaxSearchWidth();b!==aD&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(b).addClass("select2-default"),this.search.width(d>0?d:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=aD&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(aE.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var h=[],g=[],f=this;aE(a).each(function(){ao(f.id(this),h)<0&&(h.push(f.id(this)),g.push(this))}),a=g,this.selection.find(".select2-search-choice").remove(),aE(a).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var b=this.search.val();b=this.opts.tokenizer.call(this,b,this.data(),this.bind(this.onSelect),this.opts),null!=b&&b!=aD&&(this.search.val(b),b.length>0&&this.open())},onSelect:function(b,d){this.triggerSelect(b)&&(this.addSelectedChoice(b),this.opts.element.trigger({type:"selected",val:this.id(b),choice:b}),this.nextSearchTerm=this.opts.nextSearchTerm(b,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(b,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=aD&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:b}),d&&d.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(r){var b,a,q=!r.locked,p=aE("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=aE("<li class='select2-search-choice select2-locked'><div></div></li>"),n=q?p:o,m=this.id(r),l=this.getVal();b=this.opts.formatSelection(r,n.find("div"),this.opts.escapeMarkup),b!=aD&&n.find("div").replaceWith("<div>"+b+"</div>"),a=this.opts.formatSelectionCssClass(r,n.find("div")),a!=aD&&n.addClass(a),q&&n.find(".select2-search-choice-close").on("mousedown",ac).on("click dblclick",this.bind(function(c){this.isInterfaceEnabled()&&(this.unselect(aE(c.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),ac(c),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),n.data("select2-data",r),n.insertBefore(this.searchContainer),l.push(m),this.setVal(l)},unselect:function(a){var i,h,j=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length){throw"Invalid argument: "+a+". Must be .select2-search-choice"}if(i=a.data("select2-data")){var g=aE.Event("select2-removing");if(g.val=this.id(i),g.choice=i,this.opts.element.trigger(g),g.isDefaultPrevented()){return !1}for(;(h=ao(this.id(i),j))>=0;){j.splice(h,1),this.setVal(j),this.select&&this.postprocessResults()}return a.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(i,h,n){var m=this.getVal(),l=this.results.find(".select2-result"),k=this.results.find(".select2-result-with-children"),j=this;l.each2(function(e,d){var f=j.id(d.data("select2-data"));ao(f,m)>=0&&(d.addClass("select2-selected"),d.find(".select2-result-selectable").addClass("select2-selected"))}),k.each2(function(d,c){c.is(".select2-result-selectable")||0!==c.find(".select2-result-selectable:not(.select2-selected)").length||c.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&j.highlight(0),!this.opts.createSearchChoice&&!l.filter(".select2-result:not(.select2-selected)").length>0&&(!i||i&&!i.more&&0===this.results.find(".select2-no-results").length)&&T(j.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+S(j.opts.formatNoMatches,j.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-ak(this.search)},resizeSearch:function(){var h,g,l,k,j,i=ak(this.search);h=aa(this.search)+10,g=this.search.offset().left,l=this.selection.width(),k=this.selection.offset().left,j=l-(g-k)-i,h>j&&(j=l-i),40>j&&(j=l-i),0>=j&&(j=h),this.search.width(Math.floor(j))},getVal:function(){var b;return this.select?(b=this.select.val(),null===b?[]:b):(b=this.opts.element.val(),al(b,this.opts.separator))},setVal:function(a){var d;this.select?this.select.val(a):(d=[],aE(a).each(function(){ao(this,d)<0&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},buildChangeDetails:function(f,e){for(var e=e.slice(0),f=f.slice(0),h=0;h<e.length;h++){for(var g=0;g<f.length;g++){am(this.opts.id(e[h]),this.opts.id(f[g]))&&(e.splice(h,1),h>0&&h--,f.splice(g,1),g--)}}return{added:e,removed:f}},val:function(h,g){var b,a=this;if(0===arguments.length){return this.getVal()}if(b=this.data(),b.length||(b=[]),!h&&0!==h){return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),g&&this.triggerChange({added:this.data(),removed:b}),void 0}if(this.setVal(h),this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection)),g&&this.triggerChange(this.buildChangeDetails(b,this.data()))}else{if(this.opts.initSelection===aD){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(d){var e=aE.map(d,a.id);a.setVal(e),a.updateSelection(d),a.clearSearch(),g&&a.triggerChange(a.buildChangeDetails(b,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var a=[],d=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){a.push(d.opts.id(aE(this).data("select2-data")))}),this.setVal(a),this.triggerChange()},data:function(a,j){var h,g,i=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return aE(this).data("select2-data")}).get():(g=this.data(),a||(a=[]),h=aE.map(a,function(b){return i.opts.id(b)}),this.setVal(h),this.updateSelection(a),this.clearSearch(),j&&this.triggerChange(this.buildChangeDetails(g,this.data())),void 0)}}),aE.fn.select2=function(){var s,r,q,p,o,t=Array.prototype.slice.call(arguments,0),n=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],m=["opened","isFocused","container","dropdown"],b=["val","data"],a={search:"externalSearch"};return this.each(function(){if(0===t.length||"object"==typeof t[0]){s=0===t.length?{}:aE.extend({},t[0]),s.element=aE(this),"select"===s.element.get(0).tagName.toLowerCase()?o=s.element.prop("multiple"):(o=s.multiple||!1,"tags" in s&&(s.multiple=o=!0)),r=o?new window.Select2["class"].multi:new window.Select2["class"].single,r.init(s)}else{if("string"!=typeof t[0]){throw"Invalid arguments to select2 plugin: "+t}if(ao(t[0],n)<0){throw"Unknown method: "+t[0]}if(p=aD,r=aE(this).data("select2"),r===aD){return}if(q=t[0],"container"===q?p=r.container:"dropdown"===q?p=r.dropdown:(a[q]&&(q=a[q]),p=r[q].apply(r,t.slice(1))),ao(t[0],m)>=0||ao(t[0],b)&&1==t.length){return !1}}}),p===aD?this:p},aE.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(g,f,j,i){var h=[];return Y(g.text,j.term,h,i),h.join("")},formatSelection:function(b,f,e){return b?e(b.text):aD},sortResults:function(b){return b},formatResultCssClass:function(b){return b.css},formatSelectionCssClass:function(){return aD},formatMatches:function(b){return b+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,d){var f=d-e.length;return"Please enter "+f+" or more character"+(1==f?"":"s")},formatInputTooLong:function(e,d){var f=e.length-d;return"Please delete "+f+" character"+(1==f?"":"s")},formatSelectionTooBig:function(b){return"You can only select "+b+" item"+(1==b?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(b){return b==aD?null:b.id},matcher:function(d,c){return ap(""+c).toUpperCase().indexOf(ap(""+d).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:Q,escapeMarkup:X,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(b){return b},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return aD},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(b){return b.opts.minimumResultsForSearch<0?!1:!0}},aE.fn.select2.ajaxDefaults={transport:aE.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:W,local:V,tags:U},util:{debounce:ah,markMatch:Y,escapeMarkup:X,stripDiacritics:ap},"class":{"abstract":aB,single:aA,multi:az}}}}(jQuery);!function(a){var c=function(f,d){this.$element=a(f),this.options=a.extend({},a.fn.typeahead.defaults,d),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(d)).change(),this.hide()},updater:function(d){return d},show:function(){var d=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var d;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(d=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,d?this.process(d):this)},process:function(f){var d=this;return f=a.grep(f,function(e){return d.matcher(e)}),f=this.sorter(f),f.length?this.render(f.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){for(var h,g=[],d=[],j=[];h=f.shift();){h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?d.push(h):j.push(h):g.push(h)}return g.concat(d,j)},highlighter:function(d){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+f+")","ig"),function(g,h){return"<strong>"+h+"</strong>"})},render:function(f){var d=this;return f=a(f).map(function(h,g){return h=a(d.options.item).attr("data-value",g),h.find("a").html(d.highlighter(g)),h[0]}),f.first().addClass("active"),this.$menu.html(f),this},next:function(){var f=this.$menu.find(".active").removeClass("active"),d=f.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(){var d=this.$menu.find(".active").removeClass("active"),f=d.prev();f.length||(f=this.$menu.find("li").last()),f.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(d){var f=d in this.$element;return f||(this.$element.setAttribute(d,"return;"),f="function"==typeof this.$element[d]),f},move:function(d){if(this.shown){switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault(),this.prev();break;case 40:d.preventDefault(),this.next()}d.stopPropagation()}},keydown:function(d){this.suppressKeyPressRepeat=~a.inArray(d.keyCode,[40,38,9,13,27]),this.move(d)},keypress:function(d){this.suppressKeyPressRepeat||this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation(),d.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(d){d.stopPropagation(),d.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(d){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(d.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var b=a.fn.typeahead;a.fn.typeahead=function(d){return this.each(function(){var e=a(this),g=e.data("typeahead"),f="object"==typeof d&&d;g||e.data("typeahead",g=new c(this,f)),"string"==typeof d&&g[d]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=c,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=b,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var d=a(this);d.data("typeahead")||d.typeahead(d.data())})}(window.jQuery);!function(c){var a=function(f,e){this.init(f,e)};a.prototype={constructor:a,init:function(f,e){this.$element=c(f);this.options=c.extend({},c.fn.modalmanager.defaults,this.$element.data(),typeof e=="object"&&e);this.stack=[];this.backdropCount=0;if(this.options.resize){var h,g=this;c(window).on("resize.modal",function(){h&&clearTimeout(h);h=setTimeout(function(){for(var j=0;j<g.stack.length;j++){g.stack[j].isShown&&g.stack[j].layout()}},10)})}},createModal:function(f,e){c(f).modal(c.extend({manager:this},e))},appendModal:function(f){this.stack.push(f);var e=this;f.$element.on("show.modalmanager",b(function(h){var g=function(){f.isShown=true;var i=c.support.transition&&f.$element.hasClass("fade");e.$element.toggleClass("modal-open",e.hasOpenModal()).toggleClass("page-overflow",c(window).height()<e.$element.height());f.$parent=f.$element.parent();f.$container=e.createContainer(f);f.$element.appendTo(f.$container);e.backdrop(f,function(){f.$element.show();if(i){f.$element[0].offsetWidth}f.layout();f.$element.addClass("in").attr("aria-hidden",false);var j=function(){e.setFocus();f.$element.trigger("shown")};i?f.$element.one(c.support.transition.end,j):j()})};f.options.replace?e.replace(g):g()}));f.$element.on("hidden.modalmanager",b(function(g){e.backdrop(f);if(!f.$element.parent().length){e.destroyModal(f)}else{if(f.$backdrop){var h=c.support.transition&&f.$element.hasClass("fade");if(h){f.$element[0].offsetWidth}c.support.transition&&f.$element.hasClass("fade")?f.$backdrop.one(c.support.transition.end,function(){f.destroy()}):f.destroy()}else{f.destroy()}}}));f.$element.on("destroyed.modalmanager",b(function(g){e.destroyModal(f)}))},getOpenModals:function(){var f=[];for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f.push(this.stack[e])}}return f},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){var f;for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f=this.stack[e]}}if(!f){return}f.focus()},destroyModal:function(f){f.$element.off(".modalmanager");if(f.$backdrop){this.removeBackdrop(f)}this.stack.splice(this.getIndexOfModal(f),1);var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e);if(!e){this.$element.removeClass("page-overflow")}this.removeContainer(f);this.setFocus()},getModalAt:function(e){return this.stack[e]},getIndexOfModal:function(f){for(var e=0;e<this.stack.length;e++){if(f===this.stack[e]){return e}}},replace:function(g){var f;for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f=this.stack[e]}}if(f){this.$backdropHandle=f.$backdrop;f.$backdrop=null;g&&f.$element.one("hidden",b(c.proxy(g,this)));f.hide()}else{if(g){g()}}},removeBackdrop:function(e){e.$backdrop.remove();e.$backdrop=null},createBackdrop:function(g,f){var e;if(!this.$backdropHandle){e=c(f).addClass(g).appendTo(this.$element)}else{e=this.$backdropHandle;e.off(".modalmanager");this.$backdropHandle=null;this.isLoading&&this.removeSpinner()}return e},removeContainer:function(e){e.$container.remove();e.$container=null},createContainer:function(e){var f;f=c('<div class="modal-scrollable">').css("z-index",d("modal",this.getOpenModals().length)).appendTo(this.$element);if(e&&e.options.backdrop!="static"){f.on("click.modal",b(function(g){e.hide()}))}else{if(e){f.on("click.modal",b(function(g){e.attention()}))}}return f},backdrop:function(h,j){var f=h.$element.hasClass("fade")?"fade":"",i=h.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(h.isShown&&i){var e=c.support.transition&&f&&!this.$backdropHandle;h.$backdrop=this.createBackdrop(f,h.options.backdropTemplate);h.$backdrop.css("z-index",d("backdrop",this.getOpenModals().length));if(e){h.$backdrop[0].offsetWidth}h.$backdrop.addClass("in");this.backdropCount+=1;e?h.$backdrop.one(c.support.transition.end,j):j()}else{if(!h.isShown&&h.$backdrop){h.$backdrop.removeClass("in");this.backdropCount-=1;var g=this;c.support.transition&&h.$element.hasClass("fade")?h.$backdrop.one(c.support.transition.end,function(){g.removeBackdrop(h)}):g.removeBackdrop(h)}else{if(j){j()}}}},removeSpinner:function(){this.$spinner&&this.$spinner.remove();this.$spinner=null;this.isLoading=false},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove();this.$backdropHandle=null;this.removeSpinner()},loading:function(h){h=h||function(){};this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",c(window).height()<this.$element.height());if(!this.isLoading){this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate);this.$backdropHandle[0].offsetWidth;var e=this.getOpenModals();this.$backdropHandle.css("z-index",d("backdrop",e.length+1)).addClass("in");var g=c(this.options.spinner).css("z-index",d("modal",e.length+1)).appendTo(this.$element).addClass("in");this.$spinner=c(this.createContainer()).append(g).on("click.modalmanager",c.proxy(this.loading,this));this.isLoading=true;c.support.transition?this.$backdropHandle.one(c.support.transition.end,h):h()}else{if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var f=this;c.support.transition?this.$backdropHandle.one(c.support.transition.end,function(){f.removeLoading()}):f.removeLoading()}else{if(h){h(this.isLoading)}}}}};var d=(function(){var f,e={};return function(g,j){if(typeof f==="undefined"){var i=c('<div class="modal hide" />').appendTo("body"),h=c('<div class="modal-backdrop hide" />').appendTo("body");e.modal=+i.css("z-index");e.backdrop=+h.css("z-index");f=e.modal-e.backdrop;i.remove();h.remove();h=i=null}return e[g]+(f*j)}}());function b(e){return function(f){if(f&&this===f.target){return e.apply(this,arguments)}}}c.fn.modalmanager=function(f,e){return this.each(function(){var h=c(this),g=h.data("modalmanager");if(!g){h.data("modalmanager",(g=new a(this,f)))}if(typeof f==="string"){g[f].apply(g,[].concat(e))}})};c.fn.modalmanager.defaults={backdropLimit:999,resize:true,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'};c.fn.modalmanager.Constructor=a;c(function(){c(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery);!function(b){var a=function(d,c){this.init(d,c)};a.prototype={constructor:a,init:function(e,c){var f=this;this.options=c;this.$element=b(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",b.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var g=b.Event("loaded");f.$element.trigger(g)});var d=typeof this.options.manager==="function"?this.options.manager.call(this):this.options.manager;d=d.appendModal?d:b(d).modalmanager().data("modalmanager");d.appendModal(this)},toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var c=b.Event("show");if(this.isShown){return}this.$element.trigger(c);if(c.isDefaultPrevented()){return}this.escape();this.tab();this.options.loading&&this.loading()},hide:function(c){c&&c.preventDefault();c=b.Event("hide");this.$element.trigger(c);if(!this.isShown||c.isDefaultPrevented()){return}this.isShown=false;this.escape();this.tab();this.isLoading&&this.loading();b(document).off("focusin.modal");this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",true);b.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},layout:function(){var f=this.options.height?"height":"max-height",d=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var c=this;this.$element.css("margin-left",function(){if(/%/ig.test(c.options.width)){return -(parseInt(c.options.width)/2)+"%"}else{return -(b(this).width()/2)+"px"}})}else{this.$element.css("width","");this.$element.css("margin-left","")}this.$element.find(".modal-body").css("overflow","").css(f,"");if(d){this.$element.find(".modal-body").css("overflow","auto").css(f,d)}var e=b(window).height()-10<this.$element.height();if(e||this.options.modalOverflow){this.$element.css("margin-top",0).addClass("modal-overflow")}else{this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")}},tab:function(){var c=this;if(this.isShown&&this.options.consumeTab){this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(g){if(g.keyCode&&g.keyCode==9){var d=b(this),f=b(this);c.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(h){if(!h.shiftKey){d=d.data("tabindex")<b(this).data("tabindex")?d=b(this):f=b(this)}else{d=d.data("tabindex")>b(this).data("tabindex")?d=b(this):f=b(this)}});d[0]!==b(this)[0]?d.focus():f.focus();g.preventDefault()}})}else{if(!this.isShown){this.$element.off("keydown.tabindex.modal")}}},escape:function(){var c=this;if(this.isShown&&this.options.keyboard){if(!this.$element.attr("tabindex")){this.$element.attr("tabindex",-1)}this.$element.on("keyup.dismiss.modal",function(d){d.which==27&&c.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var c=this,d=setTimeout(function(){c.$element.off(b.support.transition.end);c.hideModal()},500);this.$element.one(b.support.transition.end,function(){clearTimeout(d);c.hideModal()})},hideModal:function(){var d=this.options.height?"height":"max-height";var c=this.options.height||this.options.maxHeight;if(c){this.$element.find(".modal-body").css("overflow","").css(d,"")}this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove();this.$loading=null;this.isLoading=false},loading:function(f){f=f||function(){};var d=this.$element.hasClass("fade")?"fade":"";if(!this.isLoading){var c=b.support.transition&&d;this.$loading=b('<div class="loading-mask '+d+'">').append(this.options.spinner).appendTo(this.$element);if(c){this.$loading[0].offsetWidth}this.$loading.addClass("in");this.isLoading=true;c?this.$loading.one(b.support.transition.end,f):f()}else{if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var e=this;b.support.transition&&this.$element.hasClass("fade")?this.$loading.one(b.support.transition.end,function(){e.removeLoading()}):e.removeLoading()}else{if(f){f(this.isLoading)}}}},focus:function(){var c=this.$element.find(this.options.focusOn);c=c.length?c:this.$element;c.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var c=this;setTimeout(function(){c.$element.addClass("animated").addClass(c.options.attentionAnimation)},0)}this.focus()},destroy:function(){var c=b.Event("destroy");this.$element.trigger(c);if(c.isDefaultPrevented()){return}this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",true);if(this.$parent!==this.$element.parent()){this.$element.appendTo(this.$parent)}else{if(!this.$parent.length){this.$element.remove();this.$element=null}}this.$element.trigger("destroyed")}};b.fn.modal=function(d,c){return this.each(function(){var g=b(this),f=g.data("modal"),e=b.extend({},b.fn.modal.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("modal",(f=new a(this,e)))}if(typeof d=="string"){f[d].apply(f,[].concat(c))}else{if(e.show){f.show()}}})};b.fn.modal.defaults={keyboard:true,backdrop:true,loading:false,show:true,width:null,height:null,maxHeight:null,modalOverflow:false,consumeTab:true,focusOn:null,replace:false,resize:false,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'};b.fn.modal.Constructor=a;b(function(){b(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(h){var g=b(this),d=g.attr("href"),c=b(g.attr("data-target")||(d&&d.replace(/.*(?=#[^\s]+$)/,""))),f=c.data("modal")?"toggle":b.extend({remote:!/#/.test(d)&&d},c.data(),g.data());h.preventDefault();c.modal(f).one("hide",function(){g.focus()})})})}(window.jQuery);!function(e){var c=function(g,f){this.$ns="bootstrap-markdown";this.$element=e(g);this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null};this.$options=e.extend(true,{},e.fn.markdown.defaults,f);this.$oldContent=null;this.$isPreview=false;this.$editor=null;this.$textarea=null;this.$handler=[];this.$callback=[];this.$nextTab=[];this.showEditor()};c.prototype={constructor:c,__alterButtons:function(h,g){var i=this.$handler,f=(h=="all"),j=this;e.each(i,function(m,l){var n=true;if(f){n=false}else{n=l.indexOf(h)<0}if(n==false){g(j.$editor.find('button[data-handler="'+l+'"]'))}})},__buildButtons:function(t,s){var v,x=this.$ns,h=this.$handler,k=this.$callback;for(v=0;v<t.length;v++){var p,l=t[v];for(p=0;p<l.length;p++){var o,w=l[p].data,r=e("<div/>",{"class":"btn-group"});for(o=0;o<w.length;o++){var g=w[o],q="",u=x+"-"+g.name,n=g.icon instanceof Object?g.icon[this.$options.iconlibrary]:g.icon,f=g.btnText?g.btnText:"",m=g.btnClass?g.btnClass:"btn",j=g.tabIndex?g.tabIndex:"-1";if(g.toggle==true){q=' data-toggle="button"'}r.append('<button type="button" class="'+m+' btn-default btn-sm" title="'+g.title+'" tabindex="'+j+'" data-provider="'+x+'" data-handler="'+u+'"'+q+'><span class="'+n+'"></span> '+f+"</button>");h.push(u);k.push(g.callback)}s.append(r)}}return s},__setListener:function(){var g=typeof this.$textarea.attr("rows")!="undefined",f=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",h=g?this.$textarea.attr("rows"):f;this.$textarea.attr("rows",h);if(this.$options.resize){this.$textarea.css("resize",this.$options.resize)}this.$textarea.on("focus",e.proxy(this.focus,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$textarea.on("keydown",e.proxy(this.keydown,this))}this.$textarea.data("markdown",this)},__handle:function(j){var i=e(j.currentTarget),h=this.$handler,l=this.$callback,g=i.attr("data-handler"),k=h.indexOf(g),f=l[k];e(j.currentTarget).focus();f(this);if(g.indexOf("cmdSave")<0){this.$textarea.focus()}j.preventDefault()},showEditor:function(){var u=this,q,w=this.$ns,p=this.$element,f=p.css("height"),v=p.css("width"),s=this.$editable,k=this.$handler,o=this.$callback,m=this.$options,n=e("<div/>",{"class":"md-editor",click:function(){u.focus()}});if(this.$editor==null){var l=e("<div/>",{"class":"md-header btn-toolbar"});var g=[];if(m.buttons.length>0){g=g.concat(m.buttons[0])}if(m.additionalButtons.length>0){g=g.concat(m.additionalButtons[0])}if(m.reorderButtonGroups.length>0){g=g.filter(function(x){return m.reorderButtonGroups.indexOf(x.name)>-1}).sort(function(y,x){if(m.reorderButtonGroups.indexOf(y.name)<m.reorderButtonGroups.indexOf(x.name)){return -1}if(m.reorderButtonGroups.indexOf(y.name)>m.reorderButtonGroups.indexOf(x.name)){return 1}return 0})}if(g.length>0){l=this.__buildButtons([g],l)}n.append(l);if(p.is("textarea")){p.before(n);q=p;q.addClass("md-input");n.append(q)}else{var h=(typeof toMarkdown=="function")?toMarkdown(p.html()):p.html(),t=e.trim(h);q=e("<textarea/>",{"class":"md-input",val:t});n.append(q);s.el=p;s.type=p.prop("tagName").toLowerCase();s.content=p.html();e(p[0].attributes).each(function(){s.attrKeys.push(this.nodeName);s.attrValues.push(this.nodeValue)});p.replaceWith(n)}if(m.savable){var i=e("<div/>",{"class":"md-footer"}),j="cmdSave";k.push(j);o.push(m.onSave);i.append('<button class="btn btn-success" data-provider="'+w+'" data-handler="'+j+'"><i class="icon icon-white icon-ok"></i> Save</button>');n.append(i)}if(m.width&&m.width!=="inherit"){if(jQuery.isNumeric(m.width)){n.css("display","table");q.css("width",m.width+"px")}else{n.addClass(m.width)}}if(m.height&&m.height!=="inherit"){if(jQuery.isNumeric(m.height)){var r=m.height;if(l){r=Math.max(0,r-l.outerHeight())}if(i){r=Math.max(0,r-i.outerHeight())}q.css("height",r+"px")}else{n.addClass(m.height)}}this.$editor=n;this.$textarea=q;this.$editable=s;this.$oldContent=this.getContent();this.__setListener();this.$editor.attr("id",(new Date).getTime());this.$editor.on("click",'[data-provider="bootstrap-markdown"]',e.proxy(this.__handle,this))}else{this.$editor.show()}if(m.autofocus){this.$textarea.focus();this.$editor.addClass("active")}m.onShow(this);return this},showPreview:function(){var h=this.$options,i=h.onPreview(this),f=this.$textarea,k=f.next(),g=e("<div/>",{"class":"md-preview","data-provider":"markdown-preview"}),j;this.$isPreview=true;this.disableButtons("all").enableButtons("cmdPreview");if(typeof i=="string"){j=i}else{var l=f.val();if(typeof markdown=="object"){j=markdown.toHTML(l)}else{if(typeof marked=="function"){j=marked(l)}else{j=l}}}g.html(j);if(k&&k.attr("class")=="md-footer"){g.insertBefore(k)}else{f.parent().append(g)}g.css({width:f.outerWidth()+"px",height:f.outerHeight()+"px"});f.hide();g.data("markdown",this);return this},hidePreview:function(){this.$isPreview=false;var f=this.$editor.find('div[data-provider="markdown-preview"]');f.remove();this.enableButtons("all");this.$textarea.show();this.__setListener();return this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(f){this.$textarea.val(f);return this},findSelection:function(g){var j=this.getContent(),i;if(i=j.indexOf(g),i>=0&&g.length>0){var f=this.getSelection(),h;this.setSelection(i,i+g.length);h=this.getSelection();this.setSelection(f.start,f.end);return h}else{return null}},getSelection:function(){var f=this.$textarea[0];return(("selectionStart" in f&&function(){var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value.substr(f.selectionStart,g)}})||function(){return null})()},setSelection:function(h,f){var g=this.$textarea[0];return(("selectionStart" in g&&function(){g.selectionStart=h;g.selectionEnd=f;return})||function(){return null})()},replaceSelection:function(g){var f=this.$textarea[0];return(("selectionStart" in f&&function(){f.value=f.value.substr(0,f.selectionStart)+g+f.value.substr(f.selectionEnd,f.value.length);f.selectionStart=f.value.length;return this})||function(){f.value+=g;return jQuery(f)})()},getNextTab:function(){if(this.$nextTab.length==0){return null}else{var f,g=this.$nextTab.shift();if(typeof g=="function"){f=g()}else{if(typeof g=="object"&&g.length>0){f=g}}return f}},setNextTab:function(i,g){if(typeof i=="string"){var h=this;this.$nextTab.push(function(){return h.findSelection(i)})}else{if(typeof i=="numeric"&&typeof g=="numeric"){var f=this.getSelection();this.setSelection(i,g);this.$nextTab.push(this.getSelection());this.setSelection(f.start,f.end)}}return},enableButtons:function(g){var f=function(h){h.removeAttr("disabled")};this.__alterButtons(g,f);return this},disableButtons:function(g){var f=function(h){h.attr("disabled","disabled")};this.__alterButtons(g,f);return this},eventSupported:function(f){var g=f in this.$element;if(!g){this.$element.setAttribute(f,"return;");g=typeof this.$element[f]==="function"}return g},keydown:function(f){this.suppressKeyPressRepeat=~e.inArray(f.keyCode,[40,38,9,13,27]);this.keyup(f)},keypress:function(f){if(this.suppressKeyPressRepeat){return}this.keyup(f)},keyup:function(i){var g=false;switch(i.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var f;if(f=this.getNextTab(),f!=null){var h=this;setTimeout(function(){h.setSelection(f.start,f.end)},500);g=true}else{var j=this.getSelection();if(j.start==j.end&&j.end==this.getContent().length){g=false}else{this.setSelection(this.getContent().length,this.getContent().length);g=true}}break;case 13:case 27:g=false;break;default:g=false}if(g){i.stopPropagation();i.preventDefault()}},focus:function(i){var f=this.$options,h=f.hideable,g=this.$editor;g.addClass("active");e(document).find(".md-editor").each(function(){if(e(this).attr("id")!=g.attr("id")){var j;if(j=e(this).find("textarea").data("markdown"),j==null){j=e(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(j){j.blur()}}});f.onFocus(this);return this},blur:function(m){var g=this.$options,l=g.hideable,j=this.$editor,h=this.$editable;if(j.hasClass("active")||this.$element.parent().length==0){j.removeClass("active");if(l){if(h.el!=null){var f=e("<"+h.type+"/>"),k=this.getContent(),i=(typeof markdown=="object")?markdown.toHTML(k):k;e(h.attrKeys).each(function(o,n){f.attr(h.attrKeys[o],h.attrValues[o])});f.html(i);j.replaceWith(f)}else{j.hide()}}g.onBlur(this)}return this}};var a=e.fn.markdown;e.fn.markdown=function(f){return this.each(function(){var i=e(this),h=i.data("markdown"),g=typeof f=="object"&&f;if(!h){i.data("markdown",(h=new c(this,g)))}})};e.fn.markdown.defaults={autofocus:false,hideable:false,savable:false,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",buttons:[[{name:"groupFont",data:[{name:"cmdBold",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold"},callback:function(i){var f,j,g=i.getSelection(),h=i.getContent();if(g.length==0){f="strong text"}else{f=g.text}if(h.substr(g.start-2,2)=="**"&&h.substr(g.end,2)=="**"){i.setSelection(g.start-2,g.end+2);i.replaceSelection(f);j=g.start-2}else{i.replaceSelection("**"+f+"**");j=g.start+2}i.setSelection(j,j+f.length)}},{name:"cmdItalic",title:"Italic",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic"},callback:function(i){var f,j,g=i.getSelection(),h=i.getContent();if(g.length==0){f="emphasized text"}else{f=g.text}if(h.substr(g.start-1,1)=="*"&&h.substr(g.end,1)=="*"){i.setSelection(g.start-1,g.end+1);i.replaceSelection(f);j=g.start-1}else{i.replaceSelection("*"+f+"*");j=g.start+1}i.setSelection(j,j+f.length)}},{name:"cmdHeading",title:"Heading",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-font"},callback:function(i){var f,k,g=i.getSelection(),h=i.getContent(),j,l;if(g.length==0){f="heading text"}else{f=g.text+"\n"}if((j=4,h.substr(g.start-j,j)=="### ")||(j=3,h.substr(g.start-j,j)=="###")){i.setSelection(g.start-j,g.end);i.replaceSelection(f);k=g.start-j}else{if(g.start>0&&(l=h.substr(g.start-1,1),!!l&&l!="\n")){i.replaceSelection("\n\n### "+f);k=g.start+6}else{i.replaceSelection("### "+f);k=g.start+4}}i.setSelection(k,k+f.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",icon:{glyph:"glyphicon glyphicon-globe",fa:"fa fa-globe"},callback:function(j){var f,k,g=j.getSelection(),i=j.getContent(),h;if(g.length==0){f="enter link description here"}else{f=g.text}h=prompt("Insert Hyperlink","http://");if(h!=null&&h!=""&&h!="http://"){j.replaceSelection("["+f+"]("+h+")");k=g.start+1;j.setSelection(k,k+f.length)}}},{name:"cmdImage",title:"Image",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o"},callback:function(j){var f,k,g=j.getSelection(),i=j.getContent(),h;if(g.length==0){f="enter image description here"}else{f=g.text}h=prompt("Insert Image Hyperlink","http://");if(h!=null){j.replaceSelection("!["+f+"]("+h+' "enter image title here")');k=g.start+2;j.setNextTab("enter image title here");j.setSelection(k,k+f.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",title:"List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list"},callback:function(j){var f,k,g=j.getSelection(),h=j.getContent();if(g.length==0){f="list text here";j.replaceSelection("- "+f);k=g.start+2}else{if(g.text.indexOf("\n")<0){f=g.text;j.replaceSelection("- "+f);k=g.start+2}else{var i=[];i=g.text.split("\n");f=i[0];e.each(i,function(m,l){i[m]="- "+l});j.replaceSelection("\n\n"+i.join("\n"));k=g.start+4}}j.setSelection(k,k+f.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:true,title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search"},callback:function(h){var f=h.$isPreview,g;if(f==false){h.showPreview()}else{h.hidePreview()}}}]}]],additionalButtons:[],reorderButtonGroups:[],onShow:function(f){},onPreview:function(f){},onSave:function(f){},onBlur:function(f){},onFocus:function(f){}};e.fn.markdown.Constructor=c;e.fn.markdown.noConflict=function(){e.fn.markdown=a;return this};var d=function(f){var g=f;if(g.data("markdown")){g.data("markdown").showEditor();return}g.markdown(g.data())};var b=function(h){var i=false,g,f=e(h.currentTarget);if((h.type=="focusin"||h.type=="click")&&f.length==1&&typeof f[0]=="object"){g=f[0].activeElement;if(!e(g).data("markdown")){if(typeof e(g).parent().parent().parent().attr("class")=="undefined"||e(g).parent().parent().parent().attr("class").indexOf("md-editor")<0){if(typeof e(g).parent().parent().attr("class")=="undefined"||e(g).parent().parent().attr("class").indexOf("md-editor")<0){i=true}}else{i=false}}if(i){e(document).find(".md-editor").each(function(){var k=e(g).parent();if(e(this).attr("id")!=k.attr("id")){var j;if(j=e(this).find("textarea").data("markdown"),j==null){j=e(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(j){j.blur()}}})}h.stopPropagation()}};e(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(f){d(e(this));f.preventDefault()}).on("click",function(f){b(f)}).on("focusin",function(f){b(f)}).ready(function(){e('textarea[data-provide="markdown"]').each(function(){d(e(this))})})}(window.jQuery);(function(e,d,f){(function(b){typeof define=="function"&&define.amd?define(["jquery"],b):jQuery&&!jQuery.fn.sparkline&&b(jQuery)})(function(ar){var aq={},ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ad,ab,Z,X,V,T,R,P,N,c,ae,ac,aa,Y,W,U,S,Q,O,M,b,a=0;ap=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:f,normalRangeMax:f,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:f,chartRangeMax:f,chartRangeMinX:f,chartRangeMaxX:f,tooltipFormat:new an('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:f,nullColor:f,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:f,chartRangeMin:f,chartRangeClip:!1,colorMap:f,tooltipFormat:new an('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new an('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:f,thresholdValue:0,chartRangeMax:f,chartRangeMin:f,chartRangeClip:!1,tooltipFormat:new an("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:f,tooltipFormat:new an("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new an('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:f,targetColor:"#4a2",chartRangeMax:f,chartRangeMin:f,tooltipFormat:new an("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},W='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',ao=function(){var h,g;return h=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(h.prototype=ar.extend(new arguments[0],arguments[arguments.length-1]),h._super=arguments[0].prototype):h.prototype=arguments[arguments.length-1],arguments.length>2&&(g=Array.prototype.slice.call(arguments,1,-1),g.unshift(h.prototype),ar.extend.apply(ar,g))):h.prototype=arguments[0],h.prototype.cls=h,h},ar.SPFormatClass=an=ao({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(h,g){this.format=h,this.fclass=g},render:function(u,t,s){var r=this,q=u,p,o,n,m,l;return this.format.replace(this.fre,function(){var g;return o=arguments[1],n=arguments[3],p=r.precre.exec(o),p?(l=p[2],o=p[1]):l=!1,m=q[o],m===f?"":n&&t&&t[n]?(g=t[n],g.get?t[n].get(m)||m:t[n][m]||m):(ah(m)&&(s.get("numberFormatter")?m=s.get("numberFormatter")(m):m=Z(m,l,s.get("numberDigitGroupCount"),s.get("numberDigitGroupSep"),s.get("numberDecimalMark"))),m)})}}),ar.spformat=function(h,g){return new an(h,g)},am=function(h,g,i){return h<g?g:h>i?i:h},al=function(g,i){var h;return i===2?(h=d.floor(g.length/2),g.length%2?g[h]:(g[h-1]+g[h])/2):g.length%2?(h=(g.length*i+i)/4,h%1?(g[d.floor(h)]+g[d.floor(h)-1])/2:g[h-1]):(h=(g.length*i+2)/4,h%1?(g[d.floor(h)]+g[d.floor(h)-1])/2:g[h-1])},ak=function(h){var g;switch(h){case"undefined":h=f;break;case"null":h=null;break;case"true":h=!0;break;case"false":h=!1;break;default:g=parseFloat(h),h==g&&(h=g)}return h},aj=function(h){var g,i=[];for(g=h.length;g--;){i[g]=ak(h[g])}return i},ai=function(h,g){var k,j,i=[];for(k=0,j=h.length;k<j;k++){h[k]!==g&&i.push(h[k])}return i},ah=function(g){return !isNaN(parseFloat(g))&&isFinite(g)},Z=function(j,i,o,n,m){var l,k;j=(i===!1?parseFloat(j).toString():j.toFixed(i)).split(""),l=(l=ar.inArray(".",j))<0?j.length:l,l<j.length&&(j[l]=m);for(k=l-o;k>0;k-=o){j.splice(k,0,n)}return j.join("")},ag=function(h,g,j){var i;for(i=g.length;i--;){if(j&&g[i]===null){continue}if(g[i]!==h){return !1}}return !0},af=function(h){var g=0,i;for(i=h.length;i--;){g+=typeof h[i]=="number"?h[i]:0}return g},ab=function(g){return ar.isArray(g)?g:[g]},ad=function(g){var h;e.createStyleSheet?e.createStyleSheet().cssText=g:(h=e.createElement("style"),h.type="text/css",e.getElementsByTagName("head")[0].appendChild(h),h[typeof e.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=g)},ar.fn.simpledraw=function(k,q,p,o){var n,m;if(p&&(n=this.data("_jqs_vcanvas"))){return n}if(ar.fn.sparkline.canvas===!1){return !1}if(ar.fn.sparkline.canvas===f){var l=e.createElement("canvas");if(!l.getContext||!l.getContext("2d")){if(!e.namespaces||!!e.namespaces.v){return ar.fn.sparkline.canvas=!1,!1}e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),ar.fn.sparkline.canvas=function(h,g,j,i){return new M(h,g,j)}}else{ar.fn.sparkline.canvas=function(h,g,j,i){return new O(h,g,j,i)}}}return k===f&&(k=ar(this).innerWidth()),q===f&&(q=ar(this).innerHeight()),n=ar.fn.sparkline.canvas(k,q,this,o),m=ar(this).data("_jqs_mhandler"),m&&m.registerCanvas(n),n},ar.fn.cleardraw=function(){var g=this.data("_jqs_vcanvas");g&&g.reset()},ar.RangeMapClass=X=ao({init:function(h){var g,j,i=[];for(g in h){h.hasOwnProperty(g)&&typeof g=="string"&&g.indexOf(":")>-1&&(j=g.split(":"),j[0]=j[0].length===0?-Infinity:parseFloat(j[0]),j[1]=j[1].length===0?Infinity:parseFloat(j[1]),j[2]=h[g],i.push(j))}this.map=h,this.rangelist=i||!1},get:function(h){var g=this.rangelist,k,j,i;if((i=this.map[h])!==f){return i}if(g){for(k=g.length;k--;){j=g[k];if(j[0]<=h&&j[1]>=h){return j[2]}}}return f}}),ar.range_map=function(g){return new X(g)},V=ao({init:function(h,g){var i=ar(h);this.$el=i,this.options=g,this.currentPageX=0,this.currentPageY=0,this.el=h,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!g.get("disableTooltips"),this.highlightEnabled=!g.get("disableHighlight")},registerSparkline:function(g){this.splist.push(g),this.over&&this.updateDisplay()},registerCanvas:function(h){var g=ar(h.canvas);this.canvas=h,this.$canvas=g,g.mouseenter(ar.proxy(this.mouseenter,this)),g.mouseleave(ar.proxy(this.mouseleave,this)),g.click(ar.proxy(this.mouseclick,this))},reset:function(g){this.splist=[],this.tooltip&&g&&(this.tooltip.remove(),this.tooltip=f)},mouseclick:function(h){var g=ar.Event("sparklineClick");g.originalEvent=h,g.sparklines=this.splist,this.$el.trigger(g)},mouseenter:function(g){ar(e.body).unbind("mousemove.jqs"),ar(e.body).bind("mousemove.jqs",ar.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=g.pageX,this.currentPageY=g.pageY,this.currentEl=g.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new T(this.options),this.tooltip.updatePosition(g.pageX,g.pageY)),this.updateDisplay()},mouseleave:function(){ar(e.body).unbind("mousemove.jqs");var h=this.splist,l=h.length,k=!1,j,i;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(i=0;i<l;i++){j=h[i],j.clearRegionHighlight()&&(k=!0)}k&&this.canvas.render()},mousemove:function(g){this.currentPageX=g.pageX,this.currentPageY=g.pageY,this.currentEl=g.target,this.tooltip&&this.tooltip.updatePosition(g.pageX,g.pageY),this.updateDisplay()},updateDisplay:function(){var w=this.splist,v=w.length,u=!1,t=this.$canvas.offset(),s=this.currentPageX-t.left,r=this.currentPageY-t.top,q,p,o,n,m;if(!this.over){return}for(o=0;o<v;o++){p=w[o],n=p.setRegionHighlight(this.currentEl,s,r),n&&(u=!0)}if(u){m=ar.Event("sparklineRegionChange"),m.sparklines=this.splist,this.$el.trigger(m);if(this.tooltip){q="";for(o=0;o<v;o++){p=w[o],q+=p.getCurrentRegionTooltip()}this.tooltip.setContent(q)}this.disableHighlight||this.canvas.render()}n===null&&this.mouseleave()}}),T=ao({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(g){var j=g.get("tooltipClassname","jqstooltip"),i=this.sizeStyle,h;this.container=g.get("tooltipContainer")||e.body,this.tooltipOffsetX=g.get("tooltipOffsetX",10),this.tooltipOffsetY=g.get("tooltipOffsetY",12),ar("#jqssizetip").remove(),ar("#jqstooltip").remove(),this.sizetip=ar("<div/>",{id:"jqssizetip",style:i,"class":j}),this.tooltip=ar("<div/>",{id:"jqstooltip","class":j}).appendTo(this.container),h=this.tooltip.offset(),this.offsetLeft=h.left,this.offsetTop=h.top,this.hidden=!0,ar(window).unbind("resize.jqs scroll.jqs"),ar(window).bind("resize.jqs scroll.jqs",ar.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=ar(window).scrollTop(),this.scrollLeft=ar(window).scrollLeft(),this.scrollRight=this.scrollLeft+ar(window).width(),this.updatePosition()},getSize:function(g){this.sizetip.html(g).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(g){if(!g){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(g),this.tooltip.html(g).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(h,g){if(h===f){if(this.mousex===f){return}h=this.mousex-this.offsetLeft,g=this.mousey-this.offsetTop}else{this.mousex=h-=this.offsetLeft,this.mousey=g-=this.offsetTop}if(!this.height||!this.width||this.hidden){return}g-=this.height+this.tooltipOffsetY,h+=this.tooltipOffsetX,g<this.scrollTop&&(g=this.scrollTop),h<this.scrollLeft?h=this.scrollLeft:h+this.width>this.scrollRight&&(h=this.scrollRight-this.width),this.tooltip.css({left:h,top:g})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=f,ar(window).unbind("resize.jqs scroll.jqs")}}),U=function(){ad(W)},ar(U),b=[],ar.fn.sparkline=function(g,h){return this.each(function(){var m=new ar.fn.sparkline.options(this,h),l=ar(this),k,j;k=function(){var t,s,r,q,p,o,n;if(g==="html"||g===f){n=this.getAttribute(m.get("tagValuesAttribute"));if(n===f||n===null){n=l.html()}t=n.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{t=g}s=m.get("width")==="auto"?t.length*m.get("defaultPixelsPerValue"):m.get("width");if(m.get("height")==="auto"){if(!m.get("composite")||!ar.data(this,"_jqs_vcanvas")){q=e.createElement("span"),q.innerHTML="a",l.html(q),r=ar(q).innerHeight()||ar(q).height(),ar(q).remove(),q=null}}else{r=m.get("height")}m.get("disableInteraction")?p=!1:(p=ar.data(this,"_jqs_mhandler"),p?m.get("composite")||p.reset():(p=new V(this,m),ar.data(this,"_jqs_mhandler",p)));if(m.get("composite")&&!ar.data(this,"_jqs_vcanvas")){ar.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),ar.data(this,"_jqs_errnotify",!0));return}o=new (ar.fn.sparkline[m.get("type")])(this,t,m,s,r),o.render(),p&&p.registerSparkline(o)};if(ar(this).html()&&!m.get("disableHiddenCheck")&&ar(this).is(":hidden")||!ar(this).parents("body").length){if(!m.get("composite")&&ar.data(this,"_jqs_pending")){for(j=b.length;j;j--){b[j-1][0]==this&&b.splice(j-1,1)}}b.push([this,k]),ar.data(this,"_jqs_pending",!0)}else{k.call(this)}})},ar.fn.sparkline.defaults=ap(),ar.sparkline_display_visible=function(){var h,g,j,i=[];for(g=0,j=b.length;g<j;g++){h=b[g][0],ar(h).is(":visible")&&!ar(h).parents().is(":hidden")?(b[g][1].call(h),ar.data(b[g][0],"_jqs_pending",!1),i.push(g)):!ar(h).closest("html").length&&!ar.data(h,"_jqs_pending")&&(ar.data(b[g][0],"_jqs_pending",!1),i.push(g))}for(g=i.length;g;g--){b.splice(i[g-1],1)}},ar.fn.sparkline.options=ao({init:function(j,i){var n,m,l,k;this.userOptions=i=i||{},this.tag=j,this.tagValCache={},m=ar.fn.sparkline.defaults,l=m.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||l.tagOptionsPrefix),k=this.getTagSetting("type"),k===aq?n=m[i.type||l.type]:n=m[k],this.mergedOptions=ar.extend({},l,n,i)},getTagSetting:function(j){var i=this.tagOptionsPrefix,n,m,l,k;if(i===!1||i===f){return aq}if(this.tagValCache.hasOwnProperty(j)){n=this.tagValCache.key}else{n=this.tag.getAttribute(i+j);if(n===f||n===null){n=aq}else{if(n.substr(0,1)==="["){n=n.substr(1,n.length-2).split(",");for(m=n.length;m--;){n[m]=ak(n[m].replace(/(^\s*)|(\s*$)/g,""))}}else{if(n.substr(0,1)==="{"){l=n.substr(1,n.length-2).split(","),n={};for(m=l.length;m--;){k=l[m].split(":",2),n[k[0].replace(/(^\s*)|(\s*$)/g,"")]=ak(k[1].replace(/(^\s*)|(\s*$)/g,""))}}else{n=ak(n)}}}this.tagValCache.key=n}return n},get:function(h,g){var j=this.getTagSetting(h),i;return j!==aq?j:(i=this.mergedOptions[h])===f?g:i}}),ar.fn.sparkline._base=ao({disabled:!1,init:function(i,h,l,k,j){this.el=i,this.$el=ar(i),this.values=h,this.options=l,this.width=k,this.height=j,this.currentRegion=f},initTarget:function(){var g=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),g))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(h,g){},setRegionHighlight:function(i,h,m){var l=this.currentRegion,k=!this.options.get("disableHighlight"),j;return h>this.canvasWidth||m>this.canvasHeight||h<0||m<0?null:(j=this.getRegion(i,h,m),l!==j?(l!==f&&k&&this.removeHighlight(),this.currentRegion=j,j!==f&&k&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==f?(this.removeHighlight(),this.currentRegion=f,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(g){},getCurrentRegionTooltip:function(){var H=this.options,G="",F=[],E,D,C,B,A,z,y,x,w,v,u,h,J,I;if(this.currentRegion===f){return""}E=this.getCurrentRegionFields(),u=H.get("tooltipFormatter");if(u){return u(this,H,E)}H.get("tooltipChartTitle")&&(G+='<div class="jqs jqstitle">'+H.get("tooltipChartTitle")+"</div>\n"),D=this.options.get("tooltipFormat");if(!D){return""}ar.isArray(D)||(D=[D]),ar.isArray(E)||(E=[E]),y=this.options.get("tooltipFormatFieldlist"),x=this.options.get("tooltipFormatFieldlistKey");if(y&&x){w=[];for(z=E.length;z--;){v=E[z][x],(I=ar.inArray(v,y))!=-1&&(w[I]=E[z])}E=w}C=D.length,J=E.length;for(z=0;z<C;z++){h=D[z],typeof h=="string"&&(h=new an(h)),B=h.fclass||"jqsfield";for(I=0;I<J;I++){if(!E[I].isNull||!H.get("tooltipSkipNull")){ar.extend(E[I],{prefix:H.get("tooltipPrefix"),suffix:H.get("tooltipSuffix")}),A=h.render(E[I],H.get("tooltipValueLookups"),H),F.push('<div class="'+B+'">'+A+"</div>")}}}return F.length?G+F.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(i,q){var p=q.get("highlightColor"),o=q.get("highlightLighten"),n,m,l,k;if(p){return p}if(o){n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(i)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(i);if(n){l=[],m=i.length===4?16:1;for(k=0;k<3;k++){l[k]=am(d.round(parseInt(n[k+1],16)*m*o),0,255)}return"rgb("+l.join(",")+")"}}return i}}),R={changeHighlight:function(h){var g=this.currentRegion,k=this.target,j=this.regionShapes[g],i;j&&(i=this.renderRegion(g,h),ar.isArray(i)||ar.isArray(j)?(k.replaceWithShapes(j,i),this.regionShapes[g]=ar.map(i,function(l){return l.id})):(k.replaceWithShape(j,i),this.regionShapes[g]=i.id))},render:function(){var j=this.values,i=this.target,o=this.regionShapes,n,m,l,k;if(!this.cls._super.render.call(this)){return}for(l=j.length;l--;){n=this.renderRegion(l);if(n){if(ar.isArray(n)){m=[];for(k=n.length;k--;){n[k].append(),m.push(n[k].id)}o[l]=m}else{n.append(),o[l]=n.id}}else{o[l]=null}}i.render()}},ar.fn.sparkline.line=P=ao(ar.fn.sparkline._base,{type:"line",init:function(h,g,k,j,i){P._super.init.call(this,h,g,k,j,i),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(h,g,k){var j,i=this.regionMap;for(j=i.length;j--;){if(i[j]!==null&&g>=i[j][0]&&g<=i[j][1]){return i[j][2]}}return f},getCurrentRegionFields:function(){var g=this.currentRegion;return{isNull:this.yvalues[g]===null,x:this.xvalues[g],y:this.yvalues[g],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:g}},renderHighlight:function(){var s=this.currentRegion,r=this.target,q=this.vertices[s],p=this.options,o=p.get("spotRadius"),n=p.get("highlightSpotColor"),m=p.get("highlightLineColor"),l,k;if(!q){return}o&&n&&(l=r.drawCircle(q[0],q[1],o,f,n),this.highlightSpotId=l.id,r.insertAfterShape(this.lastShapeId,l)),m&&(k=r.drawLine(q[0],this.canvasTop,q[0],this.canvasTop+this.canvasHeight,m),this.highlightLineId=k.id,r.insertAfterShape(this.lastShapeId,k))},removeHighlight:function(){var g=this.target;this.highlightSpotId&&(g.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(g.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var u=this.values,t=u.length,s=this.xvalues,r=this.yvalues,q=this.yminmax,p,o,n,m,l;for(p=0;p<t;p++){o=u[p],n=typeof u[p]=="string",m=typeof u[p]=="object"&&u[p] instanceof Array,l=n&&u[p].split(":"),n&&l.length===2?(s.push(Number(l[0])),r.push(Number(l[1])),q.push(Number(l[1]))):m?(s.push(o[0]),r.push(o[1]),q.push(o[1])):(s.push(p),u[p]===null||u[p]==="null"?r.push(null):(r.push(Number(o)),q.push(Number(o))))}this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=d.max.apply(d,q),this.miny=this.minyorg=d.min.apply(d,q),this.maxx=d.max.apply(d,s),this.minx=d.min.apply(d,s),this.xvalues=s,this.yvalues=r,this.yminmax=q},processRangeOptions:function(){var h=this.options,g=h.get("normalRangeMin"),i=h.get("normalRangeMax");g!==f&&(g<this.miny&&(this.miny=g),i>this.maxy&&(this.maxy=i)),h.get("chartRangeMin")!==f&&(h.get("chartRangeClip")||h.get("chartRangeMin")<this.miny)&&(this.miny=h.get("chartRangeMin")),h.get("chartRangeMax")!==f&&(h.get("chartRangeClip")||h.get("chartRangeMax")>this.maxy)&&(this.maxy=h.get("chartRangeMax")),h.get("chartRangeMinX")!==f&&(h.get("chartRangeClipX")||h.get("chartRangeMinX")<this.minx)&&(this.minx=h.get("chartRangeMinX")),h.get("chartRangeMaxX")!==f&&(h.get("chartRangeClipX")||h.get("chartRangeMaxX")>this.maxx)&&(this.maxx=h.get("chartRangeMaxX"))},drawNormalRange:function(t,s,r,q,p){var o=this.options.get("normalRangeMin"),n=this.options.get("normalRangeMax"),m=s+d.round(r-r*((n-this.miny)/p)),l=d.round(r*(n-o)/p);this.target.drawRect(t,m,q,l,f,this.options.get("normalRangeColor")).append()},render:function(){var aV=this.options,aU=this.target,aT=this.canvasWidth,aS=this.canvasHeight,aR=this.vertices,aQ=aV.get("spotRadius"),aP=this.regionMap,aO,aN,aM,aL,aK,aJ,aH,aF,aD,aA,ay,aw,at,x,aI,aG,aE,aC,aB,az,ax,av,au,L,t;if(!P._super.render.call(this)){return}this.scanValues(),this.processRangeOptions(),au=this.xvalues,L=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}aL=aK=0,aO=this.maxx-this.minx===0?1:this.maxx-this.minx,aN=this.maxy-this.miny===0?1:this.maxy-this.miny,aM=this.yvalues.length-1,aQ&&(aT<aQ*4||aS<aQ*4)&&(aQ=0);if(aQ){ax=aV.get("highlightSpotColor")&&!aV.get("disableInteraction");if(ax||aV.get("minSpotColor")||aV.get("spotColor")&&L[aM]===this.miny){aS-=d.ceil(aQ)}if(ax||aV.get("maxSpotColor")||aV.get("spotColor")&&L[aM]===this.maxy){aS-=d.ceil(aQ),aL+=d.ceil(aQ)}if(ax||(aV.get("minSpotColor")||aV.get("maxSpotColor"))&&(L[0]===this.miny||L[0]===this.maxy)){aK+=d.ceil(aQ),aT-=d.ceil(aQ)}if(ax||aV.get("spotColor")||aV.get("minSpotColor")||aV.get("maxSpotColor")&&(L[aM]===this.miny||L[aM]===this.maxy)){aT-=d.ceil(aQ)}}aS--,aV.get("normalRangeMin")!==f&&!aV.get("drawNormalOnTop")&&this.drawNormalRange(aK,aL,aS,aT,aN),aH=[],aF=[aH],x=aI=null,aG=L.length;for(t=0;t<aG;t++){aD=au[t],ay=au[t+1],aA=L[t],aw=aK+d.round((aD-this.minx)*(aT/aO)),at=t<aG-1?aK+d.round((ay-this.minx)*(aT/aO)):aT,aI=aw+(at-aw)/2,aP[t]=[x||0,aI,t],x=aI,aA===null?t&&(L[t-1]!==null&&(aH=[],aF.push(aH)),aR.push(null)):(aA<this.miny&&(aA=this.miny),aA>this.maxy&&(aA=this.maxy),aH.length||aH.push([aw,aL+aS]),aJ=[aw,aL+d.round(aS-aS*((aA-this.miny)/aN))],aH.push(aJ),aR.push(aJ))}aE=[],aC=[],aB=aF.length;for(t=0;t<aB;t++){aH=aF[t],aH.length&&(aV.get("fillColor")&&(aH.push([aH[aH.length-1][0],aL+aS]),aC.push(aH.slice(0)),aH.pop()),aH.length>2&&(aH[0]=[aH[0][0],aH[1][1]]),aE.push(aH))}aB=aC.length;for(t=0;t<aB;t++){aU.drawShape(aC[t],aV.get("fillColor"),aV.get("fillColor")).append()}aV.get("normalRangeMin")!==f&&aV.get("drawNormalOnTop")&&this.drawNormalRange(aK,aL,aS,aT,aN),aB=aE.length;for(t=0;t<aB;t++){aU.drawShape(aE[t],aV.get("lineColor"),f,aV.get("lineWidth")).append()}if(aQ&&aV.get("valueSpots")){az=aV.get("valueSpots"),az.get===f&&(az=new X(az));for(t=0;t<aG;t++){av=az.get(L[t]),av&&aU.drawCircle(aK+d.round((au[t]-this.minx)*(aT/aO)),aL+d.round(aS-aS*((L[t]-this.miny)/aN)),aQ,f,av).append()}}aQ&&aV.get("spotColor")&&L[aM]!==null&&aU.drawCircle(aK+d.round((au[au.length-1]-this.minx)*(aT/aO)),aL+d.round(aS-aS*((L[aM]-this.miny)/aN)),aQ,f,aV.get("spotColor")).append(),this.maxy!==this.minyorg&&(aQ&&aV.get("minSpotColor")&&(aD=au[ar.inArray(this.minyorg,L)],aU.drawCircle(aK+d.round((aD-this.minx)*(aT/aO)),aL+d.round(aS-aS*((this.minyorg-this.miny)/aN)),aQ,f,aV.get("minSpotColor")).append()),aQ&&aV.get("maxSpotColor")&&(aD=au[ar.inArray(this.maxyorg,L)],aU.drawCircle(aK+d.round((aD-this.minx)*(aT/aO)),aL+d.round(aS-aS*((this.maxyorg-this.miny)/aN)),aQ,f,aV.get("maxSpotColor")).append())),this.lastShapeId=aU.getLastShapeId(),this.canvasTop=aL,aU.render()}}),ar.fn.sparkline.bar=N=ao(ar.fn.sparkline._base,R,{type:"bar",init:function(aX,aW,aV,aU,aT){var aS=parseInt(aV.get("barWidth"),10),aR=parseInt(aV.get("barSpacing"),10),aQ=aV.get("chartRangeMin"),aP=aV.get("chartRangeMax"),aO=aV.get("chartRangeClip"),aN=Infinity,aM=-Infinity,aL,aK,aJ,aI,aH,aG,aF,aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,y,t,m,l;N._super.init.call(this,aX,aW,aV,aU,aT);for(aG=0,aF=aW.length;aG<aF;aG++){y=aW[aG],aL=typeof y=="string"&&y.indexOf(":")>-1;if(aL||ar.isArray(y)){ax=!0,aL&&(y=aW[aG]=aj(y.split(":"))),y=ai(y,null),aK=d.min.apply(d,y),aJ=d.max.apply(d,y),aK<aN&&(aN=aK),aJ>aM&&(aM=aJ)}}this.stacked=ax,this.regionShapes={},this.barWidth=aS,this.barSpacing=aR,this.totalBarWidth=aS+aR,this.width=aU=aW.length*aS+(aW.length-1)*aR,this.initTarget(),aO&&(az=aQ===f?-Infinity:aQ,ay=aP===f?Infinity:aP),aH=[],aI=ax?[]:aH;var k=[],i=[];for(aG=0,aF=aW.length;aG<aF;aG++){if(ax){aw=aW[aG],aW[aG]=at=[],k[aG]=0,aI[aG]=i[aG]=0;for(av=0,au=aw.length;av<au;av++){y=at[av]=aO?am(aw[av],az,ay):aw[av],y!==null&&(y>0&&(k[aG]+=y),aN<0&&aM>0?y<0?i[aG]+=d.abs(y):aI[aG]+=y:aI[aG]+=d.abs(y-(y<0?aM:aN)),aH.push(y))}}else{y=aO?am(aW[aG],az,ay):aW[aG],y=aW[aG]=ak(y),y!==null&&aH.push(y)}}this.max=aA=d.max.apply(d,aH),this.min=aB=d.min.apply(d,aH),this.stackMax=aM=ax?d.max.apply(d,k):aA,this.stackMin=aN=ax?d.min.apply(d,aH):aB,aV.get("chartRangeMin")!==f&&(aV.get("chartRangeClip")||aV.get("chartRangeMin")<aB)&&(aB=aV.get("chartRangeMin")),aV.get("chartRangeMax")!==f&&(aV.get("chartRangeClip")||aV.get("chartRangeMax")>aA)&&(aA=aV.get("chartRangeMax")),this.zeroAxis=aD=aV.get("zeroAxis",!0),aB<=0&&aA>=0&&aD?aC=0:aD==0?aC=aB:aB>0?aC=aB:aC=aA,this.xaxisOffset=aC,aE=ax?d.max.apply(d,aI)+d.max.apply(d,i):aA-aB,this.canvasHeightEf=aD&&aB<0?this.canvasHeight-2:this.canvasHeight-1,aB<aC?(m=ax&&aA>=0?aM:aA,t=(m-aC)/aE*this.canvasHeight,t!==d.ceil(t)&&(this.canvasHeightEf-=2,t=d.ceil(t))):t=this.canvasHeight,this.yoffset=t,ar.isArray(aV.get("colorMap"))?(this.colorMapByIndex=aV.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=aV.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===f&&(this.colorMapByValue=new X(this.colorMapByValue))),this.range=aE},getRegion:function(g,j,i){var h=d.floor(j/this.totalBarWidth);return h<0||h>=this.values.length?f:h},getCurrentRegionFields:function(){var h=this.currentRegion,g=ab(this.values[h]),k=[],j,i;for(i=g.length;i--;){j=g[i],k.push({isNull:j===null,value:j,color:this.calcColor(i,j,h),offset:h})}return k},calcColor:function(l,k,r){var q=this.colorMapByIndex,p=this.colorMapByValue,o=this.options,n,m;return this.stacked?n=o.get("stackedBarColor"):n=k<0?o.get("negBarColor"):o.get("barColor"),k===0&&o.get("zeroColor")!==f&&(n=o.get("zeroColor")),p&&(m=p.get(k))?n=m:q&&q.length>r&&(n=q[r]),ar.isArray(n)?n[l%n.length]:n},renderRegion:function(aB,aA){var az=this.values[aB],ay=this.options,ax=this.xaxisOffset,aw=[],av=this.range,au=this.stacked,at=this.target,L=aB*this.totalBarWidth,K=this.canvasHeightEf,J=this.yoffset,I,H,G,F,E,D,C,B,A,o;az=ar.isArray(az)?az:[az],C=az.length,B=az[0],F=ag(null,az),o=ag(ax,az,!0);if(F){return ay.get("nullColor")?(G=aA?ay.get("nullColor"):this.calcHighlightColor(ay.get("nullColor"),ay),I=J>0?J-1:J,at.drawRect(L,I,this.barWidth-1,0,G,G)):f}E=J;for(D=0;D<C;D++){B=az[D];if(au&&B===ax){if(!o||A){continue}A=!0}av>0?H=d.floor(K*(d.abs(B-ax)/av))+1:H=1,B<ax||B===ax&&J===0?(I=E,E+=H):(I=J-H,J-=H),G=this.calcColor(D,B,aB),aA&&(G=this.calcHighlightColor(G,ay)),aw.push(at.drawRect(L,I,this.barWidth-1,H-1,G,G))}return aw.length===1?aw[0]:aw}}),ar.fn.sparkline.tristate=c=ao(ar.fn.sparkline._base,R,{type:"tristate",init:function(k,j,p,o,n){var m=parseInt(p.get("barWidth"),10),l=parseInt(p.get("barSpacing"),10);c._super.init.call(this,k,j,p,o,n),this.regionShapes={},this.barWidth=m,this.barSpacing=l,this.totalBarWidth=m+l,this.values=ar.map(j,Number),this.width=o=j.length*m+(j.length-1)*l,ar.isArray(p.get("colorMap"))?(this.colorMapByIndex=p.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=p.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===f&&(this.colorMapByValue=new X(this.colorMapByValue))),this.initTarget()},getRegion:function(g,i,h){return d.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var g=this.currentRegion;return{isNull:this.values[g]===f,value:this.values[g],color:this.calcColor(this.values[g],g),offset:g}},calcColor:function(j,i){var p=this.values,o=this.options,n=this.colorMapByIndex,m=this.colorMapByValue,l,k;return m&&(k=m.get(j))?l=k:n&&n.length>i?l=n[i]:p[i]<0?l=o.get("negBarColor"):p[i]>0?l=o.get("posBarColor"):l=o.get("zeroBarColor"),l},renderRegion:function(w,v){var u=this.values,t=this.options,s=this.target,r,q,p,o,n,m;r=s.pixelHeight,p=d.round(r/2),o=w*this.totalBarWidth,u[w]<0?(n=p,q=p-1):u[w]>0?(n=0,q=p-1):(n=p-1,q=2),m=this.calcColor(u[w],w);if(m===null){return}return v&&(m=this.calcHighlightColor(m,t)),s.drawRect(o,n,this.barWidth-1,q-1,m,m)}}),ar.fn.sparkline.discrete=ae=ao(ar.fn.sparkline._base,R,{type:"discrete",init:function(i,m,l,k,j){ae._super.init.call(this,i,m,l,k,j),this.regionShapes={},this.values=m=ar.map(m,Number),this.min=d.min.apply(d,m),this.max=d.max.apply(d,m),this.range=this.max-this.min,this.width=k=l.get("width")==="auto"?m.length*2:this.width,this.interval=d.floor(k/m.length),this.itemWidth=k/m.length,l.get("chartRangeMin")!==f&&(l.get("chartRangeClip")||l.get("chartRangeMin")<this.min)&&(this.min=l.get("chartRangeMin")),l.get("chartRangeMax")!==f&&(l.get("chartRangeClip")||l.get("chartRangeMax")>this.max)&&(this.max=l.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=l.get("lineHeight")==="auto"?d.round(this.canvasHeight*0.3):l.get("lineHeight"))},getRegion:function(g,i,h){return d.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var g=this.currentRegion;return{isNull:this.values[g]===f,value:this.values[g],offset:g}},renderRegion:function(G,F){var E=this.values,D=this.options,C=this.min,B=this.max,A=this.range,z=this.interval,y=this.target,x=this.canvasHeight,w=this.lineHeight,v=x-w,u,t,s,i;return t=am(E[G],C,B),i=G*z,u=d.round(v-v*((t-C)/A)),s=D.get("thresholdColor")&&t<D.get("thresholdValue")?D.get("thresholdColor"):D.get("lineColor"),F&&(s=this.calcHighlightColor(s,D)),y.drawLine(i,u,i,u+w,s)}}),ar.fn.sparkline.bullet=ac=ao(ar.fn.sparkline._base,{type:"bullet",init:function(k,r,q,p,o){var n,m,l;ac._super.init.call(this,k,r,q,p,o),this.values=r=aj(r),l=r.slice(),l[0]=l[0]===null?l[2]:l[0],l[1]=r[1]===null?l[2]:l[1],n=d.min.apply(d,r),m=d.max.apply(d,r),q.get("base")===f?n=n<0?n:0:n=q.get("base"),this.min=n,this.max=m,this.range=m-n,this.shapes={},this.valueShapes={},this.regiondata={},this.width=p=q.get("width")==="auto"?"4.0em":p,this.target=this.$el.simpledraw(p,o,q.get("composite")),r.length||(this.disabled=!0),this.initTarget()},getRegion:function(h,g,j){var i=this.target.getShapeAt(h,g,j);return i!==f&&this.shapes[i]!==f?this.shapes[i]:f},getCurrentRegionFields:function(){var g=this.currentRegion;return{fieldkey:g.substr(0,1),value:this.values[g.substr(1)],region:g}},changeHighlight:function(h){var g=this.currentRegion,j=this.valueShapes[g],i;delete this.shapes[j];switch(g.substr(0,1)){case"r":i=this.renderRange(g.substr(1),h);break;case"p":i=this.renderPerformance(h);break;case"t":i=this.renderTarget(h)}this.valueShapes[g]=i.id,this.shapes[i.id]=g,this.target.replaceWithShape(j,i)},renderRange:function(g,k){var j=this.values[g],i=d.round(this.canvasWidth*((j-this.min)/this.range)),h=this.options.get("rangeColors")[g-2];return k&&(h=this.calcHighlightColor(h,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,h,h)},renderPerformance:function(g){var j=this.values[1],i=d.round(this.canvasWidth*((j-this.min)/this.range)),h=this.options.get("performanceColor");return g&&(h=this.calcHighlightColor(h,this.options)),this.target.drawRect(0,d.round(this.canvasHeight*0.3),i-1,d.round(this.canvasHeight*0.4)-1,h,h)},renderTarget:function(h){var m=this.values[0],l=d.round(this.canvasWidth*((m-this.min)/this.range)-this.options.get("targetWidth")/2),k=d.round(this.canvasHeight*0.1),j=this.canvasHeight-k*2,i=this.options.get("targetColor");return h&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(l,k,this.options.get("targetWidth")-1,j-1,i,i)},render:function(){var h=this.values.length,g=this.target,j,i;if(!ac._super.render.call(this)){return}for(j=2;j<h;j++){i=this.renderRange(j).append(),this.shapes[i.id]="r"+j,this.valueShapes["r"+j]=i.id}this.values[1]!==null&&(i=this.renderPerformance().append(),this.shapes[i.id]="p1",this.valueShapes.p1=i.id),this.values[0]!==null&&(i=this.renderTarget().append(),this.shapes[i.id]="t0",this.valueShapes.t0=i.id),g.render()}}),ar.fn.sparkline.pie=aa=ao(ar.fn.sparkline._base,{type:"pie",init:function(j,p,o,n,m){var l=0,k;aa._super.init.call(this,j,p,o,n,m),this.shapes={},this.valueShapes={},this.values=p=ar.map(p,Number),o.get("width")==="auto"&&(this.width=this.height);if(p.length>0){for(k=p.length;k--;){l+=p[k]}}this.total=l,this.initTarget(),this.radius=d.floor(d.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(h,g,j){var i=this.target.getShapeAt(h,g,j);return i!==f&&this.shapes[i]!==f?this.shapes[i]:f},getCurrentRegionFields:function(){var g=this.currentRegion;return{isNull:this.values[g]===f,value:this.values[g],percent:this.values[g]/this.total*100,color:this.options.get("sliceColors")[g%this.options.get("sliceColors").length],offset:g}},changeHighlight:function(h){var g=this.currentRegion,j=this.renderSlice(g,h),i=this.valueShapes[g];delete this.shapes[i],this.target.replaceWithShape(i,j),this.valueShapes[g]=j.id,this.shapes[j.id]=g},renderSlice:function(H,G){var F=this.target,E=this.options,D=this.radius,C=E.get("borderWidth"),B=E.get("offset"),A=2*d.PI,z=this.values,y=this.total,x=B?2*d.PI*(B/360):0,w,v,u,t,s;t=z.length;for(u=0;u<t;u++){w=x,v=x,y>0&&(v=x+A*(z[u]/y));if(H===u){return s=E.get("sliceColors")[u%E.get("sliceColors").length],G&&(s=this.calcHighlightColor(s,E)),F.drawPieSlice(D,D,D-C,w,v,f,s)}x=v}},render:function(){var j=this.target,p=this.values,o=this.options,n=this.radius,m=o.get("borderWidth"),l,k;if(!aa._super.render.call(this)){return}m&&j.drawCircle(n,n,d.floor(n-m/2),o.get("borderColor"),f,m).append();for(k=p.length;k--;){p[k]&&(l=this.renderSlice(k).append(),this.valueShapes[k]=l.id,this.shapes[l.id]=k)}j.render()}}),ar.fn.sparkline.box=Y=ao(ar.fn.sparkline._base,{type:"box",init:function(h,g,k,j,i){Y._super.init.call(this,h,g,k,j,i),this.values=ar.map(g,Number),this.width=k.get("width")==="auto"?"4.0em":j,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var g=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==f&&g.push({field:"lo",value:this.loutlier}),this.routlier!==f&&g.push({field:"ro",value:this.routlier}),this.lwhisker!==f&&g.push({field:"lw",value:this.lwhisker}),this.rwhisker!==f&&g.push({field:"rw",value:this.rwhisker}),g},render:function(){var aw=this.target,av=this.values,au=av.length,at=this.options,L=this.canvasWidth,K=this.canvasHeight,J=at.get("chartRangeMin")===f?d.min.apply(d,av):at.get("chartRangeMin"),I=at.get("chartRangeMax")===f?d.max.apply(d,av):at.get("chartRangeMax"),H=0,G,F,E,D,C,B,A,z,y,x,j;if(!Y._super.render.call(this)){return}if(at.get("raw")){at.get("showOutliers")&&av.length>5?(F=av[0],G=av[1],D=av[2],C=av[3],B=av[4],A=av[5],z=av[6]):(G=av[0],D=av[1],C=av[2],B=av[3],A=av[4])}else{av.sort(function(h,g){return h-g}),D=al(av,1),C=al(av,2),B=al(av,3),E=B-D;if(at.get("showOutliers")){G=A=f;for(y=0;y<au;y++){G===f&&av[y]>D-E*at.get("outlierIQR")&&(G=av[y]),av[y]<B+E*at.get("outlierIQR")&&(A=av[y])}F=av[0],z=av[au-1]}else{G=av[0],A=av[au-1]}}this.quartiles=[D,C,B],this.lwhisker=G,this.rwhisker=A,this.loutlier=F,this.routlier=z,j=L/(I-J+1),at.get("showOutliers")&&(H=d.ceil(at.get("spotRadius")),L-=2*d.ceil(at.get("spotRadius")),j=L/(I-J+1),F<G&&aw.drawCircle((F-J)*j+H,K/2,at.get("spotRadius"),at.get("outlierLineColor"),at.get("outlierFillColor")).append(),z>A&&aw.drawCircle((z-J)*j+H,K/2,at.get("spotRadius"),at.get("outlierLineColor"),at.get("outlierFillColor")).append()),aw.drawRect(d.round((D-J)*j+H),d.round(K*0.1),d.round((B-D)*j),d.round(K*0.8),at.get("boxLineColor"),at.get("boxFillColor")).append(),aw.drawLine(d.round((G-J)*j+H),d.round(K/2),d.round((D-J)*j+H),d.round(K/2),at.get("lineColor")).append(),aw.drawLine(d.round((G-J)*j+H),d.round(K/4),d.round((G-J)*j+H),d.round(K-K/4),at.get("whiskerColor")).append(),aw.drawLine(d.round((A-J)*j+H),d.round(K/2),d.round((B-J)*j+H),d.round(K/2),at.get("lineColor")).append(),aw.drawLine(d.round((A-J)*j+H),d.round(K/4),d.round((A-J)*j+H),d.round(K-K/4),at.get("whiskerColor")).append(),aw.drawLine(d.round((C-J)*j+H),d.round(K*0.1),d.round((C-J)*j+H),d.round(K*0.9),at.get("medianColor")).append(),at.get("target")&&(x=d.ceil(at.get("spotRadius")),aw.drawLine(d.round((at.get("target")-J)*j+H),d.round(K/2-x),d.round((at.get("target")-J)*j+H),d.round(K/2+x),at.get("targetColor")).append(),aw.drawLine(d.round((at.get("target")-J)*j+H-x),d.round(K/2),d.round((at.get("target")-J)*j+H+x),d.round(K/2),at.get("targetColor")).append()),aw.render()}}),S=ao({init:function(h,g,j,i){this.target=h,this.id=g,this.type=j,this.args=i},append:function(){return this.target.appendShape(this),this}}),Q=ao({_pxregex:/(\d+)(px)?\s*$/i,init:function(h,g,i){if(!h){return}this.width=h,this.height=g,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),ar.data(i,"_jqs_vcanvas",this)},drawLine:function(h,g,l,k,j,i){return this.drawShape([[h,g],[l,k]],j,i)},drawShape:function(h,g,j,i){return this._genShape("Shape",[h,g,j,i])},drawCircle:function(h,g,l,k,j,i){return this._genShape("Circle",[h,g,l,k,j,i])},drawPieSlice:function(i,h,n,m,l,k,j){return this._genShape("PieSlice",[i,h,n,m,l,k,j])},drawRect:function(h,g,l,k,j,i){return this._genShape("Rect",[h,g,l,k,j,i])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(h,g){ar(g).html(h)},_calculatePixelDims:function(h,g,j){var i;i=this._pxregex.exec(g),i?this.pixelHeight=i[1]:this.pixelHeight=ar(j).height(),i=this._pxregex.exec(h),i?this.pixelWidth=i[1]:this.pixelWidth=ar(j).width()},_genShape:function(h,g){var i=a++;return g.unshift(i),new S(this,i,h,g)},appendShape:function(g){alert("appendShape not implemented")},replaceWithShape:function(h,g){alert("replaceWithShape not implemented")},insertAfterShape:function(h,g){alert("insertAfterShape not implemented")},removeShapeId:function(g){alert("removeShapeId not implemented")},getShapeAt:function(h,g,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),O=ao(Q,{init:function(h,k,j,i){O._super.init.call(this,h,k,j),this.canvas=e.createElement("canvas"),j[0]&&(j=j[0]),ar.data(j,"_jqs_vcanvas",this),ar(this.canvas).css({display:"inline-block",width:h,height:k,verticalAlign:"top"}),this._insert(this.canvas,j),this._calculatePixelDims(h,k,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=i,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=f,ar(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(h,g,j){var i=this.canvas.getContext("2d");return h!==f&&(i.strokeStyle=h),i.lineWidth=j===f?1:j,g!==f&&(i.fillStyle=g),i},reset:function(){var g=this._getContext();g.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=f},_drawShape:function(k,j,q,p,o){var n=this._getContext(q,p,o),m,l;n.beginPath(),n.moveTo(j[0][0]+0.5,j[0][1]+0.5);for(m=1,l=j.length;m<l;m++){n.lineTo(j[m][0]+0.5,j[m][1]+0.5)}q!==f&&n.stroke(),p!==f&&n.fill(),this.targetX!==f&&this.targetY!==f&&n.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=k)},_drawCircle:function(k,r,q,p,o,n,m){var l=this._getContext(o,n,m);l.beginPath(),l.arc(r,q,p,0,2*d.PI,!1),this.targetX!==f&&this.targetY!==f&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=k),o!==f&&l.stroke(),n!==f&&l.fill()},_drawPieSlice:function(s,r,q,p,o,n,m,l){var k=this._getContext(m,l);k.beginPath(),k.moveTo(r,q),k.arc(r,q,p,o,n,!1),k.lineTo(r,q),k.closePath(),m!==f&&k.stroke(),l&&k.fill(),this.targetX!==f&&this.targetY!==f&&k.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=s)},_drawRect:function(i,h,n,m,l,k,j){return this._drawShape(i,[[h,n],[h+m,n],[h+m,n+l],[h,n+l],[h,n]],k,j)},appendShape:function(g){return this.shapes[g.id]=g,this.shapeseq.push(g.id),this.lastShapeId=g.id,g.id},replaceWithShape:function(h,g){var j=this.shapeseq,i;this.shapes[g.id]=g;for(i=j.length;i--;){j[i]==h&&(j[i]=g.id)}delete this.shapes[h]},replaceWithShapes:function(i,h){var n=this.shapeseq,m={},l,k,j;for(k=i.length;k--;){m[i[k]]=!0}for(k=n.length;k--;){l=n[k],m[l]&&(n.splice(k,1),delete this.shapes[l],j=k)}for(k=h.length;k--;){n.splice(j,0,h[k].id),this.shapes[h[k].id]=h[k]}},insertAfterShape:function(h,g){var j=this.shapeseq,i;for(i=j.length;i--;){if(j[i]===h){j.splice(i+1,0,g.id),this.shapes[g.id]=g;return}}},removeShapeId:function(h){var g=this.shapeseq,i;for(i=g.length;i--;){if(g[i]===h){g.splice(i,1);break}}delete this.shapes[h]},getShapeAt:function(h,g,i){return this.targetX=g,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,h=this.shapes,n=i.length,m=this._getContext(),l,k,j;m.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(j=0;j<n;j++){l=i[j],k=h[l],this["_draw"+k.type].apply(this,k.args)}this.interact||(this.shapes={},this.shapeseq=[])}}),M=ao(Q,{init:function(g,j,i){var h;M._super.init.call(this,g,j,i),i[0]&&(i=i[0]),ar.data(i,"_jqs_vcanvas",this),this.canvas=e.createElement("span"),ar(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:g,height:j,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(g,j,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,h='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",h),this.group=ar(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(A,z,y,x,w){var v=[],u,t,s,r,q,p,o;for(o=0,p=z.length;o<p;o++){v[o]=""+z[o][0]+","+z[o][1]}return u=v.splice(0,1),w=w===f?1:w,t=y===f?' stroked="false" ':' strokeWeight="'+w+'px" strokeColor="'+y+'" ',s=x===f?' filled="false"':' fillColor="'+x+'" filled="true" ',r=v[0]===v[v.length-1]?"x ":"",q='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+A+'" '+t+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+u+" l "+v.join(", ")+" "+r+'e"> </v:shape>',q},_drawCircle:function(u,t,s,r,q,p,o){var n,m,l;return t-=r,s-=r,n=q===f?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+q+'" ',m=p===f?' filled="false"':' fillColor="'+p+'" filled="true" ',l='<v:oval  id="jqsshape'+u+'" '+n+m+' style="position:absolute;top:'+s+"px; left:"+t+"px; width:"+r*2+"px; height:"+r*2+'px"></v:oval>',l},_drawPieSlice:function(H,G,F,E,D,C,B,A){var z,y,x,w,v,u,t,s;if(D===C){return""}C-D===2*d.PI&&(D=0,C=2*d.PI),y=G+d.round(d.cos(D)*E),x=F+d.round(d.sin(D)*E),w=G+d.round(d.cos(C)*E),v=F+d.round(d.sin(C)*E);if(y===w&&x===v){if(C-D<d.PI){return""}y=w=G+E,x=v=F}return y===w&&x===v&&C-D<d.PI?"":(z=[G-E,F-E,G+E,F+E,y,x,w,v],u=B===f?' stroked="false" ':' strokeWeight="1px" strokeColor="'+B+'" ',t=A===f?' filled="false"':' fillColor="'+A+'" filled="true" ',s='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+H+'" '+u+t+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+G+","+F+" wa "+z.join(", ")+' x e"> </v:shape>',s)},_drawRect:function(i,h,n,m,l,k,j){return this._drawShape(i,[[h,n],[h,n+l],[h+m,n+l],[h+m,n],[h,n]],k,j)},reset:function(){this.group.innerHTML=""},appendShape:function(h){var g=this["_draw"+h.type].apply(this,h.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",g):this.prerender+=g,this.lastShapeId=h.id,h.id},replaceWithShape:function(h,g){var j=ar("#jqsshape"+h),i=this["_draw"+g.type].apply(this,g.args);j[0].outerHTML=i},replaceWithShapes:function(i,h){var m=ar("#jqsshape"+i[0]),l="",k=h.length,j;for(j=0;j<k;j++){l+=this["_draw"+h[j].type].apply(this,h[j].args)}m[0].outerHTML=l;for(j=1;j<i.length;j++){ar("#jqsshape"+i[j]).remove()}},insertAfterShape:function(h,g){var j=ar("#jqsshape"+h),i=this["_draw"+g.type].apply(this,g.args);j[0].insertAdjacentHTML("afterEnd",i)},removeShapeId:function(h){var g=ar("#jqsshape"+h);this.group.removeChild(g[0])},getShapeAt:function(h,g,j){var i=h.id.substr(8);return i},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);var Tasks=function(){return{initDashboardWidget:function(){$('.task-list input[type="checkbox"]').change(function(){if($(this).is(":checked")){$(this).parents("li").addClass("task-done")}else{$(this).parents("li").removeClass("task-done")}})}}}();(function(aZ){function aY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function aX(d,c){return function(a){return aL(d.call(this,a),c)}}function aW(d,c){return function(a){return this.lang().ordinal(d.call(this,a),c)}}function aT(){}function aS(b){ay(b),aQ(this,b)}function aR(t){var s=aE(t),r=s.year||0,q=s.month||0,p=s.week||0,o=s.day||0,n=s.hour||0,m=s.minute||0,l=s.second||0,k=s.millisecond||0;this._milliseconds=+k+1000*l+60000*m+3600000*n,this._days=+o+7*p,this._months=+q+12*r,this._data={},this._bubble()}function aQ(e,d){for(var f in d){d.hasOwnProperty(f)&&(e[f]=d[f])}return d.hasOwnProperty("toString")&&(e.toString=d.toString),d.hasOwnProperty("valueOf")&&(e.valueOf=d.valueOf),e}function aP(e){var d,f={};for(d in e){e.hasOwnProperty(d)&&ah.hasOwnProperty(d)&&(f[d]=e[d])}return f}function aM(b){return 0>b?Math.ceil(b):Math.floor(b)}function aL(g,f,j){for(var i=""+Math.abs(g),h=g>=0;i.length<f;){i="0"+i}return(h?j?"+":"":"-")+i}function aK(r,q,p,o){var n,m,l=q._milliseconds,k=q._days,j=q._months;l&&r._d.setTime(+r._d+l*p),(k||j)&&(n=r.minute(),m=r.hour()),k&&r.date(r.date()+k*p),j&&r.month(r.month()+j*p),l&&!o&&am.updateOffset(r),(k||j)&&(r.minute(n),r.hour(m))}function aJ(b){return"[object Array]"===Object.prototype.toString.call(b)}function aI(b){return"[object Date]"===Object.prototype.toString.call(b)||b instanceof Date}function aG(i,h,n){var m,l=Math.min(i.length,h.length),k=Math.abs(i.length-h.length),j=0;for(m=0;l>m;m++){(n&&i[m]!==h[m]||!n&&aC(i[m])!==aC(h[m]))&&j++}return j+k}function aF(d){if(d){var c=d.toLowerCase().replace(/(.)s$/,"$1");d=bN[d]||bD[c]||c}return d}function aE(f){var e,h,g={};for(h in f){f.hasOwnProperty(h)&&(e=aF(h),e&&(g[e]=f[h]))}return g}function aD(a){var f,e;if(0===a.indexOf("week")){f=7,e="day"}else{if(0!==a.indexOf("month")){return}f=12,e="month"}am[a]=function(m,l){var k,d,c=am.fn._lang[a],b=[];if("number"==typeof m&&(l=m,m=aZ),d=function(h){var g=am().utc().set(e,h);return c.call(am.fn._lang,g,m||"")},null!=l){return d(l)}for(k=0;f>k;k++){b.push(d(k))}return b}}function aC(e){var d=+e,f=0;return 0!==d&&isFinite(d)&&(f=d>=0?Math.floor(d):Math.ceil(d)),f}function aB(d,c){return new Date(Date.UTC(d,c+1,0)).getUTCDate()}function aA(b){return az(b)?366:365}function az(b){return b%4===0&&b%100!==0||b%400===0}function ay(d){var c;d._a&&-2===d._pf.overflow&&(c=d._a[an]<0||d._a[an]>11?an:d._a[af]<1||d._a[af]>aB(d._a[aN],d._a[an])?af:d._a[bR]<0||d._a[bR]>23?bR:d._a[bH]<0||d._a[bH]>59?bH:d._a[bt]<0||d._a[bt]>59?bt:d._a[aU]<0||d._a[aU]>999?aU:-1,d._pf._overflowDayOfYear&&(aN>c||c>af)&&(c=af),d._pf.overflow=c)}function ax(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length)),b._isValid}function aw(b){return b?b.toLowerCase().replace("_","-"):b}function au(d,c){return c._isUTC?am(d).zone(c._offset||0):am(d).local()}function bA(d,c){return c.abbr=d,ap[d]||(ap[d]=new aT),ap[d].set(c),ap[d]}function by(b){delete ap[b]}function bx(i){var h,n,m,l,k=0,j=function(d){if(!ap[d]&&bT){try{require("./lang/"+d)}catch(c){}}return ap[d]};if(!i){return am.fn._lang}if(!aJ(i)){if(n=j(i)){return n}i=[i]}for(;k<i.length;){for(l=aw(i[k]).split("-"),h=l.length,m=aw(i[k+1]),m=m?m.split("-"):null;h>0;){if(n=j(l.slice(0,h).join("-"))){return n}if(m&&m.length>=h&&aG(l,m,!0)>=h-1){break}h--}k++}return am.fn._lang}function bw(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function bv(f){var e,h,g=f.match(ar);for(e=0,h=g.length;h>e;e++){g[e]=ad[g[e]]?ad[g[e]]:bw(g[e])}return function(b){var a="";for(e=0;h>e;e++){a+=g[e] instanceof Function?g[e].call(b,f):g[e]}return a}}function bs(d,c){return d.isValid()?(c=br(c,d.lang()),a3[c]||(a3[c]=bv(c)),a3[c](d)):d.lang().invalidDate()}function br(f,e){function h(b){return e.longDateFormat(b)||b}var g=5;for(aj.lastIndex=0;g>=0&&aj.test(f);){f=f.replace(aj,h),aj.lastIndex=0,g-=1}return f}function bq(f,e){var h,g=e._strict;switch(f){case"DDDD":return bu;case"YYYY":case"GGGG":case"gggg":return g?aV:bC;case"Y":case"G":case"g":return ai;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return g?aq:bQ;case"S":if(g){return bS}case"SS":if(g){return bI}case"SSS":if(g){return bu}case"DDD":return bM;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return bn;case"a":case"A":return bx(e._l)._meridiemParse;case"X":return ag;case"Z":case"ZZ":return aO;case"T":return ao;case"SSSS":return bG;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return g?bI:aa;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return aa;default:return h=new RegExp(bg(bh(f.replace("\\","")),"i"))}}function bp(g){g=g||"";var f=g.match(aO)||[],j=f[f.length-1]||[],i=(j+"").match(at)||["-",0,0],h=+(60*i[1])+aC(i[2]);return"+"===i[0]?-h:h}function bo(g,f,j){var i,h=j._a;switch(g){case"M":case"MM":null!=f&&(h[an]=aC(f)-1);break;case"MMM":case"MMMM":i=bx(j._l).monthsParse(f),null!=i?h[an]=i:j._pf.invalidMonth=f;break;case"D":case"DD":null!=f&&(h[af]=aC(f));break;case"DDD":case"DDDD":null!=f&&(j._dayOfYear=aC(f));break;case"YY":h[aN]=aC(f)+(aC(f)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":h[aN]=aC(f);break;case"a":case"A":j._isPm=bx(j._l).isPM(f);break;case"H":case"HH":case"h":case"hh":h[bR]=aC(f);break;case"m":case"mm":h[bH]=aC(f);break;case"s":case"ss":h[bt]=aC(f);break;case"S":case"SS":case"SSS":case"SSSS":h[aU]=aC(1000*("0."+f));break;case"X":j._d=new Date(1000*parseFloat(f));break;case"Z":case"ZZ":j._useUTC=!0,j._tzm=bp(f);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":g=g.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":g=g.substr(0,2),f&&(j._w=j._w||{},j._w[g]=f)}}function bl(x){var w,v,u,t,s,r,q,p,o,n,m=[];if(!x._d){for(u=bj(x),x._w&&null==x._a[af]&&null==x._a[an]&&(s=function(a){var d=parseInt(a,10);return a?a.length<3?d>68?1900+d:2000+d:d:null==x._a[aN]?am().weekYear():x._a[aN]},r=x._w,null!=r.GG||null!=r.W||null!=r.E?q=a4(s(r.GG),r.W||1,r.E,4,1):(p=bx(x._l),o=null!=r.d?a8(r.d,p):null!=r.e?parseInt(r.e,10)+p._week.dow:0,n=parseInt(r.w,10)||1,null!=r.d&&o<p._week.dow&&n++,q=a4(s(r.gg),n,o,p._week.doy,p._week.dow)),x._a[aN]=q.year,x._dayOfYear=q.dayOfYear),x._dayOfYear&&(t=null==x._a[aN]?u[aN]:x._a[aN],x._dayOfYear>aA(t)&&(x._pf._overflowDayOfYear=!0),v=a9(t,0,x._dayOfYear),x._a[an]=v.getUTCMonth(),x._a[af]=v.getUTCDate()),w=0;3>w&&null==x._a[w];++w){x._a[w]=m[w]=u[w]}for(;7>w;w++){x._a[w]=m[w]=null==x._a[w]?2===w?1:0:x._a[w]}m[bR]+=aC((x._tzm||0)/60),m[bH]+=aC((x._tzm||0)%60),x._d=(x._useUTC?a9:ba).apply(null,m)}}function bk(d){var c;d._d||(c=aE(d._i),d._a=[c.year,c.month,c.day,c.hour,c.minute,c.second,c.millisecond],bl(d))}function bj(d){var c=new Date;return d._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function bi(t){t._a=[],t._pf.empty=!0;var s,r,q,p,o,n=bx(t._l),m=""+t._i,l=m.length,k=0;for(q=br(t._f,n).match(ar)||[],s=0;s<q.length;s++){p=q[s],r=(m.match(bq(p,t))||[])[0],r&&(o=m.substr(0,m.indexOf(r)),o.length>0&&t._pf.unusedInput.push(o),m=m.slice(m.indexOf(r)+r.length),k+=r.length),ad[p]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(p),bo(p,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(p)}t._pf.charsLeftOver=l-k,m.length>0&&t._pf.unusedInput.push(m),t._isPm&&t._a[bR]<12&&(t._a[bR]+=12),t._isPm===!1&&12===t._a[bR]&&(t._a[bR]=0),bl(t),ay(t)}function bh(b){return b.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,f,j,i,h){return f||j||i||h})}function bg(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function be(b){var l,k,j,i,h;if(0===b._f.length){return b._pf.invalidFormat=!0,b._d=new Date(0/0),void 0}for(i=0;i<b._f.length;i++){h=0,l=aQ({},b),l._pf=aY(),l._f=b._f[i],bi(l),ax(l)&&(h+=l._pf.charsLeftOver,h+=10*l._pf.unusedTokens.length,l._pf.score=h,(null==j||j>h)&&(j=h,k=l))}aQ(b,k||l)}function bd(g){var f,j,i=g._i,h=bU.exec(i);if(h){for(g._pf.iso=!0,f=0,j=bB.length;j>f;f++){if(bB[f][1].exec(i)){g._f=bB[f][0]+(h[6]||" ");break}}for(f=0,j=a1.length;j>f;f++){if(a1[f][1].exec(i)){g._f+=a1[f][0];break}}i.match(aO)&&(g._f+="Z"),bi(g)}else{g._d=new Date(i)}}function bc(a){var f=a._i,e=bK.exec(f);f===aZ?a._d=new Date:e?a._d=new Date(+e[1]):"string"==typeof f?bd(a):aJ(f)?(a._a=f.slice(0),bl(a)):aI(f)?a._d=new Date(+f):"object"==typeof f?bk(a):a._d=new Date(f)}function ba(j,i,p,o,n,m,l){var k=new Date(j,i,p,o,n,m,l);return 1970>j&&k.setFullYear(j),k}function a9(d){var c=new Date(Date.UTC.apply(null,arguments));return 1970>d&&c.setUTCFullYear(d),c}function a8(d,c){if("string"==typeof d){if(isNaN(d)){if(d=c.weekdaysParse(d),"number"!=typeof d){return null}}else{d=parseInt(d,10)}}return d}function a7(g,f,j,i,h){return h.relativeTime(f||1,!!j,g,i)}function a6(r,q,p){var o=bm(Math.abs(r)/1000),n=bm(o/60),m=bm(n/60),l=bm(m/24),k=bm(l/365),j=45>o&&["s",o]||1===n&&["m"]||45>n&&["mm",n]||1===m&&["h"]||22>m&&["hh",m]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",bm(l/30)]||1===k&&["y"]||["yy",k];return j[2]=q,j[3]=r>0,j[4]=p,a7.apply({},j)}function a5(h,g,l){var k,j=l-g,i=l-h.day();return i>j&&(i-=7),j-7>i&&(i+=7),k=am(h).add("d",i),{week:Math.ceil(k.dayOfYear()/7),year:k.year()}}function a4(j,i,p,o,n){var m,l,k=a9(j,0,1).getUTCDay();return p=null!=p?p:n,m=n-k+(k>o?7:0)-(n>k?7:0),l=7*(i-1)+(p-n)+m+1,{year:l>0?j:j-1,dayOfYear:l>0?l:aA(j-1)+l}}function bJ(e){var d=e._i,f=e._f;return null===d?am.invalid({nullInput:!0}):("string"==typeof d&&(e._i=d=bx().preparse(d)),am.isMoment(d)?(e=aP(d),e._d=new Date(+d._d)):f?aJ(f)?be(e):bi(e):bc(e),new aS(e))}function a2(d,c){am.fn[d]=am.fn[d+"s"]=function(b){var e=this._isUTC?"UTC":"";return null!=b?(this._d["set"+e+c](b),am.updateOffset(this),this):this._d["get"+e+c]()}}function bE(b){am.duration.fn[b]=function(){return this._data[b]}}function bf(d,c){am.duration.fn["as"+d]=function(){return +this/c}}function aH(e){var d=!1,f=am;"undefined"==typeof ender&&(e?(bF.moment=function(){return !d&&console&&console.warn&&(d=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),f.apply(null,arguments)},aQ(bF.moment,f)):bF.moment=am)}for(var am,ae,bP="2.5.1",bF=this,bm=Math.round,aN=0,an=1,af=2,bR=3,bH=4,bt=5,aU=6,ap={},ah={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},bT="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,bK=/^\/?Date\((\-?\d+)/i,bz=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,a0=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ar=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,aj=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aa=/\d\d?/,bM=/\d{1,3}/,bC=/\d{1,4}/,bQ=/[+\-]?\d{1,6}/,bG=/\d+/,bn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,aO=/Z|[\+\-]\d\d:?\d\d/gi,ao=/T/i,ag=/[\+\-]?\d+(\.\d{1,3})?/,bS=/\d/,bI=/\d\d/,bu=/\d{3}/,aV=/\d{4}/,aq=/[+-]?\d{6}/,ai=/[+-]?\d+/,bU=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bL="YYYY-MM-DDTHH:mm:ssZ",bB=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],a1=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],at=/([\+\-]|\d\d)/gi,ak="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ac={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},bN={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bD={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},a3={},av="DDD w W M D d".split(" "),al="M D H h m s w W".split(" "),ad={M:function(){return this.month()+1},MMM:function(b){return this.lang().monthsShort(this,b)},MMMM:function(b){return this.lang().months(this,b)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(b){return this.lang().weekdaysMin(this,b)},ddd:function(b){return this.lang().weekdaysShort(this,b)},dddd:function(b){return this.lang().weekdays(this,b)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return aL(this.year()%100,2)},YYYY:function(){return aL(this.year(),4)},YYYYY:function(){return aL(this.year(),5)},YYYYYY:function(){var d=this.year(),c=d>=0?"+":"-";return c+aL(Math.abs(d),6)},gg:function(){return aL(this.weekYear()%100,2)},gggg:function(){return aL(this.weekYear(),4)},ggggg:function(){return aL(this.weekYear(),5)},GG:function(){return aL(this.isoWeekYear()%100,2)},GGGG:function(){return aL(this.isoWeekYear(),4)},GGGGG:function(){return aL(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return aC(this.milliseconds()/100)},SS:function(){return aL(aC(this.milliseconds()/10),2)},SSS:function(){return aL(this.milliseconds(),3)},SSSS:function(){return aL(this.milliseconds(),3)},Z:function(){var d=-this.zone(),c="+";return 0>d&&(d=-d,c="-"),c+aL(aC(d/60),2)+":"+aL(aC(d)%60,2)},ZZ:function(){var d=-this.zone(),c="+";return 0>d&&(d=-d,c="-"),c+aL(aC(d/60),2)+aL(aC(d)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bO=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];av.length;){ae=av.pop(),ad[ae+"o"]=aW(ad[ae],ae)}for(;al.length;){ae=al.pop(),ad[ae+ae]=aX(ad[ae],2)}for(ad.DDDD=aX(ad.DDD,3),aQ(aT.prototype,{set:function(e){var d,f;for(f in e){d=e[f],"function"==typeof d?this[f]=d:this["_"+f]=d}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(b){return this._months[b.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(b){return this._monthsShort[b.month()]},monthsParse:function(f){var e,h,g;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++){if(this._monthsParse[e]||(h=am.utc([2000,e]),g="^"+this.months(h,"")+"|^"+this.monthsShort(h,""),this._monthsParse[e]=new RegExp(g.replace(".",""),"i")),this._monthsParse[e].test(f)){return e}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(b){return this._weekdays[b.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(b){return this._weekdaysShort[b.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(b){return this._weekdaysMin[b.day()]},weekdaysParse:function(f){var e,h,g;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++){if(this._weekdaysParse[e]||(h=am([2000,1]).day(e),g="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[e]=new RegExp(g.replace(".",""),"i")),this._weekdaysParse[e].test(f)){return e}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(d){var c=this._longDateFormat[d];return !c&&this._longDateFormat[d.toUpperCase()]&&(c=this._longDateFormat[d.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[d]=c),c},isPM:function(b){return"p"===(b+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,d,f){return e>11?f?"pm":"PM":f?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,d){var f=this._calendar[e];return"function"==typeof f?f.apply(d):f},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(g,f,j,i){var h=this._relativeTime[j];return"function"==typeof h?h(g,f,j,i):h.replace(/%d/i,g)},pastFuture:function(e,d){var f=this._relativeTime[e>0?"future":"past"];return"function"==typeof f?f(d):f.replace(/%s/i,d)},ordinal:function(b){return this._ordinal.replace("%d",b)},_ordinal:"%d",preparse:function(b){return b},postformat:function(b){return b},week:function(b){return a5(b,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),am=function(j,i,h,b){var a;return"boolean"==typeof h&&(b=h,h=aZ),a={},a._isAMomentObject=!0,a._i=j,a._f=i,a._l=h,a._strict=b,a._isUTC=!1,a._pf=aY(),bJ(a)},am.utc=function(j,i,h,b){var a;return"boolean"==typeof h&&(b=h,h=aZ),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=h,a._i=j,a._f=i,a._strict=b,a._pf=aY(),bJ(a).utc()},am.unix=function(b){return am(1000*b)},am.duration=function(i,g){var n,m,l,k=i,j=null;return am.isDuration(i)?k={ms:i._milliseconds,d:i._days,M:i._months}:"number"==typeof i?(k={},g?k[g]=i:k.milliseconds=i):(j=bz.exec(i))?(n="-"===j[1]?-1:1,k={y:0,d:aC(j[af])*n,h:aC(j[bR])*n,m:aC(j[bH])*n,s:aC(j[bt])*n,ms:aC(j[aU])*n}):(j=a0.exec(i))&&(n="-"===j[1]?-1:1,l=function(d){var c=d&&parseFloat(d.replace(",","."));return(isNaN(c)?0:c)*n},k={y:l(j[2]),M:l(j[3]),d:l(j[4]),h:l(j[5]),m:l(j[6]),s:l(j[7]),w:l(j[8])}),m=new aR(k),am.isDuration(i)&&i.hasOwnProperty("_lang")&&(m._lang=i._lang),m},am.version=bP,am.defaultFormat=bL,am.updateOffset=function(){},am.lang=function(e,d){var f;return e?(d?bA(aw(e),d):null===d?(by(e),e="en"):ap[e]||bx(e),f=am.duration.fn._lang=am.fn._lang=bx(e),f._abbr):am.fn._lang._abbr},am.langData=function(b){return b&&b._lang&&b._lang._abbr&&(b=b._lang._abbr),bx(b)},am.isMoment=function(b){return b instanceof aS||null!=b&&b.hasOwnProperty("_isAMomentObject")},am.isDuration=function(b){return b instanceof aR},ae=bO.length-1;ae>=0;--ae){aD(bO[ae])}for(am.normalizeUnits=function(b){return aF(b)},am.invalid=function(d){var c=am.utc(0/0);return null!=d?aQ(c._pf,d):c._pf.userInvalidated=!0,c},am.parseZone=function(b){return am(b).parseZone()},aQ(am.fn=aS.prototype,{clone:function(){return am(this)},valueOf:function(){return +this._d+60000*(this._offset||0)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var b=am(this).utc();return 0<b.year()&&b.year()<=9999?bs(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):bs(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var b=this;return[b.year(),b.month(),b.date(),b.hours(),b.minutes(),b.seconds(),b.milliseconds()]},isValid:function(){return ax(this)},isDSTShifted:function(){return this._a?this.isValid()&&aG(this._a,(this._isUTC?am.utc(this._a):am(this._a)).toArray())>0:!1},parsingFlags:function(){return aQ({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(d){var c=bs(this,d||am.defaultFormat);return this.lang().postformat(c)},add:function(e,d){var f;return f="string"==typeof e?am.duration(+d,e):am.duration(e,d),aK(this,f,1),this},subtract:function(e,d){var f;return f="string"==typeof e?am.duration(+d,e):am.duration(e,d),aK(this,f,-1),this},diff:function(i,h,n){var m,l,k=au(i,this),j=60000*(this.zone()-k.zone());return h=aF(h),"year"===h||"month"===h?(m=43200000*(this.daysInMonth()+k.daysInMonth()),l=12*(this.year()-k.year())+(this.month()-k.month()),l+=(this-am(this).startOf("month")-(k-am(k).startOf("month")))/m,l-=60000*(this.zone()-am(this).startOf("month").zone()-(k.zone()-am(k).startOf("month").zone()))/m,"year"===h&&(l/=12)):(m=this-k,l="second"===h?m/1000:"minute"===h?m/60000:"hour"===h?m/3600000:"day"===h?(m-j)/86400000:"week"===h?(m-j)/604800000:m),n?l:aM(l)},from:function(d,c){return am.duration(this.diff(d)).lang(this.lang()._abbr).humanize(!c)},fromNow:function(b){return this.from(am(),b)},calendar:function(){var e=au(am(),this).startOf("day"),d=this.diff(e,"days",!0),f=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.lang().calendar(f,this))},isLeapYear:function(){return az(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(d){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=d?(d=a8(d,this.lang()),this.add({d:d-c})):c},month:function(e){var d,f=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(d=this.date(),this.date(1),this._d["set"+f+"Month"](e),this.date(Math.min(d,this.daysInMonth())),am.updateOffset(this),this):this._d["get"+f+"Month"]()},startOf:function(b){switch(b=aF(b)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===b?this.weekday(0):"isoWeek"===b&&this.isoWeekday(1),this},endOf:function(b){return b=aF(b),this.startOf(b).add("isoWeek"===b?"week":b,1).subtract("ms",1)},isAfter:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+am(d).startOf(c)},isBefore:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)<+am(d).startOf(c)},isSame:function(d,c){return c=c||"ms",+this.clone().startOf(c)===+au(d,this).startOf(c)},min:function(b){return b=am.apply(null,arguments),this>b?this:b},max:function(b){return b=am.apply(null,arguments),b>this?this:b},zone:function(d){var c=this._offset||0;return null==d?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof d&&(d=bp(d)),Math.abs(d)<16&&(d=60*d),this._offset=d,this._isUTC=!0,c!==d&&aK(this,am.duration(c-d,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(b){return b=b?am(b).zone():0,(this.zone()-b)%60===0},daysInMonth:function(){return aB(this.year(),this.month())},dayOfYear:function(d){var c=bm((am(this).startOf("day")-am(this).startOf("year"))/86400000)+1;return null==d?c:this.add("d",d-c)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(d){var c=a5(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==d?c:this.add("y",d-c)},isoWeekYear:function(d){var c=a5(this,1,4).year;return null==d?c:this.add("y",d-c)},week:function(d){var c=this.lang().week(this);return null==d?c:this.add("d",7*(d-c))},isoWeek:function(d){var c=a5(this,1,4).week;return null==d?c:this.add("d",7*(d-c))},weekday:function(d){var c=(this.day()+7-this.lang()._week.dow)%7;return null==d?c:this.add("d",d-c)},isoWeekday:function(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)},get:function(b){return b=aF(b),this[b]()},set:function(d,c){return d=aF(d),"function"==typeof this[d]&&this[d](c),this},lang:function(a){return a===aZ?this._lang:(this._lang=bx(a),this)}}),ae=0;ae<ak.length;ae++){a2(ak[ae].toLowerCase().replace(/s$/,""),ak[ae])}a2("year","FullYear"),am.fn.days=am.fn.day,am.fn.months=am.fn.month,am.fn.weeks=am.fn.week,am.fn.isoWeeks=am.fn.isoWeek,am.fn.toJSON=am.fn.toISOString,aQ(am.duration.fn=aR.prototype,{_bubble:function(){var j,i,p,o,n=this._milliseconds,m=this._days,l=this._months,k=this._data;k.milliseconds=n%1000,j=aM(n/1000),k.seconds=j%60,i=aM(j/60),k.minutes=i%60,p=aM(i/60),k.hours=p%24,m+=aM(p/24),k.days=m%30,l+=aM(m/30),k.months=l%12,o=aM(l/12),k.years=o},weeks:function(){return aM(this.days()/7)},valueOf:function(){return this._milliseconds+86400000*this._days+this._months%12*2592000000+31536000000*aC(this._months/12)},humanize:function(e){var d=+this,f=a6(d,!e,this.lang());return e&&(f=this.lang().pastFuture(d,f)),this.lang().postformat(f)},add:function(e,d){var f=am.duration(e,d);return this._milliseconds+=f._milliseconds,this._days+=f._days,this._months+=f._months,this._bubble(),this},subtract:function(e,d){var f=am.duration(e,d);return this._milliseconds-=f._milliseconds,this._days-=f._days,this._months-=f._months,this._bubble(),this},get:function(b){return b=aF(b),this[b.toLowerCase()+"s"]()},as:function(b){return b=aF(b),this["as"+b.charAt(0).toUpperCase()+b.slice(1)+"s"]()},lang:am.fn.lang,toIsoString:function(){var h=Math.abs(this.years()),g=Math.abs(this.months()),l=Math.abs(this.days()),k=Math.abs(this.hours()),j=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1000);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(h?h+"Y":"")+(g?g+"M":"")+(l?l+"D":"")+(k||j||i?"T":"")+(k?k+"H":"")+(j?j+"M":"")+(i?i+"S":""):"P0D"}});for(ae in ac){ac.hasOwnProperty(ae)&&(bf(ae,ac[ae]),bE(ae.toLowerCase()))}bf("Weeks",604800000),am.duration.fn.asMonths=function(){return(+this-31536000000*this.years())/2592000000+12*this.years()},am.lang("en",{ordinal:function(e){var d=e%10,f=1===aC(e%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";return e+f}}),bT?(module.exports=am,aH(!0)):"function"==typeof define&&define.amd?define("moment",function(a,f,e){return e.config&&e.config()&&e.config().noGlobal!==!0&&aH(e.config().noGlobal===aZ),am}):aH()}).call(this);
/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(aq,aK){function ay(a){aq.extend(!0,a6,a)}function at(ca,b7,ch){function b6(c){bL?b9()&&(t(),bC(c)):cg()}function cg(){bZ=b7.theme?"ui":"fc",ca.addClass("fc"),b7.isRTL?ca.addClass("fc-rtl"):ca.addClass("fc-ltr"),b7.theme&&ca.addClass("ui-widget"),bL=aq("<div class='fc-content' style='position:relative'/>").prependTo(ca),a=new aP(ci,b7),b2=a.render(),b2&&ca.prepend(b2),b1(b7.defaultView),b7.handleWindowResize&&aq(window).resize(b3),cb()||b5()}function b5(){setTimeout(function(){!bX.start&&cb()&&bN()},0)}function cf(){bX&&(g("viewDestroy",bX,bX,bX.element),bX.triggerEventDestroy()),aq(window).unbind("resize",b3),a.destroy(),bL.remove(),ca.removeClass("fc fc-rtl ui-widget")}function b9(){return ca.is(":visible")}function cb(){return aq("body").is(":visible")}function b1(c){bX&&c==bX.name||bM(c)}function bM(c){cj++,bX&&(g("viewDestroy",bX,bX,bX.element),d(),bX.triggerEventDestroy(),bI(),bX.element.remove(),a.deactivateButton(bX.name)),a.activateButton(c),bX=new bB[c](aq("<div class='fc-view fc-view-"+c+"' style='position:relative'/>").appendTo(bL),ci),bN(),bU(),cj--}function bN(c){(!bX.start||c||bX.start>bQ||bQ>=bX.end)&&b9()&&bC(c)}function bC(c){cj++,bX.start&&(g("viewDestroy",bX,bX,bX.element),d(),be()),bI(),bX.render(bQ,c||0),s(),bU(),(bX.afterRender||bm)(),ck(),A(),g("viewRender",bX,bX,bX.element),bX.trigger("viewDisplay",bO),cj--,b0()}function bK(){b9()&&(d(),be(),t(),s(),bJ())}function t(){bY=b7.contentHeight?b7.contentHeight:b7.height?b7.height-(b2?b2.height():0)-a0(bL):Math.round(bL.width()/Math.max(b7.aspectRatio,0.5))}function s(){bY===aK&&t(),cj++,bX.setHeight(bY),bX.setWidth(bL.width()),cj--,bS=ca.outerWidth()}function b3(){if(!cj){if(bX.start){var c=++bT;setTimeout(function(){c==bT&&!cj&&b9()&&bS!=(bS=ca.outerWidth())&&(cj++,bK(),bX.trigger("windowResize",bO),cj--)},200)}else{b5()}}}function cc(){be(),i()}function bH(c){be(),bJ(c)}function bJ(c){b9()&&(bX.setEventData(bR),bX.renderEvents(bR,c),bX.trigger("eventAfterAllRender"))}function be(){bX.triggerEventDestroy(),bX.clearEvents(),bX.clearEventData()}function b0(){!b7.lazyFetching||b4(bX.visStart,bX.visEnd)?i():bJ()}function i(){bW(bX.visStart,bX.visEnd)}function R(c){bR=c,bJ()}function bD(c){bH(c)}function ck(){a.updateTitle(bX.title)}function A(){var c=new Date;c>=bX.start&&bX.end>c?a.disableButton("today"):a.enableButton("today")}function b8(c,h,f){bX.select(c,h,f===aK?!0:f)}function d(){bX&&bX.unselect()}function bP(){bN(-1)}function cd(){bN(1)}function bG(){aF(bQ,-1),bN()}function e(){aF(bQ,1),bN()}function bF(){bQ=new Date,bN()}function l(c,f,h){c instanceof Date?bQ=aL(c):aI(bQ,c,f,h),bN()}function o(c,h,f){c!==aK&&aF(bQ,c),h!==aK&&ar(bQ,h),f!==aK&&aC(bQ,f),bN()}function b(){return aL(bQ)}function bI(){bL.css({width:"100%",height:bL.height(),overflow:"hidden"})}function bU(){bL.css({width:"",height:"",overflow:""})}function w(){return bX}function bE(c,f){return f===aK?b7[c]:(("height"==c||"contentHeight"==c||"aspectRatio"==c)&&(b7[c]=f,bK()),aK)}function g(c,f){return b7[c]?b7[c].apply(f||bO,Array.prototype.slice.call(arguments,2)):aK}var ci=this;ci.options=b7,ci.render=b6,ci.destroy=cf,ci.refetchEvents=cc,ci.reportEvents=R,ci.reportEventChange=bD,ci.rerenderEvents=bH,ci.changeView=b1,ci.select=b8,ci.unselect=d,ci.prev=bP,ci.next=cd,ci.prevYear=bG,ci.nextYear=e,ci.today=bF,ci.gotoDate=l,ci.incrementDate=o,ci.formatDate=function(c,f){return an(c,f,b7)},ci.formatDates=function(c,f,h){return aO(c,f,h,b7)},ci.getDate=b,ci.getView=w,ci.option=bE,ci.trigger=g,ax.call(ci,b7,ch);var a,b2,bL,bZ,bX,bS,bY,bV,b4=ci.isFetchNeeded,bW=ci.fetchEvents,bO=ca[0],bT=0,cj=0,bQ=new Date,bR=[];aI(bQ,b7.year,b7.month,b7.date),b7.droppable&&aq(document).bind("dragstart",function(h,k){var c=h.target,j=aq(c);if(!j.parents(".fc").length){var f=b7.dropAccept;(aq.isFunction(f)?f.call(c,j):j.is(f))&&(bV=c,bX.dragStart(bV,h,k))}}).bind("dragstop",function(c,f){bV&&(bX.dragStop(bV,c,f),bV=null)})}function aP(g,b){function w(){x=b.theme?"ui":"fc";var a=b.header;return a?m=aq("<table class='fc-header' style='width:100%'/>").append(aq("<tr/>").append(k("left")).append(k("center")).append(k("right"))):aK}function e(){m.remove()}function k(d){var c=aq("<td class='fc-header-"+d+"'/>"),f=b.header[d];return f&&aq.each(f.split(" "),function(a){a>0&&c.append("<span class='fc-header-space'/>");var h;aq.each(this.split(","),function(A,r){if("title"==r){c.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),h&&h.addClass(x+"-corner-right"),h=null}else{var v;if(g[r]?v=g[r]:bB[r]&&(v=function(){o.removeClass(x+"-state-hover"),g.changeView(r)}),v){var n=b.theme?a2(b.buttonIcons,r):null,B=a2(b.buttonText,r),o=aq("<span class='fc-button fc-button-"+r+" "+x+"-state-default'>"+(n?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+n+"'/></span>":B)+"</span>").click(function(){o.hasClass(x+"-state-disabled")||v()}).mousedown(function(){o.not("."+x+"-state-active").not("."+x+"-state-disabled").addClass(x+"-state-down")}).mouseup(function(){o.removeClass(x+"-state-down")}).hover(function(){o.not("."+x+"-state-active").not("."+x+"-state-disabled").addClass(x+"-state-hover")},function(){o.removeClass(x+"-state-hover").removeClass(x+"-state-down")}).appendTo(c);aS(o),h||o.addClass(x+"-corner-left"),h=o}}}),h&&h.addClass(x+"-corner-right")}),c}function z(a){m.find("h2").html(a)}function j(a){m.find("span.fc-button-"+a).addClass(x+"-state-active")}function t(a){m.find("span.fc-button-"+a).removeClass(x+"-state-active")}function y(a){m.find("span.fc-button-"+a).addClass(x+"-state-disabled")}function p(a){m.find("span.fc-button-"+a).removeClass(x+"-state-disabled")}var q=this;q.render=w,q.destroy=e,q.updateTitle=z,q.activateButton=j,q.deactivateButton=t,q.disableButton=y,q.enableButton=p;var x,m=aq([])}function ax(be,Y){function bL(a,b){return !Q||Q>a||b>j}function ae(c,g){Q=c,j=g,d=[];var h=++p,f=O.length;q=f;for(var b=0;f>b;b++){bF(O[b],h)}}function bF(b,a){V(b,function(c){if(a==p){if(c){be.eventDataTransform&&(c=aq.map(c,be.eventDataTransform)),b.eventDataTransform&&(c=aq.map(c,b.eventDataTransform));for(var f=0;c.length>f;f++){c[f].source=b,K(c[f])}d=d.concat(c)}q--,q||bE(d)}})}function V(k,E){var n,x,s=ah.sourceFetchers;for(n=0;s.length>n;n++){if(x=s[n](k,Q,j,E),x===!0){return}if("object"==typeof x){return V(x,E),aK}}var C=k.events;if(C){aq.isFunction(C)?(bC(),C(aL(Q),aL(j),function(a){E(a),G()})):aq.isArray(C)?E(C):E()}else{var M=k.url;if(M){var A,H=k.success,y=k.error,z=k.complete;A=aq.isFunction(k.data)?k.data():k.data;var m=aq.extend({},A||{}),F=aT(k.startParam,be.startParam),D=aT(k.endParam,be.endParam);F&&(m[F]=Math.round(+Q/1000)),D&&(m[D]=Math.round(+j/1000)),bC(),aq.ajax(aq.extend({},bv,k,{data:m,success:function(a){a=a||[];var b=bb(H,this,arguments);aq.isArray(b)&&(a=b),E(a)},error:function(){bb(y,this,arguments),E()},complete:function(){bb(z,this,arguments),G()}}))}else{E()}}}function bD(a){a=bJ(a),a&&(q++,bF(a,p))}function bJ(a){return aq.isFunction(a)||aq.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a}),"object"==typeof a?(bK(a),O.push(a),a):aK}function P(a){O=aq.grep(O,function(b){return !U(b,a)}),d=aq.grep(d,function(b){return !U(b.source,a)}),bE(d)}function bI(f){var h,l,g=d.length,b=I().defaultEventEnd,k=f.start-f._start,c=f.end?f.end-(f._end||b(f)):0;for(h=0;g>h;h++){l=d[h],l._id==f._id&&l!=f&&(l.start=new Date(+l.start+k),l.end=f.end?l.end?new Date(+l.end+c):new Date(+b(l)+c):null,l.title=f.title,l.url=f.url,l.allDay=f.allDay,l.className=f.className,l.editable=f.editable,l.color=f.color,l.backgroundColor=f.backgroundColor,l.borderColor=f.borderColor,l.textColor=f.textColor,K(l))}K(f),bE(d)}function L(a,b){K(a),a.source||(b&&(J.events.push(a),a.source=J),d.push(a)),bE(d)}function bG(b){if(b){if(!aq.isFunction(b)){var c=b+"";b=function(f){return f._id==c}}d=aq.grep(d,b,!0);for(var a=0;O.length>a;a++){aq.isArray(O[a].events)&&(O[a].events=aq.grep(O[a].events,b,!0))}}else{d=[];for(var a=0;O.length>a;a++){aq.isArray(O[a].events)&&(O[a].events=[])}}bE(d)}function bH(a){return aq.isFunction(a)?aq.grep(d,a):a?(a+="",aq.grep(d,function(b){return b._id==a})):d}function bC(){B++||e("loading",null,!0,I())}function G(){--B||e("loading",null,!1,I())}function K(c){var f=c.source||{},b=aT(f.ignoreTimezone,be.ignoreTimezone);c._id=c._id||(c.id===aK?"_fc"+bA++:c.id+""),c.date&&(c.start||(c.start=c.date),delete c.date),c._start=aL(c.start=aw(c.start,b)),c.end=aw(c.end,b),c.end&&c.end<=c.start&&(c.end=null),c._end=c.end?aL(c.end):null,c.allDay===aK&&(c.allDay=aT(f.allDayDefault,be.allDayDefault)),c.className?"string"==typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[]}function bK(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=ah.sourceNormalizers,c=0;b.length>c;c++){b[c](a)}}function U(a,b){return a&&b&&X(a)==X(b)}function X(a){return("object"==typeof a?a.events||a.url:"")||a}var t=this;t.isFetchNeeded=bL,t.fetchEvents=ae,t.addEventSource=bD,t.removeEventSource=P,t.updateEvent=bI,t.renderEvent=L,t.removeEvents=bG,t.clientEvents=bH,t.normalizeEvent=K;for(var Q,j,e=t.trigger,I=t.getView,bE=t.reportEvents,J={events:[]},O=[J],p=0,q=0,B=0,d=[],Z=0;Y.length>Z;Z++){bJ(Y[Z])}}function aF(a,b,c){return a.setFullYear(a.getFullYear()+b),c||aJ(a),a}function ar(c,f,g){if(+c){var d=c.getMonth()+f,b=aL(c);for(b.setDate(1),b.setMonth(d),c.setMonth(d),g||aJ(c);c.getMonth()!=b.getMonth();){c.setDate(c.getDate()+(b>c?1:-1))}}return c}function aC(c,f,g){if(+c){var d=c.getDate()+f,b=aL(c);b.setHours(9),b.setDate(d),c.setDate(d),g||aJ(c),aM(c,b)}return c}function aM(a,b){if(+a){for(;a.getDate()!=b.getDate();){a.setTime(+a+(b>a?1:-1)*ac)}}}function ap(a,b){return a.setMinutes(a.getMinutes()+b),a}function aJ(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function aL(a,b){return b?aJ(new Date(+a)):new Date(+a)}function ao(){var a,b=0;do{a=new Date(1970,b++,1)}while(a.getHours());return a}function aG(a,b){return Math.round((aL(a,!0)-aL(b,!0))/bq)}function aI(c,e,d,b){e!==aK&&e!=c.getFullYear()&&(c.setDate(1),c.setMonth(0),c.setFullYear(e)),d!==aK&&d!=c.getMonth()&&(c.setDate(1),c.setMonth(d)),b!==aK&&c.setDate(b)}function aw(a,b){return"object"==typeof a?a:"number"==typeof a?new Date(1000*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1000*parseFloat(a)):(b===aK&&(b=!0),az(a,b)||(a?new Date(a):null)):null}function az(c,f){var h=c.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!h){return null}var d=new Date(h[1],0,1);if(f||!h[13]){var b=new Date(h[1],0,1,9,0);h[3]&&(d.setMonth(h[3]-1),b.setMonth(h[3]-1)),h[5]&&(d.setDate(h[5]),b.setDate(h[5])),aM(d,b),h[7]&&d.setHours(h[7]),h[8]&&d.setMinutes(h[8]),h[10]&&d.setSeconds(h[10]),h[12]&&d.setMilliseconds(1000*Number("0."+h[12])),aM(d,b)}else{if(d.setUTCFullYear(h[1],h[3]?h[3]-1:0,h[5]||1),d.setUTCHours(h[7]||0,h[8]||0,h[10]||0,h[12]?1000*Number("0."+h[12]):0),h[14]){var g=60*Number(h[16])+(h[18]?Number(h[18]):0);g*="-"==h[15]?1:-1,d=new Date(+d+1000*60*g)}}return d}function al(a){if("number"==typeof a){return 60*a}if("object"==typeof a){return 60*a.getHours()+a.getMinutes()}var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function an(a,b,c){return aO(a,null,b,c)}function aO(A,p,h,b){b=b||a6;var x,g,k,B,j=A,w=p,z=h.length,m="";for(x=0;z>x;x++){if(g=h.charAt(x),"'"==g){for(k=x+1;z>k;k++){if("'"==h.charAt(k)){j&&(m+=k==x+1?"'":h.substring(x+1,k),x=k);break}}}else{if("("==g){for(k=x+1;z>k;k++){if(")"==h.charAt(k)){var q=an(j,h.substring(x+1,k),b);parseInt(q.replace(/\D/,""),10)&&(m+=q),x=k;break}}}else{if("["==g){for(k=x+1;z>k;k++){if("]"==h.charAt(k)){var y=h.substring(x+1,k),q=an(j,y,b);q!=an(w,y,b)&&(m+=q),x=k;break}}}else{if("{"==g){j=p,w=A}else{if("}"==g){j=A,w=p}else{for(k=z;k>x;k--){if(B=bs[h.substring(x,k)]){j&&(m+=B(j,b)),x=k-1;break}}k==x&&j&&(m+=g)}}}}}}return m}function bi(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/86400000)/7)+1}function bk(a){return a.end?a7(a.end,a.allDay):aC(aL(a.start),1)}function a7(a,b){return a=aL(a),b||a.getHours()||a.getMinutes()?aC(a,1):aJ(a)}function bh(d,c,b){d.unbind("mouseover").mouseover(function(h){for(var g,e,f,a=h.target;a!=this;){g=a,a=a.parentNode}(e=g._fci)!==aK&&(g._fci=aK,f=c[e],b(f.event,f.element,f),aq(h.target).trigger(h)),h.stopPropagation()})}function aZ(d,g,c){for(var b,f=0;d.length>f;f++){b=aq(d[f]),b.width(Math.max(0,g-am(b,c)))}}function aX(d,g,c){for(var b,f=0;d.length>f;f++){b=aq(d[f]),b.height(Math.max(0,g-a0(b,c)))}}function am(a,b){return aD(a)+bg(a)+(b?bd(a):0)}function aD(a){return(parseFloat(aq.css(a[0],"paddingLeft",!0))||0)+(parseFloat(aq.css(a[0],"paddingRight",!0))||0)}function bd(a){return(parseFloat(aq.css(a[0],"marginLeft",!0))||0)+(parseFloat(aq.css(a[0],"marginRight",!0))||0)}function bg(a){return(parseFloat(aq.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(aq.css(a[0],"borderRightWidth",!0))||0)}function a0(a,b){return a5(a)+aU(a)+(b?ak(a):0)}function a5(a){return(parseFloat(aq.css(a[0],"paddingTop",!0))||0)+(parseFloat(aq.css(a[0],"paddingBottom",!0))||0)}function ak(a){return(parseFloat(aq.css(a[0],"marginTop",!0))||0)+(parseFloat(aq.css(a[0],"marginBottom",!0))||0)}function aU(a){return(parseFloat(aq.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(aq.css(a[0],"borderBottomWidth",!0))||0)}function bm(){}function a3(a,b){return a-b}function a8(a){return Math.max.apply(Math,a)}function aQ(a){return(10>a?"0":"")+a}function a2(c,f){if(c[f]!==aK){return c[f]}for(var d,b=f.split(/(?=[A-Z])/),e=b.length-1;e>=0;e--){if(d=c[b[e].toLowerCase()],d!==aK){return d}}return c[""]}function av(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aS(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return !1})}function bl(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function aE(p,j){var f=p.source||{},b=p.color,m=f.color,d=j("eventColor"),h=p.backgroundColor||b||f.backgroundColor||m||j("eventBackgroundColor")||d,q=p.borderColor||b||f.borderColor||m||j("eventBorderColor")||d,g=p.textColor||f.textColor||j("eventTextColor"),k=[];return h&&k.push("background-color:"+h),q&&k.push("border-color:"+q),g&&k.push("color:"+g),k.join(";")}function bb(d,g,c){if(aq.isFunction(d)&&(d=[d]),d){var b,f;for(b=0;d.length>b;b++){f=d[b].apply(g,c)||f}return f}}function aT(){for(var a=0;arguments.length>a;a++){if(arguments[a]!==aK){return arguments[a]}}}function ba(m,h){function f(w,r){r&&(ar(w,r),w.setDate(1));var c=k("firstDay"),q=aL(w,!0);q.setDate(1);var u=ar(aL(q),1),o=aL(q);aC(o,-((o.getDay()-c+7)%7)),g(o);var a=aL(u);aC(a,(7-a.getDay()+c)%7),g(a,-1,!0);var i=j(),s=Math.round(aG(a,o)/7);"fixed"==k("weekMode")&&(aC(a,7*(6-s)),s=6),b.title=l(q,k("titleFormat")),b.start=q,b.end=u,b.visStart=o,b.visEnd=a,d(s,i,!0)}var b=this;b.render=f,aR.call(b,m,h,"month");var k=b.opt,d=b.renderBasic,g=b.skipHiddenDays,j=b.getCellsPerWeek,l=h.formatDate}function aV(l,h){function f(i,q){q&&aC(i,7*q);var r=aC(aL(i),-((i.getDay()-k("firstDay")+7)%7)),c=aC(aL(r),7),p=aL(r);g(p);var a=aL(c);g(a,-1,!0);var o=m();b.start=r,b.end=c,b.visStart=p,b.visEnd=a,b.title=j(p,aC(aL(a),-1),k("titleFormat")),d(1,o,!1)}var b=this;b.render=f,aR.call(b,l,h,"basicWeek");var k=b.opt,d=b.renderBasic,g=b.skipHiddenDays,m=b.getCellsPerWeek,j=h.formatDates}function aW(d,h){function k(a,i){i&&aC(a,i),c(a,0>i?-1:1);var m=aL(a,!0),l=aC(aL(m),1);g.title=f(a,b("titleFormat")),g.start=g.visStart=m,g.end=g.visEnd=l,j(1,1,!1)}var g=this;g.render=k,aR.call(g,d,h,"basicDay");var b=g.opt,j=g.renderBasic,c=g.skipHiddenDays,f=h.formatDate}function aR(cn,cg,cb){function cs(a,b,c){cr=a,d=b,b3=c,cf(),cj||ck(),ca()}function cf(){bZ=ct("theme")?"ui":"fc",bX=ct("columnFormat"),b6=ct("weekNumbers"),bP=ct("weekNumberTitle"),bU="iso"!=ct("weekNumberCalculation")?"w":"W"}function ck(){f=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cn)}function ca(){var a=cp();bF&&bF.remove(),bF=aq(a).appendTo(cn),cu=bF.find("thead"),Y=cu.find(".fc-day-header"),cj=bF.find("tbody"),bI=cj.find("tr"),m=cj.find(".fc-day"),bH=bI.find("td:first-child"),B=bI.eq(0).find(".fc-day > div"),G=bI.eq(0).find(".fc-day-content > div"),bl(cu.add(cu.find("tr"))),bl(bI),bI.eq(0).addClass("fc-first"),bI.filter(":last").addClass("fc-last"),m.each(function(c,g){var b=bT(Math.floor(c/d),c%d);bR("dayRender",bC,b,aq(g))}),b2(m)}function cp(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+b8()+b7()+"</table>";return a}function b8(){var a,c,g=bZ+"-widget-header",b="";for(b+="<thead><tr>",b6&&(b+="<th class='fc-week-number "+g+"'>"+av(bP)+"</th>"),a=0;d>a;a++){c=bT(0,a),b+="<th class='fc-day-header fc-"+ab[c.getDay()]+" "+g+"'>"+av(b9(c,bX))+"</th>"}return b+="</tr></thead>"}function b7(){var c,h,i,g=bZ+"-widget-content",b="";for(b+="<tbody>",c=0;cr>c;c++){for(b+="<tr class='fc-week'>",b6&&(i=bT(c,0),b+="<td class='fc-week-number "+g+"'><div>"+av(b9(i,bU))+"</div></td>"),h=0;d>h;h++){i=bT(c,h),b+=cl(i)}b+="</tr>"}return b+="</tbody>"}function cl(c){var h=bZ+"-widget-content",j=bC.start.getMonth(),g=aJ(new Date),b="",i=["fc-day","fc-"+ab[c.getDay()],h];return c.getMonth()!=j&&i.push("fc-other-month"),+c==+g?i.push("fc-today",bZ+"-state-highlight"):g>c?i.push("fc-past"):i.push("fc-future"),b+="<td class='"+i.join(" ")+"' data-date='"+b9(c,"yyyy-MM-dd")+"'><div>",b3&&(b+="<div class='fc-day-number'>"+c.getDate()+"</div>"),b+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function cm(g){S=g;var i,c,b,h=S-cu.height();"variable"==ct("weekMode")?i=c=Math.floor(h/(1==cr?2:6)):(i=Math.floor(h/cr),c=h-i*(cr-1)),bH.each(function(a,j){cr>a&&(b=aq(j),b.find("> div").css("min-height",(a==cr-1?c:i)-a0(b)))})}function cd(a){bW=a,bY.clear(),bS.clear(),q=0,b6&&(q=cu.find("th.fc-week-number").outerWidth()),bG=Math.floor((bW-q)/d),aZ(Y.slice(0,-1),bG)}function b2(a){a.click(b5).mousedown(cc)}function b5(a){if(!ct("selectable")){var b=az(aq(this).data("date"));bR("dayClick",this,b,!0,a)}}function cq(c,h,j){j&&bM.build();for(var g=bV(c,h),b=0;g.length>b;b++){var i=g[b];b2(bN(i.row,i.leftCol,i.row,i.rightCol))}}function bN(c,h,e,b){var g=bM.rect(c,h,e,b,cn);return co(g,cn)}function bO(a){return aL(a)}function bE(a,b){cq(a,aC(aL(b),1),!0)}function bL(){l()}function R(c,h,i){var g=ch(c),b=m[g.row*d+g.col];bR("dayClick",b,c,h,i)}function b4(a,b){b0.start(function(c){l(),c&&bN(c.row,c.col,c.row,c.col)},b)}function ci(c,h,i){var g=b0.stop();if(l(),g){var b=bT(g);bR("drop",c,b,!0,h,i)}}function bJ(a){return aL(a.start)}function bK(a){return bY.left(a)}function bD(a){return bY.right(a)}function b1(a){return bS.left(a)}function t(a){return bS.right(a)}function bQ(a){return bI.eq(a)}var bC=this;bC.renderBasic=cs,bC.setHeight=cm,bC.setWidth=cd,bC.renderDayOverlay=cq,bC.defaultSelectionEnd=bO,bC.renderSelection=bE,bC.clearSelection=bL,bC.reportDayClick=R,bC.dragStart=b4,bC.dragStop=ci,bC.defaultEventEnd=bJ,bC.getHoverListener=function(){return b0},bC.colLeft=bK,bC.colRight=bD,bC.colContentLeft=b1,bC.colContentRight=t,bC.getIsCellAllDay=function(){return !0},bC.allDayRow=bQ,bC.getRowCnt=function(){return cr},bC.getColCnt=function(){return d},bC.getColWidth=function(){return bG},bC.getDaySegmentContainer=function(){return f},bw.call(bC,cn,cg,cb),bp.call(bC),ai.call(bC),bf.call(bC);var bF,cu,Y,cj,bI,m,bH,B,G,f,bW,S,bG,q,cr,d,b3,bM,b0,bY,bS,bZ,bX,b6,bP,bU,ct=bC.opt,bR=bC.trigger,co=bC.renderOverlay,l=bC.clearOverlays,cc=bC.daySelectionMousedown,bT=bC.cellToDate,ch=bC.dateToCell,bV=bC.rangeToSegments,b9=cg.formatDate;aS(cn.addClass("fc-grid")),bM=new bu(function(g,i){var c,b,h;Y.each(function(j,a){c=aq(a),b=c.offset().left,j&&(h[1]=b),h=[b],i[j]=h}),h[1]=b+c.outerWidth(),bI.each(function(e,a){cr>e&&(c=aq(a),b=c.offset().top,e&&(h[1]=b),h=[b],g[e]=h)}),h[1]=b+c.outerHeight()}),b0=new ad(bM),bY=new aB(function(a){return B.eq(a)}),bS=new aB(function(a){return G.eq(a)})}function bf(){function a(d,f){c.renderDayEvents(d,f)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,ag.call(c)}function bt(l,h){function f(i,q){q&&aC(i,7*q);var r=aC(aL(i),-((i.getDay()-k("firstDay")+7)%7)),c=aC(aL(r),7),p=aL(r);g(p);var a=aL(c);g(a,-1,!0);var o=m();b.title=j(p,aC(aL(a),-1),k("titleFormat")),b.start=r,b.end=c,b.visStart=p,b.visEnd=a,d(o)}var b=this;b.render=f,a9.call(b,l,h,"agendaWeek");var k=b.opt,d=b.renderAgenda,g=b.skipHiddenDays,m=b.getCellsPerWeek,j=h.formatDates}function a1(d,h){function k(a,i){i&&aC(a,i),c(a,0>i?-1:1);var m=aL(a,!0),l=aC(aL(m),1);g.title=f(a,b("titleFormat")),g.start=g.visStart=m,g.end=g.visEnd=l,j(1)}var g=this;g.render=k,a9.call(g,d,h,"agendaDay");var b=g.opt,j=g.renderAgenda,c=g.skipHiddenDays,f=h.formatDate}function a9(bM,bH,b0){function bL(a){bC=a,bR(),cj?bW():bG()}function bR(){t=cy("theme")?"ui":"fc",d=cy("isRTL"),cD=al(cy("minTime")),O=al(cy("maxTime")),cn=cy("columnFormat"),y=cy("weekNumbers"),bU=cy("weekNumberTitle"),b2="iso"!=cy("weekNumberCalculation")?"w":"W",v=cy("snapMinutes")||cy("slotMinutes")}function bG(){var m,j,c,n,g,h=t+"-widget-header",b=t+"-widget-content",k=0==cy("slotMinutes")%15;for(bW(),bI=aq("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bM),cy("allDaySlot")?(bX=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bI),m="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+cy("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",B=aq(m).appendTo(bI),T=B.find("tr"),cu(T.find("td")),bI.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):bX=aq([]),cc=aq("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bI),cB=aq("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(cc),b8=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cB),m="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",j=ao(),n=ap(aL(j),O),ap(j,cD),cL=0,c=0;n>j;c++){g=j.getMinutes(),m+="<tr class='fc-slot"+c+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(k&&g?"&nbsp;":bJ(j,cy("axisFormat")))+"</th><td class='"+b+"'><div style='position:relative'>&nbsp;</div></td></tr>",ap(j,cy("slotMinutes")),cL++}m+="</tbody></table>",ch=aq(m).appendTo(cB),cg(ch.find("td"))}function bW(){var a=bS();cj&&cj.remove(),cj=aq(a).appendTo(bM),l=cj.find("thead"),cm=l.find("th").slice(1,-1),cO=cj.find("tbody"),cA=cO.find("td").slice(0,-1),bT=cA.find("> div"),bO=cA.find(".fc-day-content > div"),cF=cA.eq(0),cM=bT.eq(0),bl(l.add(l.find("tr"))),bl(cO.add(cO.find("tr")))}function bS(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+bV()+bK()+"</table>";return a}function bV(){var c,h,i,g=t+"-widget-header",b="";for(b+="<thead><tr>",y?(c=b9(0,0),h=bJ(c,b2),d?h+=bU:h=bU+h,b+="<th class='fc-agenda-axis fc-week-number "+g+"'>"+av(h)+"</th>"):b+="<th class='fc-agenda-axis "+g+"'>&nbsp;</th>",i=0;bC>i;i++){c=b9(0,i),b+="<th class='fc-"+ab[c.getDay()]+" fc-col"+i+" "+g+"'>"+av(bJ(c,cn))+"</th>"}return b+="<th class='fc-agenda-gutter "+g+"'>&nbsp;</th></tr></thead>"}function bK(){var p,k,g,b,m,c=t+"-widget-header",j=t+"-widget-content",w=aJ(new Date),h="";for(h+="<tbody><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>",g="",k=0;bC>k;k++){p=b9(0,k),m=["fc-col"+k,"fc-"+ab[p.getDay()],j],+p==+w?m.push(t+"-state-highlight","fc-today"):w>p?m.push("fc-past"):m.push("fc-future"),b="<td class='"+m.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",g+=b}return h+=g,h+="<td class='fc-agenda-gutter "+j+"'>&nbsp;</td></tr></tbody>"}function bN(c){c===aK&&(c=cR),cR=c,cC={};var h=cO.position().top,g=cc.position().top,b=Math.min(c-h,ch.height()+g+1);cM.height(b-a0(cF)),bI.css("top",h),cc.height(b-g-1),q=ch.find("tr:first").height()+1,cH=cy("slotMinutes")/v,cx=q/cH}function bF(g){R=g,f.clear(),bZ.clear();var h=l.find("th:first");B&&(h=h.add(B.find("th:first"))),h=h.add(ch.find("th:first")),cI=0,aZ(h.width("").each(function(a,i){cI=Math.max(cI,aq(i).outerWidth())}),cI);var c=cj.find(".fc-agenda-gutter");B&&(c=c.add(B.find("th.fc-agenda-gutter")));var b=cc[0].clientWidth;cE=cc.width()-b,cE?(aZ(c,cE),c.show().prev().removeClass("fc-last")):c.hide().prev().addClass("fc-last"),cQ=Math.floor((b-cI)/bC),aZ(cm.slice(0,-1),cQ)}function bY(){function a(){cc.scrollTop(b)}var c=ao(),g=aL(c);g.setHours(cy("firstHour"));var b=b1(c,g)+1;a(),setTimeout(a,0)}function ct(){bY()}function cu(a){a.click(cs).mousedown(cf)}function cg(a){a.click(cs).mousedown(b7)}function cs(c){if(!cy("selectable")){var h=Math.min(bC-1,Math.floor((c.pageX-cj.offset().left-cI)/cQ)),j=b9(0,h),g=this.parentNode.className.match(/fc-slot(\d+)/);if(g){var b=parseInt(g[1])*cy("slotMinutes"),i=Math.floor(b/60);j.setHours(i),j.setMinutes(b%60+cD),cJ("dayClick",cA[h],j,!1,c)}else{cJ("dayClick",cA[h],j,!0,c)}}}function bE(c,h,j){j&&cv.build();for(var g=cz(c,h),b=0;g.length>b;b++){var i=g[b];cu(bP(i.row,i.leftCol,i.row,i.rightCol))}}function bP(c,h,i,g){var b=cv.rect(c,h,i,g,bI);return cN(b,bI)}function co(x,k){for(var h=0;bC>h;h++){var b=b9(0,h),p=aC(aL(b),1),g=new Date(Math.max(b,x)),j=new Date(Math.min(p,k));if(j>g){var z=cv.rect(0,h,0,h,cB),m=b1(b,g),w=b1(b,j);z.top=m,z.height=w-m,cg(cN(z,cB))}}}function cr(a){return f.left(a)}function cd(a){return bZ.left(a)}function bD(a){return f.right(a)}function b5(a){return bZ.right(a)}function cw(a){return cy("allDaySlot")&&!a.row}function ci(a){var b=b9(0,a.col),c=a.row;return cy("allDaySlot")&&c--,c>=0&&ap(b,cD+c*v),b}function b1(g,k){if(g=aL(g,!0),ap(aL(g),cD)>k){return 0}if(k>=ap(aL(g),O)){return ch.height()}var h=cy("slotMinutes"),b=60*k.getHours()+k.getMinutes()-cD,j=Math.floor(b/h),c=cC[j];return c===aK&&(c=cC[j]=ch.find("tr").eq(j).find("td div")[0].offsetTop),Math.max(0,Math.round(c-1+q*(b%h/h)))}function cb(){return T}function bQ(a){var b=aL(a.start);return a.allDay?b:ap(b,cy("defaultEventMinutes"))}function cl(a,b){return b?aL(a):ap(aL(a),cy("slotMinutes"))}function b4(a,b,c){c?cy("allDaySlot")&&bE(a,aC(aL(b),1),!0):ck(a,b)}function ck(k,p){var j=cy("selectHelper");if(cv.build(),j){var c=cK(k).col;if(c>=0&&bC>c){var m=cv.rect(0,c,0,c,cB),g=b1(k,k),h=b1(k,p);if(h>g){if(m.top=g,m.height=h-g,m.left+=2,m.width-=5,aq.isFunction(j)){var b=j(k,p);b&&(m.position="absolute",cP=aq(b).css(m).appendTo(cB))}else{m.isStart=!0,m.isEnd=!0,cP=aq(e({title:"",start:k,end:p,className:["fc-select-helper"],editable:!1},m)),cP.css("opacity",cy("dragOpacity"))}cP&&(cg(cP),cB.append(cP),aZ(cP,m.width,!0),aX(cP,m.height,!0))}}}else{co(k,p)}}function b6(){cp(),cP&&(cP.remove(),cP=null)}function b7(a){if(1==a.which&&cy("selectable")){S(a);var b;u.start(function(g,i){if(b6(),g&&g.col==i.col&&!cw(g)){var h=ci(i),c=ci(g);b=[h,ap(aL(h),v),c,ap(aL(c),v)].sort(a3),ck(b[0],b[3])}else{b=null}},a),aq(document).one("mouseup",function(c){u.stop(),b&&(+b[0]==+b[1]&&b3(b[0],!1,c),Y(b[0],b[3],!1,c))})}}function b3(a,b,c){cJ("dayClick",cA[cK(a).col],a,b,c)}function cq(a,b){u.start(function(c){if(cp(),c){if(cw(c)){bP(c.row,c.col,c.row,c.col)}else{var g=ci(c),h=ap(aL(g),cy("defaultEventMinutes"));co(g,h)}}},b)}function cG(a,c,g){var b=u.stop();cp(),b&&cJ("drop",a,ci(b),cw(b),c,g)}var ca=this;ca.renderAgenda=bL,ca.setWidth=bF,ca.setHeight=bN,ca.afterRender=ct,ca.defaultEventEnd=bQ,ca.timePosition=b1,ca.getIsCellAllDay=cw,ca.allDayRow=cb,ca.getCoordinateGrid=function(){return cv},ca.getHoverListener=function(){return u},ca.colLeft=cr,ca.colRight=bD,ca.colContentLeft=cd,ca.colContentRight=b5,ca.getDaySegmentContainer=function(){return bX},ca.getSlotSegmentContainer=function(){return b8},ca.getMinMinute=function(){return cD},ca.getMaxMinute=function(){return O},ca.getSlotContainer=function(){return cB},ca.getRowCnt=function(){return 1},ca.getColCnt=function(){return bC},ca.getColWidth=function(){return cQ},ca.getSnapHeight=function(){return cx},ca.getSnapMinutes=function(){return v},ca.defaultSelectionEnd=cl,ca.renderDayOverlay=bE,ca.renderSelection=b4,ca.clearSelection=b6,ca.reportDayClick=b3,ca.dragStart=cq,ca.dragStop=cG,bw.call(ca,bM,bH,b0),bp.call(ca),ai.call(ca),bj.call(ca);var cj,l,cm,cO,cA,bT,bO,cF,cM,bI,bX,B,T,cc,cB,b8,ch,cP,R,cR,cI,cQ,cE,q,v,cH,cx,bC,cL,cv,u,f,bZ,t,d,cD,O,cn,y,bU,b2,cy=ca.opt,cJ=ca.trigger,cN=ca.renderOverlay,cp=ca.clearOverlays,Y=ca.reportSelection,S=ca.unselect,cf=ca.daySelectionMousedown,e=ca.slotSegHtml,b9=ca.cellToDate,cK=ca.dateToCell,cz=ca.rangeToSegments,bJ=bH.formatDate,cC={};aS(bM.addClass("fc-agenda")),cv=new bu(function(m,h){function b(a){return Math.max(j,Math.min(p,a))}var w,g,k;cm.each(function(c,a){w=aq(a),g=w.offset().left,c&&(k[1]=g),k=[g],h[c]=k}),k[1]=g+w.outerWidth(),cy("allDaySlot")&&(w=T,g=w.offset().top,m[0]=[g,g+w.outerHeight()]);for(var z=cB.offset().top,j=cc.offset().top,p=j+cc.outerHeight(),x=0;cL*cH>x;x++){m.push([b(z+cx*x),b(z+cx*(x+1))])}}),u=new ad(cv),f=new aB(function(a){return bT.eq(a)}),bZ=new aB(function(a){return bO.eq(a)})}function bj(){function bX(b,f){var k,c=b.length,g=[],a=[];for(k=0;c>k;k++){b[k].allDay?g.push(b[k]):a.push(b[k])}bP("allDaySlot")&&(l(g,f),bZ()),bT(b5(a),f)}function bU(){bG().empty(),bI().empty()}function b5(w){var i,b,z,B,k,y=h(),p=q(),A=bO(),m=aq.map(w,b0),o=[];for(b=0;y>b;b++){for(i=E(0,b),ap(i,p),k=bW(w,m,i,ap(aL(i),A-p)),k=aa(k),z=0;k.length>z;z++){B=k[z],B.col=b,o.push(B)}}return o}function bW(G,z,k,b){var B,g,p,H,m,A,F,y,D=[],w=G.length;for(B=0;w>B;B++){g=G[B],p=g.start,H=z[B],H>k&&b>p&&(k>p?(m=aL(k),F=!1):(m=p,F=!0),H>b?(A=aL(b),y=!1):(A=H,y=!0),D.push({event:g,start:m,end:A,isStart:F,isEnd:y}))}return D.sort(aN)}function b0(a){return a.end?aL(a.end):ap(aL(a.start),bP("defaultEventMinutes"))}function bT(L,I){var Y,K,Q,B,O,A,W,z,U,V,J,N,X,F,G,w,f=L.length,c="",P=bI(),y=bP("isRTL");for(Y=0;f>Y;Y++){K=L[Y],Q=K.event,B=bM(K.start,K.start),O=bM(K.start,K.end),A=bC(K.col),W=b6(K.col),z=W-A,W-=0.025*z,z=W-A,U=z*(K.forwardCoord-K.backwardCoord),bP("slotEventOverlap")&&(U=Math.max(2*(U-10),U)),y?(J=W-K.backwardCoord*z,V=J-U):(V=A+K.backwardCoord*z,J=V+U),V=Math.max(V,A),J=Math.min(J,W),U=J-V,K.top=B,K.left=V,K.outerWidth=U,K.outerHeight=O-B,c+=b3(Q,K)}for(P[0].innerHTML=c,N=P.children(),Y=0;f>Y;Y++){K=L[Y],Q=K.event,X=aq(N[Y]),F=bR("eventRender",Q,Q,X),F===!1?X.remove():(F&&F!==!0&&(X.remove(),X=aq(F).css({position:"absolute",top:K.top,left:K.left}).appendTo(P)),K.element=X,Q._id===I?b2(Q,X,K):X[0]._fci=Y,t(Q,X))}for(bh(P,L,b2),Y=0;f>Y;Y++){K=L[Y],(X=K.element)&&(K.vsides=a0(X,!0),K.hsides=am(X,!0),G=X.find(".fc-event-title"),G.length&&(K.contentTop=G[0].offsetTop))}for(Y=0;f>Y;Y++){K=L[Y],(X=K.element)&&(X[0].style.width=Math.max(0,K.outerWidth-K.hsides)+"px",w=Math.max(0,K.outerHeight-K.vsides),X[0].style.height=w+"px",Q=K.event,K.contentTop!==aK&&10>w-K.contentTop&&(X.find("div.fc-event-time").text(bQ(Q.start,bP("timeFormat"))+" - "+Q.title),X.find("div.fc-event-title").remove()),bR("eventAfterRender",Q,Q,X))}}function b3(c,g){var k="<",f=c.url,b=aE(c,bP),i=["fc-event","fc-event-vert"];return b4(c)&&i.push("fc-event-draggable"),g.isStart&&i.push("fc-event-start"),g.isEnd&&i.push("fc-event-end"),i=i.concat(c.className),c.source&&(i=i.concat(c.source.className||[])),k+=f?"a href='"+av(c.url)+"'":"div",k+=" class='"+i.join(" ")+"' style='position:absolute;top:"+g.top+"px;left:"+g.left+"px;"+b+"'><div class='fc-event-inner'><div class='fc-event-time'>"+av(bJ(c.start,c.end,bP("timeFormat")))+"</div><div class='fc-event-title'>"+av(c.title||"")+"</div></div><div class='fc-event-bg'></div>",g.isEnd&&bK(c)&&(k+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),k+="</"+(f?"a":"div")+">"}function b2(a,c,f){var b=c.find("div.fc-event-time");b4(a)&&b1(a,c,b),f.isEnd&&bK(a)&&bV(a,c,b),x(a,c)}function bS(I,B,w){function b(){D||(B.width(F).height("").draggable("option","grid",null),D=!0)}var F,m,y,J=w.isStart,D=!0,H=T(),A=bL(),G=bF(),z=j(),k=q();B.draggable({opacity:bP("dragOpacity","month"),revertDuration:bP("dragRevertDuration"),start:function(c,a){bR("eventDragStart",B,I,c,a),e(I,B),F=B.width(),H.start(function(o,f){if(bD(),o){m=!1;var g=E(0,f.col),i=E(0,o.col);y=aG(i,g),o.row?J?D&&(B.width(A-10),aX(B,G*Math.round((I.end?(I.end-I.start)/af:bP("defaultEventMinutes"))/z)),B.draggable("option","grid",[A,1]),D=!1):m=!0:(C(aC(aL(I.start),y),aC(bk(I),y)),b()),m=m||D&&!y}else{b(),m=!0}B.draggable("option","revert",m)},c,"drag")},stop:function(g,c){if(H.stop(),bD(),bR("eventDragStop",B,I,g,c),m){b(),B.css("filter",""),u(I,B)}else{var f=0;D||(f=Math.round((B.offset().top-bE().offset().top)/G)*z+k-(60*I.start.getHours()+I.start.getMinutes())),bH(this,I,y,f,D,g,c)}}})}function b1(F,U,L){function I(){bD(),G&&(Q?(L.hide(),U.draggable("option","grid",null),C(aC(aL(F.start),W),aC(bk(F),W))):(X(H),L.css("display",""),U.draggable("option","grid",[m,z])))}function X(f){var c,b=ap(aL(F.start),f);F.end&&(c=ap(aL(F.end),f)),L.text(bJ(b,c,bP("timeFormat")))}var K,O,G,V,Q,A,P,J,W,H,y,B=bY.getCoordinateGrid(),w=h(),m=bL(),z=bF(),N=j();U.draggable({scroll:!1,grid:[m,z],axis:1==w?"y":!1,opacity:bP("dragOpacity"),revertDuration:bP("dragRevertDuration"),start:function(b,a){bR("eventDragStart",U,F,b,a),e(F,U),B.build(),K=U.position(),O=B.cell(b.pageX,b.pageY),G=V=!0,Q=A=R(O),P=J=0,W=0,H=y=0},drag:function(g,k){var c=B.cell(g.pageX,g.pageY);if(G=!!c){if(Q=R(c),P=Math.round((k.position.left-K.left)/m),P!=J){var b=E(0,O.col),f=O.col+P;f=Math.max(0,f),f=Math.min(w-1,f);var i=E(0,f);W=aG(i,b)}Q||(H=Math.round((k.position.top-K.top)/z)*N)}(G!=V||Q!=A||P!=J||H!=y)&&(I(),V=G,A=Q,J=P,y=H),U.draggable("option","revert",!G)},stop:function(c,b){bD(),bR("eventDragStop",U,F,c,b),G&&(Q||W||H)?bH(this,F,W,Q?0:H,Q,c,b):(G=!0,Q=!1,P=0,W=0,H=0,I(),U.css("filter",""),U.css(K),u(F,U))}})}function bV(f,k,p){var g,b,m=bF(),c=j();k.resizable({handles:{s:".ui-resizable-handle"},grid:m,start:function(i,a){g=b=0,e(f,k),bR("eventResizeStart",this,f,i,a)},resize:function(i,a){g=Math.round((Math.max(m,k.height())-a.originalSize.height)/m),g!=b&&(p.text(bJ(f.start,g||f.end?ap(be(f),c*g):null,bP("timeFormat"))),b=g)},stop:function(o,i){bR("eventResizeStop",this,f,o,i),g?bN(this,f,0,c*g,o,i):u(f,k)}})}var bY=this;bY.renderEvents=bX,bY.clearEvents=bU,bY.slotSegHtml=b3,ag.call(bY);var bP=bY.opt,bR=bY.trigger,b4=bY.isEventDraggable,bK=bY.isEventResizable,be=bY.eventEnd,x=bY.eventElementHandlers,bZ=bY.setHeight,bG=bY.getDaySegmentContainer,bI=bY.getSlotSegmentContainer,T=bY.getHoverListener,bO=bY.getMaxMinute,q=bY.getMinMinute,bM=bY.timePosition,R=bY.getIsCellAllDay,bC=bY.colContentLeft,b6=bY.colContentRight,E=bY.cellToDate,h=bY.getColCnt,bL=bY.getColWidth,bF=bY.getSnapHeight,j=bY.getSnapMinutes,bE=bY.getSlotContainer,t=bY.reportEventElement,u=bY.showEvents,e=bY.hideEvents,bH=bY.eventDrop,bN=bY.eventResize,C=bY.renderDayOverlay,bD=bY.clearOverlays,l=bY.renderDayEvents,d=bY.calendar,bQ=d.formatDate,bJ=d.formatDates;bY.draggableDayEvent=bS}function aa(a){var c,d=bc(a),b=d[0];if(by(d),b){for(c=0;b.length>c;c++){bn(b[c])}for(c=0;b.length>c;c++){aH(b[c],0,0)}}return aA(d)}function bc(c){var f,g,d,b=[];for(f=0;c.length>f;f++){for(g=c[f],d=0;b.length>d&&br(g,b[d]).length;d++){}(b[d]||(b[d]=[])).push(g)}return b}function by(c){var f,h,d,b,g;for(f=0;c.length>f;f++){for(h=c[f],d=0;h.length>d;d++){for(b=h[d],b.forwardSegs=[],g=f+1;c.length>g;g++){br(b,c[g],b.forwardSegs)}}}}function bn(c){var f,d,b=c.forwardSegs,e=0;if(c.forwardPressure===aK){for(f=0;b.length>f;f++){d=b[f],bn(d),e=Math.max(e,1+d.forwardPressure)}c.forwardPressure=e}}function aH(c,f,d){var b,e=c.forwardSegs;if(c.forwardCoord===aK){for(e.length?(e.sort(au),aH(e[0],f+1,d),c.forwardCoord=e[0].backwardCoord):c.forwardCoord=1,c.backwardCoord=c.forwardCoord-(c.forwardCoord-d)/(f+1),b=0;e.length>b;b++){aH(e[b],0,c.forwardCoord)}}}function aA(c){var f,g,d,b=[];for(f=0;c.length>f;f++){for(g=c[f],d=0;g.length>d;d++){b.push(g[d])}}return b}function br(a,c,d){d=d||[];for(var b=0;c.length>b;b++){bx(a,c[b])&&d.push(c[b])}return d}function bx(a,b){return a.end>b.start&&a.start<b.end}function au(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||aN(a,b)}function aN(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function bw(b1,bX,ca){function b0(b,c){var a=l[b];return aq.isPlainObject(a)?a2(a,c||ca):a}function b5(a,b){return bX.trigger.apply(bX,[a,b||cb].concat(Array.prototype.slice.call(arguments,2),[cb]))}function bW(a){var b=a.source||{};return aT(a.startEditable,b.startEditable,b0("eventStartEditable"),a.editable,b.editable,b0("editable"))&&!b0("disableDragging")}function b8(a){var b=a.source||{};return aT(a.durationEditable,b.durationEditable,b0("eventDurationEditable"),a.editable,b.editable,b0("editable"))&&!b0("disableResizing")}function b7(a){b4={};var c,f,b=a.length;for(c=0;b>c;c++){f=a[c],b4[f._id]?b4[f._id].push(f):b4[f._id]=[f]}}function bV(){b4={},bH={},bG=[]}function b6(a){return a.end?aL(a.end):bY(a)}function bZ(a,b){bG.push({event:a,element:b}),bH[a._id]?bH[a._id].push(b):bH[a._id]=[b]}function b2(){aq.each(bG,function(a,b){cb.trigger("eventDestroy",b.event,b.event,b.element)})}function bS(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?aK:b5("eventClick",this,a,c)}).hover(function(c){b5("eventMouseover",this,a,c)},function(c){b5("eventMouseout",this,a,c)})}function bU(a,b){bM(a,b,"show")}function b9(a,b){bM(a,b,"hide")}function bM(c,g,j){var f,b=bH[c._id],i=b.length;for(f=0;i>f;f++){g&&b[f][0]==g[0]||b[f][j]()}}function bN(p,j,g,b,m,f,q){var i=j.allDay,k=j._id;bL(b4[k],g,b,m),b5("eventDrop",p,j,g,b,m,function(){bL(b4[k],-g,-b,i),bO(k)},f,q),bO(k)}function bD(c,i,k,g,b,j){var f=i._id;P(b4[f],k,g),b5("eventResize",c,i,k,g,function(){P(b4[f],-k,-g),bO(f)},b,j),bO(f)}function bL(f,m,j,b){j=j||0;for(var k,c=f.length,g=0;c>g;g++){k=f[g],b!==aK&&(k.allDay=b),ap(aC(k.start,m,!0),j),k.end&&(k.end=ap(aC(k.end,m,!0),j)),e(k,l)}}function P(c,g,j){j=j||0;for(var f,b=c.length,i=0;b>i;i++){f=c[i],f.end=ap(aC(b6(f),g,!0),j),e(f,l)}}function u(a){return"object"==typeof a&&(a=a.getDay()),bJ[a]}function bT(){return t}function b3(a,b,c){for(b=b||1;bJ[(a.getDay()+(c?b:0)+7)%7];){aC(a,b)}}function bI(){var a=bK.apply(null,arguments),b=X(a),c=bC(b);return c}function bK(c,g){var j=cb.getColCnt(),f=bF?-1:1,b=bF?j-1:0;"object"==typeof c&&(g=c.col,c=c.row);var i=c*j+(g*f+b);return i}function X(a){var b=cb.visStart.getDay();return a+=bQ[b],7*Math.floor(a/t)+ae[(a%t+t)%t]-b}function bC(a){var b=aL(cb.visStart);return aC(b,a),b}function bR(a){var c=h(a),f=bP(c),b=be(f);return b}function h(a){return aG(a,cb.visStart)}function bP(a){var b=cb.visStart.getDay();return a+=b,Math.floor(a/7)*t+bQ[(a%7+7)%7]-bQ[b]}function be(c){var g=cb.getColCnt(),j=bF?-1:1,f=bF?g-1:0,b=Math.floor(c/g),i=(c%g+g)%g*j+f;return{row:b,col:i}}function bE(q,I){for(var B=cb.getRowCnt(),x=cb.getColCnt(),L=[],A=h(q),E=h(I),w=bP(A),D=bP(E)-1,K=0;B>K;K++){var k=K*x,H=k+x-1,J=Math.max(w,k),j=Math.min(D,H);if(j>=J){var F=be(J),G=be(j),z=[F.col,G.col].sort(),C=X(J)==A,b=X(j)+1==E;L.push({row:K,leftCol:z[0],rightCol:z[1],isStart:C,isEnd:b})}}return L}var cb=this;cb.element=b1,cb.calendar=bX,cb.name=ca,cb.opt=b0,cb.trigger=b5,cb.isEventDraggable=bW,cb.isEventResizable=b8,cb.setEventData=b7,cb.clearEventData=bV,cb.eventEnd=b6,cb.reportEventElement=bZ,cb.triggerEventDestroy=b2,cb.eventElementHandlers=bS,cb.showEvents=bU,cb.hideEvents=b9,cb.eventDrop=bN,cb.eventResize=bD;var bY=cb.defaultEventEnd,e=bX.normalizeEvent,bO=bX.reportEventChange,b4={},bH={},bG=[],l=bX.options;cb.isHiddenDay=u,cb.skipHiddenDays=b3,cb.getCellsPerWeek=bT,cb.dateToCell=bR,cb.dateToDayOffset=h,cb.dayOffsetToCellOffset=bP,cb.cellOffsetToCell=be,cb.cellToDate=bI,cb.cellToCellOffset=bK,cb.cellOffsetToDayOffset=X,cb.dayOffsetToDate=bC,cb.rangeToSegments=bE;var t,d=b0("hiddenDays")||[],bJ=[],bQ=[],ae=[],bF=b0("isRTL");(function(){b0("weekends")===!1&&d.push(0,6);for(var a=0,b=0;7>a;a++){bQ[a]=b,bJ[a]=-1!=aq.inArray(a,d),bJ[a]||(ae[b]=a,b++)}if(t=b,!t){throw"invalid hiddenDays"}})()}function ag(){function b8(a,b){var c=bZ(a,!1,!0);a4(c,function(f,g){bD(f.event,g)}),bV(c,b),a4(c,function(f,g){b4("eventAfterRender",f.event,f.event,g)})}function b2(c,f,i){var b=bZ([c],!0,!1),g=[];return a4(b,function(a,e){a.row===f&&e.css("top",i),g.push(e[0])}),g}function bZ(g,p,f){var k,a,m=h(),i=p?aq("<div/>"):m,b=cc(g);return b5(b),k=bY(b),i[0].innerHTML=k,a=i.children(),p&&m.append(a),bX(b,a),a4(b,function(c,n){c.hsides=am(n,!0)}),a4(b,function(c,n){n.width(Math.max(0,c.outerWidth-c.hsides))}),a4(b,function(c,n){c.outerHeight=n.outerHeight(!0)}),b7(b,f),b}function cc(a){for(var c=[],f=0;a.length>f;f++){var b=b1(a[f]);c.push.apply(c,b)}return c}function b1(c){for(var g=c.start,i=bk(c),f=cb(g,i),b=0;f.length>b;b++){f[b].event=c}return f}function b5(f){for(var m=C("isRTL"),u=0;f.length>u;u++){var k=f[u],b=(m?k.isEnd:k.isStart)?t:j,p=(m?k.isStart:k.isEnd)?x:bG,c=b(k.leftCol),g=p(k.rightCol);k.left=c,k.outerWidth=g-c}}function bY(a){for(var b="",c=0;a.length>c;c++){b+=b9(a[c])}return b}function b9(f){var k="",p=C("isRTL"),g=f.event,b=g.url,m=["fc-event","fc-event-hori"];bI(g)&&m.push("fc-event-draggable"),f.isStart&&m.push("fc-event-start"),f.isEnd&&m.push("fc-event-end"),m=m.concat(g.className),g.source&&(m=m.concat(g.source.className||[]));var c=aE(g,C);return k+=b?"<a href='"+av(b)+"'":"<div",k+=" class='"+m.join(" ")+"' style='position:absolute;left:"+f.left+"px;"+c+"'><div class='fc-event-inner'>",!g.allDay&&f.isStart&&(k+="<span class='fc-event-time'>"+av(bJ(g.start,g.end,C("timeFormat")))+"</span>"),k+="<span class='fc-event-title'>"+av(g.title||"")+"</span></div>",f.isEnd&&bK(g)&&(k+="<div class='ui-resizable-handle ui-resizable-"+(p?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),k+="</"+(b?"a":"div")+">"}function bX(k,p){for(var g=0;k.length>g;g++){var b=k[g],m=b.event,c=p.eq(g),f=b4("eventRender",m,m,c);f===!1?c.remove():(f&&f!==!0&&(f=aq(f).css({position:"absolute",left:b.left}),c.replaceWith(f),c=f),b.element=c)}}function b7(c,g){var k=bW(c),f=bT(),b=[];if(g){for(var i=0;f.length>i;i++){f[i].height(k[i])}}for(var i=0;f.length>i;i++){b.push(f[i].position().top)}a4(c,function(a,m){m.css("top",b[a.row]+a.top)})}function bW(z){for(var p=be(),g=bN(),b=[],w=b6(z),f=0;p>f;f++){for(var m=w[f],A=[],k=0;g>k;k++){A.push(0)}for(var v=0;m.length>v;v++){var y=m[v];y.top=a8(A.slice(y.leftCol,y.rightCol+1));for(var k=y.leftCol;y.rightCol>=k;k++){A[k]=y.top+y.outerHeight}}b.push(a8(A))}return b}function b6(c){var g,k,f,b=be(),i=[];for(g=0;c.length>g;g++){k=c[g],f=k.row,k.element&&(i[f]?i[f].push(k):i[f]=[k])}for(f=0;b>f;f++){i[f]=b0(i[f]||[])}return i}function b0(a){for(var c=[],f=b3(a),b=0;f.length>b;b++){c.push.apply(c,f[b])}return c}function b3(c){c.sort(bo);for(var g=[],i=0;c.length>i;i++){for(var f=c[i],b=0;g.length>b&&aj(f,g[b]);b++){}g[b]?g[b].push(f):g[b]=[f]}return g}function bT(){var a,b=be(),c=[];for(a=0;b>a;a++){c[a]=bH(a).find("div.fc-day-content > div")}return c}function bV(a,b){var c=h();a4(a,function(f,i,g){var e=f.event;e._id===b?ca(e,i,f):i[0]._fci=g}),bh(c,a,ca)}function ca(a,b,c){bI(a)&&E.draggableDayEvent(a,b,c),c.isEnd&&bK(a)&&E.resizableDayEvent(a,b,c),bS(a,b)}function bM(a,c){var f,b=l();c.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(e,g){b4("eventDragStart",c,a,e,g),bO(a,c),b.start(function(p,k,u,m){if(c.draggable("option","revert",!p||!u&&!m),Y(),p){var n=d(k),v=d(p);f=aG(v,n),bP(aC(aL(a.start),f),aC(bk(a),f))}else{f=0}},e,"drag")},stop:function(e,g){b.stop(),Y(),b4("eventDragStop",c,a,e,g),f?bC(this,a,f,0,a.allDay,e,g):(c.css("filter",""),q(a,c))}})}function bE(m,k,b){var n=C("isRTL"),f=n?"w":"e",g=k.find(".ui-resizable-"+f),p=!1;aS(k),k.mousedown(function(a){a.preventDefault()}).click(function(a){p&&(a.preventDefault(),a.stopImmediatePropagation())}),g.mousedown(function(z){function i(o){b4("eventResizeStop",this,m,o),aq("body").css("cursor",""),c.stop(),Y(),w&&cd(this,m,w,0,o),setTimeout(function(){p=!1},0)}if(1==z.which){p=!0;var c=l();be(),bN();var w,y,a=k.css("top"),e=aq.extend({},m),r=bQ(bR(m.start));bF(),aq("body").css("cursor",f+"-resize").one("mouseup",i),b4("eventResizeStart",this,m,z),c.start(function(B,D){if(B){var A=bU(D),F=bU(B);if(F=Math.max(F,r),w=bL(F)-bL(A)){e.end=aC(L(m),w,!0);var v=y;y=b2(e,b.row,a),y=aq(y),y.find("*").css("cursor",f+"-resize"),v&&v.remove(),bO(m)}else{y&&(q(m),y.remove(),y=null)}Y(),bP(m.start,aC(bk(m),w))}},z)}})}var E=this;E.renderDayEvents=b8,E.draggableDayEvent=bM,E.resizableDayEvent=bE;var C=E.opt,b4=E.trigger,bI=E.isEventDraggable,bK=E.isEventResizable,L=E.eventEnd,bD=E.reportEventElement,bS=E.eventElementHandlers,q=E.showEvents,bO=E.hideEvents,bC=E.eventDrop,cd=E.eventResize,be=E.getRowCnt,bN=E.getColCnt;E.getColWidth;var bH=E.allDayRow,j=E.colLeft,bG=E.colRight,t=E.colContentLeft,x=E.colContentRight;E.dateToCell;var h=E.getDaySegmentContainer,bJ=E.calendar.formatDates,bP=E.renderDayOverlay,Y=E.clearOverlays,bF=E.clearSelection,l=E.getHoverListener,cb=E.rangeToSegments,d=E.cellToDate,bU=E.cellToCellOffset,bL=E.cellOffsetToDayOffset,bR=E.dateToDayOffset,bQ=E.dayOffsetToCellOffset}function aj(a,c){for(var d=0;c.length>d;d++){var b=c[d];if(b.leftCol<=a.rightCol&&b.rightCol>=a.leftCol){return !0}}return !1}function a4(c,f){for(var g=0;c.length>g;g++){var d=c[g],b=d.element;b&&f(d,b,g)}}function bo(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function ai(){function m(f,i,c){g(),i||(i=h(f,c)),p(f,i,c),b(f,i,c)}function g(a){k&&(k=!1,t(),v("unselect",null,a))}function b(a,f,i,c){k=!0,v("select",null,a,f,i,c)}function q(r){var i=d.cellToDate,n=d.getIsCellAllDay,c=d.getHoverListener(),o=d.reportDayClick;if(1==r.which&&j("selectable")){g(r);var u;c.start(function(a,f){t(),a&&n(a)?(u=[i(f),i(a)].sort(a3),p(u[0],u[1],!0)):u=null},r),aq(document).one("mouseup",function(a){c.stop(),u&&(+u[0]==+u[1]&&o(u[0],!0,a),b(u[0],u[1],!0,a))})}}var d=this;d.select=m,d.unselect=g,d.reportSelection=b,d.daySelectionMousedown=q;var j=d.opt,v=d.trigger,h=d.defaultSelectionEnd,p=d.renderSelection,t=d.clearSelection,k=!1;j("selectable")&&j("unselectAuto")&&aq(document).mousedown(function(c){var a=j("unselectCancel");a&&aq(c.target).parents(a).length||g(c)})}function bp(){function d(h,i){var a=f.shift();return a||(a=aq("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=i[0]&&a.appendTo(i),b.push(a.css(h).show()),a}function g(){for(var a;a=b.shift();){f.push(a.hide().unbind())}}var c=this;c.renderOverlay=d,c.clearOverlays=g;var b=[],f=[]}function bu(a){var c,d,b=this;b.build=function(){c=[],d=[],a(c,d)},b.cell=function(h,k){var f,m=c.length,g=d.length,j=-1,e=-1;for(f=0;m>f;f++){if(k>=c[f][0]&&c[f][1]>k){j=f;break}}for(f=0;g>f;f++){if(h>=d[f][0]&&d[f][1]>h){e=f;break}}return j>=0&&e>=0?{row:j,col:e}:null},b.rect=function(g,j,e,k,f){var h=f.offset();return{top:c[g][0]-h.top,left:d[j][0]-h.left,width:d[k][1]-d[j][0],height:c[e][1]-c[g][0]}}}function ad(g){function j(a){aY(a);var e=g.cell(a.pageX,a.pageY);(!e!=!c||e&&(e.row!=c.row||e.col!=c.col))&&(e?(h||(h=e),b(e,h,e.row-h.row,e.col-h.col)):b(e,h),c=e)}var f,b,h,c,d=this;d.start=function(e,a,i){b=e,h=c=null,g.build(),j(a),f=i||"mousemove",aq(document).bind(f,j)},d.stop=function(){return aq(document).unbind(f,j),c}}function aY(a){a.pageX===aK&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function aB(d){function g(a){return b[a]=b[a]||d(a)}var e=this,b={},f={},c={};e.left=function(a){return f[a]=f[a]===aK?g(a).position().left:f[a]},e.right=function(a){return c[a]=c[a]===aK?e.left(a)+g(a).width():c[a]},e.clear=function(){b={},f={},c={}}}var a6={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},bz={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},ah=aq.fullCalendar={version:"1.6.4"},bB=ah.views={};aq.fn.fullCalendar=function(e){if("string"==typeof e){var b,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=aq.data(this,"fullCalendar");if(f&&aq.isFunction(f[e])){var a=f[e].apply(f,d);b===aK&&(b=a),"destroy"==e&&aq.removeData(this,"fullCalendar")}}),b!==aK?b:this}e=e||{};var c=e.eventSources||[];return delete e.eventSources,e.events&&(c.push(e.events),delete e.events),e=aq.extend(!0,{},a6,e.isRTL||e.isRTL===aK&&a6.isRTL?bz:{},e),this.each(function(h,f){var i=aq(f),g=new at(i,e,c);i.data("fullCalendar",g),g.render()}),this},ah.sourceNormalizers=[],ah.sourceFetchers=[];var bv={dataType:"json",cache:!1},bA=1;ah.addDays=aC,ah.cloneDate=aL,ah.parseDate=aw,ah.parseISO8601=az,ah.parseTime=al,ah.formatDate=an,ah.formatDates=aO;var ab=["sun","mon","tue","wed","thu","fri","sat"],bq=86400000,ac=3600000,af=60000,bs={s:function(a){return a.getSeconds()},ss:function(a){return aQ(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return aQ(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return aQ(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return aQ(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return aQ(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return aQ(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return an(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&20>b?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return bi(a)}};ah.dateFormatters=bs,ah.applyAll=bb,bB.month=ba,bB.basicWeek=aV,bB.basicDay=aW,ay({weekMode:"fixed"}),bB.agendaWeek=bt,bB.agendaDay=a1,ay({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery);